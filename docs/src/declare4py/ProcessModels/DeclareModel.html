<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 12.3.1"/>
    <title>src.declare4py.ProcessModels.DeclareModel API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent }nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .pdoc-alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:1rem center;margin-bottom:1rem;}.pdoc .pdoc-alert > *:last-child{margin-bottom:0;}.pdoc .pdoc-alert-note {color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--code);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>            <a class="pdoc-button module-list-button" href="../ProcessModels.html">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0v-2z"/>
  <path fill-rule="evenodd" d="M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
</svg>                &nbsp;src.declare4py.ProcessModels</a>


            <input type="search" placeholder="Search..." role="searchbox" aria-label="search"
                   pattern=".+" required>



        <h2>API Documentation</h2>
            <ul class="memberlist">
            <li>
                    <a class="class" href="#DeclareModelTemplate">DeclareModelTemplate</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#DeclareModelTemplate.__init__">DeclareModelTemplate</a>
                        </li>
                        <li>
                                <a class="variable" href="#DeclareModelTemplate.EXISTENCE">EXISTENCE</a>
                        </li>
                        <li>
                                <a class="variable" href="#DeclareModelTemplate.ABSENCE">ABSENCE</a>
                        </li>
                        <li>
                                <a class="variable" href="#DeclareModelTemplate.EXACTLY">EXACTLY</a>
                        </li>
                        <li>
                                <a class="variable" href="#DeclareModelTemplate.INIT">INIT</a>
                        </li>
                        <li>
                                <a class="variable" href="#DeclareModelTemplate.CHOICE">CHOICE</a>
                        </li>
                        <li>
                                <a class="variable" href="#DeclareModelTemplate.EXCLUSIVE_CHOICE">EXCLUSIVE_CHOICE</a>
                        </li>
                        <li>
                                <a class="variable" href="#DeclareModelTemplate.RESPONDED_EXISTENCE">RESPONDED_EXISTENCE</a>
                        </li>
                        <li>
                                <a class="variable" href="#DeclareModelTemplate.RESPONSE">RESPONSE</a>
                        </li>
                        <li>
                                <a class="variable" href="#DeclareModelTemplate.ALTERNATE_RESPONSE">ALTERNATE_RESPONSE</a>
                        </li>
                        <li>
                                <a class="variable" href="#DeclareModelTemplate.CHAIN_RESPONSE">CHAIN_RESPONSE</a>
                        </li>
                        <li>
                                <a class="variable" href="#DeclareModelTemplate.PRECEDENCE">PRECEDENCE</a>
                        </li>
                        <li>
                                <a class="variable" href="#DeclareModelTemplate.ALTERNATE_PRECEDENCE">ALTERNATE_PRECEDENCE</a>
                        </li>
                        <li>
                                <a class="variable" href="#DeclareModelTemplate.CHAIN_PRECEDENCE">CHAIN_PRECEDENCE</a>
                        </li>
                        <li>
                                <a class="variable" href="#DeclareModelTemplate.SUCCESSION">SUCCESSION</a>
                        </li>
                        <li>
                                <a class="variable" href="#DeclareModelTemplate.ALTERNATE_SUCCESSION">ALTERNATE_SUCCESSION</a>
                        </li>
                        <li>
                                <a class="variable" href="#DeclareModelTemplate.CO_EXISTENCE">CO_EXISTENCE</a>
                        </li>
                        <li>
                                <a class="variable" href="#DeclareModelTemplate.CHAIN_SUCCESSION">CHAIN_SUCCESSION</a>
                        </li>
                        <li>
                                <a class="variable" href="#DeclareModelTemplate.NOT_CHAIN_SUCCESSION">NOT_CHAIN_SUCCESSION</a>
                        </li>
                        <li>
                                <a class="variable" href="#DeclareModelTemplate.NOT_CO_EXISTENCE">NOT_CO_EXISTENCE</a>
                        </li>
                        <li>
                                <a class="variable" href="#DeclareModelTemplate.NOT_SUCCESSION">NOT_SUCCESSION</a>
                        </li>
                        <li>
                                <a class="variable" href="#DeclareModelTemplate.NOT_RESPONDED_EXISTENCE">NOT_RESPONDED_EXISTENCE</a>
                        </li>
                        <li>
                                <a class="variable" href="#DeclareModelTemplate.NOT_RESPONSE">NOT_RESPONSE</a>
                        </li>
                        <li>
                                <a class="variable" href="#DeclareModelTemplate.NOT_PRECEDENCE">NOT_PRECEDENCE</a>
                        </li>
                        <li>
                                <a class="variable" href="#DeclareModelTemplate.NOT_CHAIN_RESPONSE">NOT_CHAIN_RESPONSE</a>
                        </li>
                        <li>
                                <a class="variable" href="#DeclareModelTemplate.NOT_CHAIN_PRECEDENCE">NOT_CHAIN_PRECEDENCE</a>
                        </li>
                        <li>
                                <a class="function" href="#DeclareModelTemplate.get_template_from_string">get_template_from_string</a>
                        </li>
                        <li>
                                <a class="function" href="#DeclareModelTemplate.get_unary_templates">get_unary_templates</a>
                        </li>
                        <li>
                                <a class="function" href="#DeclareModelTemplate.get_binary_templates">get_binary_templates</a>
                        </li>
                        <li>
                                <a class="function" href="#DeclareModelTemplate.get_positive_templates">get_positive_templates</a>
                        </li>
                        <li>
                                <a class="function" href="#DeclareModelTemplate.get_negative_templates">get_negative_templates</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#DeclareModelConditionParserUtility">DeclareModelConditionParserUtility</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#DeclareModelConditionParserUtility.__init__">DeclareModelConditionParserUtility</a>
                        </li>
                        <li>
                                <a class="function" href="#DeclareModelConditionParserUtility.parse_data_cond">parse_data_cond</a>
                        </li>
                        <li>
                                <a class="function" href="#DeclareModelConditionParserUtility.parse_time_cond">parse_time_cond</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#DeclareModelAttributeType">DeclareModelAttributeType</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#DeclareModelAttributeType.INTEGER">INTEGER</a>
                        </li>
                        <li>
                                <a class="variable" href="#DeclareModelAttributeType.FLOAT">FLOAT</a>
                        </li>
                        <li>
                                <a class="variable" href="#DeclareModelAttributeType.INTEGER_RANGE">INTEGER_RANGE</a>
                        </li>
                        <li>
                                <a class="variable" href="#DeclareModelAttributeType.FLOAT_RANGE">FLOAT_RANGE</a>
                        </li>
                        <li>
                                <a class="variable" href="#DeclareModelAttributeType.ENUMERATION">ENUMERATION</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#DeclareModelEvent">DeclareModelEvent</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#DeclareModelEvent.update_props">update_props</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#DeclareModelTemplateDataModel">DeclareModelTemplateDataModel</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#DeclareModelTemplateDataModel.get_conditions">get_conditions</a>
                        </li>
                        <li>
                                <a class="function" href="#DeclareModelTemplateDataModel.get_active_condition">get_active_condition</a>
                        </li>
                        <li>
                                <a class="function" href="#DeclareModelTemplateDataModel.get_target_condition">get_target_condition</a>
                        </li>
                        <li>
                                <a class="function" href="#DeclareModelTemplateDataModel.get_time_condition">get_time_condition</a>
                        </li>
                        <li>
                                <a class="function" href="#DeclareModelTemplateDataModel.contains_interval_condition">contains_interval_condition</a>
                        </li>
                        <li>
                                <a class="function" href="#DeclareModelTemplateDataModel.set_conditions">set_conditions</a>
                        </li>
                        <li>
                                <a class="function" href="#DeclareModelTemplateDataModel.update_props">update_props</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#DeclareParsedDataModel">DeclareParsedDataModel</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#DeclareParsedDataModel.add_event">add_event</a>
                        </li>
                        <li>
                                <a class="function" href="#DeclareParsedDataModel.add_attribute">add_attribute</a>
                        </li>
                        <li>
                                <a class="function" href="#DeclareParsedDataModel.add_attribute_value">add_attribute_value</a>
                        </li>
                        <li>
                                <a class="function" href="#DeclareParsedDataModel.get_float_biggest_precision">get_float_biggest_precision</a>
                        </li>
                        <li>
                                <a class="function" href="#DeclareParsedDataModel.add_template">add_template</a>
                        </li>
                        <li>
                                <a class="function" href="#DeclareParsedDataModel.update_props">update_props</a>
                        </li>
                        <li>
                                <a class="function" href="#DeclareParsedDataModel.encode">encode</a>
                        </li>
                        <li>
                                <a class="function" href="#DeclareParsedDataModel.decode_value">decode_value</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#DeclareModelCoder">DeclareModelCoder</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#DeclareModelCoder.__init__">DeclareModelCoder</a>
                        </li>
                        <li>
                                <a class="function" href="#DeclareModelCoder.encode">encode</a>
                        </li>
                        <li>
                                <a class="function" href="#DeclareModelCoder.encode_attributes_list">encode_attributes_list</a>
                        </li>
                        <li>
                                <a class="function" href="#DeclareModelCoder.parsed_condition">parsed_condition</a>
                        </li>
                        <li>
                                <a class="function" href="#DeclareModelCoder.encode_event_name">encode_event_name</a>
                        </li>
                        <li>
                                <a class="function" href="#DeclareModelCoder.encode_event_type">encode_event_type</a>
                        </li>
                        <li>
                                <a class="function" href="#DeclareModelCoder.encode_enum_list">encode_enum_list</a>
                        </li>
                        <li>
                                <a class="function" href="#DeclareModelCoder.encode_str_list">encode_str_list</a>
                        </li>
                        <li>
                                <a class="function" href="#DeclareModelCoder.encode_value">encode_value</a>
                        </li>
                        <li>
                                <a class="function" href="#DeclareModelCoder.decode_value">decode_value</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#DeclareModel">DeclareModel</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#DeclareModel.__init__">DeclareModel</a>
                        </li>
                        <li>
                                <a class="function" href="#DeclareModel.set_constraints">set_constraints</a>
                        </li>
                        <li>
                                <a class="function" href="#DeclareModel.get_decl_model_constraints">get_decl_model_constraints</a>
                        </li>
                        <li>
                                <a class="function" href="#DeclareModel.parse_from_string">parse_from_string</a>
                        </li>
                        <li>
                                <a class="function" href="#DeclareModel.parse_from_file">parse_from_file</a>
                        </li>
                        <li>
                                <a class="function" href="#DeclareModel.parse">parse</a>
                        </li>
                        <li>
                                <a class="function" href="#DeclareModel.is_event_name_definition">is_event_name_definition</a>
                        </li>
                        <li>
                                <a class="function" href="#DeclareModel.is_event_attributes_definition">is_event_attributes_definition</a>
                        </li>
                        <li>
                                <a class="function" href="#DeclareModel.is_events_attrs_value_definition">is_events_attrs_value_definition</a>
                        </li>
                        <li>
                                <a class="function" href="#DeclareModel.is_constraint_template_definition">is_constraint_template_definition</a>
                        </li>
                        <li>
                                <a class="function" href="#DeclareModel.detect_declare_attr_value_type">detect_declare_attr_value_type</a>
                        </li>
                </ul>

            </li>
    </ul>



        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
src<wbr>.<a href="./../../declare4py.html">declare4py</a><wbr>.<a href="./../ProcessModels.html">ProcessModels</a><wbr>.DeclareModel    </h1>

                
                        <input id="mod-DeclareModel-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-DeclareModel-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos">  1</span></a><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos">  2</span></a>
</span><span id="L-3"><a href="#L-3"><span class="linenos">  3</span></a><span class="kn">import</span> <span class="nn">base64</span>
</span><span id="L-4"><a href="#L-4"><span class="linenos">  4</span></a><span class="kn">import</span> <span class="nn">copy</span>
</span><span id="L-5"><a href="#L-5"><span class="linenos">  5</span></a><span class="kn">import</span> <span class="nn">pdb</span>
</span><span id="L-6"><a href="#L-6"><span class="linenos">  6</span></a><span class="kn">import</span> <span class="nn">re</span>
</span><span id="L-7"><a href="#L-7"><span class="linenos">  7</span></a><span class="kn">from</span> <span class="nn">enum</span> <span class="kn">import</span> <span class="n">Enum</span>
</span><span id="L-8"><a href="#L-8"><span class="linenos">  8</span></a><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">List</span><span class="p">,</span> <span class="n">Union</span>
</span><span id="L-9"><a href="#L-9"><span class="linenos">  9</span></a>
</span><span id="L-10"><a href="#L-10"><span class="linenos"> 10</span></a><span class="kn">from</span> <span class="nn">src.declare4py.ProcessModels.LTLModel</span> <span class="kn">import</span> <span class="n">LTLModel</span>
</span><span id="L-11"><a href="#L-11"><span class="linenos"> 11</span></a><span class="kn">from</span> <span class="nn">src.declare4py.Utils.custom_utility_dict</span> <span class="kn">import</span> <span class="n">CustomUtilityDict</span>
</span><span id="L-12"><a href="#L-12"><span class="linenos"> 12</span></a>
</span><span id="L-13"><a href="#L-13"><span class="linenos"> 13</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-14"><a href="#L-14"><span class="linenos"> 14</span></a><span class="sd">Class which holds most of the Constraint Template List with some information about templates themself.</span>
</span><span id="L-15"><a href="#L-15"><span class="linenos"> 15</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-16"><a href="#L-16"><span class="linenos"> 16</span></a>
</span><span id="L-17"><a href="#L-17"><span class="linenos"> 17</span></a>
</span><span id="L-18"><a href="#L-18"><span class="linenos"> 18</span></a><span class="k">class</span> <span class="nc">DeclareModelTemplate</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">Enum</span><span class="p">):</span>
</span><span id="L-19"><a href="#L-19"><span class="linenos"> 19</span></a>
</span><span id="L-20"><a href="#L-20"><span class="linenos"> 20</span></a>    <span class="k">def</span> <span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
</span><span id="L-21"><a href="#L-21"><span class="linenos"> 21</span></a>        <span class="n">value</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">__members__</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
</span><span id="L-22"><a href="#L-22"><span class="linenos"> 22</span></a>        <span class="n">obj</span> <span class="o">=</span> <span class="nb">str</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>
</span><span id="L-23"><a href="#L-23"><span class="linenos"> 23</span></a>        <span class="n">obj</span><span class="o">.</span><span class="n">_value_</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="L-24"><a href="#L-24"><span class="linenos"> 24</span></a>        <span class="k">return</span> <span class="n">obj</span>
</span><span id="L-25"><a href="#L-25"><span class="linenos"> 25</span></a>
</span><span id="L-26"><a href="#L-26"><span class="linenos"> 26</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">templ_str</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">is_binary</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">is_negative</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
</span><span id="L-27"><a href="#L-27"><span class="linenos"> 27</span></a>                 <span class="n">supports_cardinality</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
</span><span id="L-28"><a href="#L-28"><span class="linenos"> 28</span></a>                 <span class="n">both_activation_condition</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
</span><span id="L-29"><a href="#L-29"><span class="linenos"> 29</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-30"><a href="#L-30"><span class="linenos"> 30</span></a>
</span><span id="L-31"><a href="#L-31"><span class="linenos"> 31</span></a><span class="sd">        Parameters</span>
</span><span id="L-32"><a href="#L-32"><span class="linenos"> 32</span></a><span class="sd">        ----------</span>
</span><span id="L-33"><a href="#L-33"><span class="linenos"> 33</span></a><span class="sd">        templ_str: template name</span>
</span><span id="L-34"><a href="#L-34"><span class="linenos"> 34</span></a><span class="sd">        is_binary: whether template supports 2 events</span>
</span><span id="L-35"><a href="#L-35"><span class="linenos"> 35</span></a><span class="sd">        is_negative: whether the template is negative</span>
</span><span id="L-36"><a href="#L-36"><span class="linenos"> 36</span></a><span class="sd">        supports_cardinality: whether template supports cardinality, i.e Existence template is unary</span>
</span><span id="L-37"><a href="#L-37"><span class="linenos"> 37</span></a><span class="sd">         but you can specify a number how many times Existence should occur. &quot;Existence4[A]|||&quot; where 4 times at least occur.</span>
</span><span id="L-38"><a href="#L-38"><span class="linenos"> 38</span></a><span class="sd">        both_activation_condition: some templates doesn&#39;t have target condition, instead both conditions are activation conditions.</span>
</span><span id="L-39"><a href="#L-39"><span class="linenos"> 39</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-40"><a href="#L-40"><span class="linenos"> 40</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">templ_str</span> <span class="o">=</span> <span class="n">templ_str</span>
</span><span id="L-41"><a href="#L-41"><span class="linenos"> 41</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">is_binary</span> <span class="o">=</span> <span class="n">is_binary</span>
</span><span id="L-42"><a href="#L-42"><span class="linenos"> 42</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">is_negative</span> <span class="o">=</span> <span class="n">is_negative</span>
</span><span id="L-43"><a href="#L-43"><span class="linenos"> 43</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">supports_cardinality</span> <span class="o">=</span> <span class="n">supports_cardinality</span>
</span><span id="L-44"><a href="#L-44"><span class="linenos"> 44</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">both_activation_condition</span> <span class="o">=</span> <span class="n">both_activation_condition</span>
</span><span id="L-45"><a href="#L-45"><span class="linenos"> 45</span></a>
</span><span id="L-46"><a href="#L-46"><span class="linenos"> 46</span></a>    <span class="n">EXISTENCE</span> <span class="o">=</span> <span class="s2">&quot;Existence&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span>
</span><span id="L-47"><a href="#L-47"><span class="linenos"> 47</span></a>    <span class="n">ABSENCE</span> <span class="o">=</span> <span class="s2">&quot;Absence&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span>
</span><span id="L-48"><a href="#L-48"><span class="linenos"> 48</span></a>    <span class="n">EXACTLY</span> <span class="o">=</span> <span class="s2">&quot;Exactly&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span>
</span><span id="L-49"><a href="#L-49"><span class="linenos"> 49</span></a>    <span class="n">INIT</span> <span class="o">=</span> <span class="s2">&quot;Init&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span>
</span><span id="L-50"><a href="#L-50"><span class="linenos"> 50</span></a>
</span><span id="L-51"><a href="#L-51"><span class="linenos"> 51</span></a>    <span class="n">CHOICE</span> <span class="o">=</span> <span class="s2">&quot;Choice&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span>
</span><span id="L-52"><a href="#L-52"><span class="linenos"> 52</span></a>    <span class="n">EXCLUSIVE_CHOICE</span> <span class="o">=</span> <span class="s2">&quot;Exclusive Choice&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span>
</span><span id="L-53"><a href="#L-53"><span class="linenos"> 53</span></a>
</span><span id="L-54"><a href="#L-54"><span class="linenos"> 54</span></a>    <span class="n">RESPONDED_EXISTENCE</span> <span class="o">=</span> <span class="s2">&quot;Responded Existence&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span>
</span><span id="L-55"><a href="#L-55"><span class="linenos"> 55</span></a>    <span class="n">RESPONSE</span> <span class="o">=</span> <span class="s2">&quot;Response&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span>
</span><span id="L-56"><a href="#L-56"><span class="linenos"> 56</span></a>    <span class="n">ALTERNATE_RESPONSE</span> <span class="o">=</span> <span class="s2">&quot;Alternate Response&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span>
</span><span id="L-57"><a href="#L-57"><span class="linenos"> 57</span></a>    <span class="n">CHAIN_RESPONSE</span> <span class="o">=</span> <span class="s2">&quot;Chain Response&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span>
</span><span id="L-58"><a href="#L-58"><span class="linenos"> 58</span></a>    <span class="n">PRECEDENCE</span> <span class="o">=</span> <span class="s2">&quot;Precedence&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span>
</span><span id="L-59"><a href="#L-59"><span class="linenos"> 59</span></a>    <span class="n">ALTERNATE_PRECEDENCE</span> <span class="o">=</span> <span class="s2">&quot;Alternate Precedence&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span>
</span><span id="L-60"><a href="#L-60"><span class="linenos"> 60</span></a>    <span class="n">CHAIN_PRECEDENCE</span> <span class="o">=</span> <span class="s2">&quot;Chain Precedence&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span>
</span><span id="L-61"><a href="#L-61"><span class="linenos"> 61</span></a>    <span class="c1"># response(A, b) and precedence(a, b) = succession(a, b)</span>
</span><span id="L-62"><a href="#L-62"><span class="linenos"> 62</span></a>
</span><span id="L-63"><a href="#L-63"><span class="linenos"> 63</span></a>    <span class="c1"># responded_existence(A, b) and responded_existence(b, a) = coexistence(a, b)</span>
</span><span id="L-64"><a href="#L-64"><span class="linenos"> 64</span></a>    <span class="n">SUCCESSION</span> <span class="o">=</span> <span class="s2">&quot;Succession&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span>  <span class="c1"># TODO: check if it is defined correct</span>
</span><span id="L-65"><a href="#L-65"><span class="linenos"> 65</span></a>    <span class="n">ALTERNATE_SUCCESSION</span> <span class="o">=</span> <span class="s2">&quot;Alternate Succession&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span>  <span class="c1"># TODO: check whether it is defined correct</span>
</span><span id="L-66"><a href="#L-66"><span class="linenos"> 66</span></a>    <span class="n">CO_EXISTENCE</span> <span class="o">=</span> <span class="s2">&quot;Co-Existence&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span>  <span class="c1"># TODO: check whether it is defined correct, I dont think this one is correct</span>
</span><span id="L-67"><a href="#L-67"><span class="linenos"> 67</span></a>    <span class="n">CHAIN_SUCCESSION</span> <span class="o">=</span> <span class="s2">&quot;Chain Succession&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span>  <span class="c1"># TODO: check whether it is defined correct</span>
</span><span id="L-68"><a href="#L-68"><span class="linenos"> 68</span></a>    <span class="n">NOT_CHAIN_SUCCESSION</span> <span class="o">=</span> <span class="s2">&quot;Not Chain Succession&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span>  <span class="c1"># TODO: check whether it is defined correct</span>
</span><span id="L-69"><a href="#L-69"><span class="linenos"> 69</span></a>    <span class="n">NOT_CO_EXISTENCE</span> <span class="o">=</span> <span class="s2">&quot;Not Co-Existence&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span>  <span class="c1"># TODO: check whether it is defined correct, I dont think this one is correct</span>
</span><span id="L-70"><a href="#L-70"><span class="linenos"> 70</span></a>    <span class="n">NOT_SUCCESSION</span> <span class="o">=</span> <span class="s2">&quot;Not Succession&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span>  <span class="c1"># TODO: check if it is defined correct</span>
</span><span id="L-71"><a href="#L-71"><span class="linenos"> 71</span></a>
</span><span id="L-72"><a href="#L-72"><span class="linenos"> 72</span></a>    <span class="n">NOT_RESPONDED_EXISTENCE</span> <span class="o">=</span> <span class="s2">&quot;Not Responded Existence&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span>
</span><span id="L-73"><a href="#L-73"><span class="linenos"> 73</span></a>    <span class="n">NOT_RESPONSE</span> <span class="o">=</span> <span class="s2">&quot;Not Response&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span>
</span><span id="L-74"><a href="#L-74"><span class="linenos"> 74</span></a>    <span class="n">NOT_PRECEDENCE</span> <span class="o">=</span> <span class="s2">&quot;Not Precedence&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span>
</span><span id="L-75"><a href="#L-75"><span class="linenos"> 75</span></a>    <span class="n">NOT_CHAIN_RESPONSE</span> <span class="o">=</span> <span class="s2">&quot;Not Chain Response&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span>
</span><span id="L-76"><a href="#L-76"><span class="linenos"> 76</span></a>    <span class="n">NOT_CHAIN_PRECEDENCE</span> <span class="o">=</span> <span class="s2">&quot;Not Chain Precedence&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span>
</span><span id="L-77"><a href="#L-77"><span class="linenos"> 77</span></a>
</span><span id="L-78"><a href="#L-78"><span class="linenos"> 78</span></a>    <span class="nd">@classmethod</span>
</span><span id="L-79"><a href="#L-79"><span class="linenos"> 79</span></a>    <span class="k">def</span> <span class="nf">get_template_from_string</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">template_str</span><span class="p">):</span>
</span><span id="L-80"><a href="#L-80"><span class="linenos"> 80</span></a>        <span class="k">return</span> <span class="nb">next</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">t</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">templ_str</span> <span class="o">==</span> <span class="n">template_str</span><span class="p">,</span> <span class="n">DeclareModelTemplate</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="L-81"><a href="#L-81"><span class="linenos"> 81</span></a>
</span><span id="L-82"><a href="#L-82"><span class="linenos"> 82</span></a>    <span class="nd">@classmethod</span>
</span><span id="L-83"><a href="#L-83"><span class="linenos"> 83</span></a>    <span class="k">def</span> <span class="nf">get_unary_templates</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
</span><span id="L-84"><a href="#L-84"><span class="linenos"> 84</span></a>        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">t</span><span class="p">:</span> <span class="ow">not</span> <span class="n">t</span><span class="o">.</span><span class="n">is_binary</span><span class="p">,</span> <span class="n">DeclareModelTemplate</span><span class="p">))</span>
</span><span id="L-85"><a href="#L-85"><span class="linenos"> 85</span></a>
</span><span id="L-86"><a href="#L-86"><span class="linenos"> 86</span></a>    <span class="nd">@classmethod</span>
</span><span id="L-87"><a href="#L-87"><span class="linenos"> 87</span></a>    <span class="k">def</span> <span class="nf">get_binary_templates</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
</span><span id="L-88"><a href="#L-88"><span class="linenos"> 88</span></a>        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">t</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">is_binary</span><span class="p">,</span> <span class="n">DeclareModelTemplate</span><span class="p">))</span>
</span><span id="L-89"><a href="#L-89"><span class="linenos"> 89</span></a>
</span><span id="L-90"><a href="#L-90"><span class="linenos"> 90</span></a>    <span class="nd">@classmethod</span>
</span><span id="L-91"><a href="#L-91"><span class="linenos"> 91</span></a>    <span class="k">def</span> <span class="nf">get_positive_templates</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
</span><span id="L-92"><a href="#L-92"><span class="linenos"> 92</span></a>        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">t</span><span class="p">:</span> <span class="ow">not</span> <span class="n">t</span><span class="o">.</span><span class="n">is_negative</span><span class="p">,</span> <span class="n">DeclareModelTemplate</span><span class="p">))</span>
</span><span id="L-93"><a href="#L-93"><span class="linenos"> 93</span></a>
</span><span id="L-94"><a href="#L-94"><span class="linenos"> 94</span></a>    <span class="nd">@classmethod</span>
</span><span id="L-95"><a href="#L-95"><span class="linenos"> 95</span></a>    <span class="k">def</span> <span class="nf">get_negative_templates</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
</span><span id="L-96"><a href="#L-96"><span class="linenos"> 96</span></a>        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">t</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">is_negative</span><span class="p">,</span> <span class="n">DeclareModelTemplate</span><span class="p">))</span>
</span><span id="L-97"><a href="#L-97"><span class="linenos"> 97</span></a>
</span><span id="L-98"><a href="#L-98"><span class="linenos"> 98</span></a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-99"><a href="#L-99"><span class="linenos"> 99</span></a>        <span class="k">return</span> <span class="s2">&quot;&lt;Template.&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">templ_str</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; &gt;&quot;</span>
</span><span id="L-100"><a href="#L-100"><span class="linenos">100</span></a>
</span><span id="L-101"><a href="#L-101"><span class="linenos">101</span></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-102"><a href="#L-102"><span class="linenos">102</span></a>        <span class="k">return</span> <span class="s2">&quot;</span><span class="se">\&quot;</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="fm">__str__</span><span class="p">())</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\&quot;</span><span class="s2">&quot;</span>
</span><span id="L-103"><a href="#L-103"><span class="linenos">103</span></a>
</span><span id="L-104"><a href="#L-104"><span class="linenos">104</span></a>
</span><span id="L-105"><a href="#L-105"><span class="linenos">105</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-106"><a href="#L-106"><span class="linenos">106</span></a><span class="sd">Class for backward-compatibility for some older code which contains two methods for declare models.</span>
</span><span id="L-107"><a href="#L-107"><span class="linenos">107</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-108"><a href="#L-108"><span class="linenos">108</span></a>
</span><span id="L-109"><a href="#L-109"><span class="linenos">109</span></a>
</span><span id="L-110"><a href="#L-110"><span class="linenos">110</span></a><span class="k">class</span> <span class="nc">DeclareModelConditionParserUtility</span><span class="p">:</span>
</span><span id="L-111"><a href="#L-111"><span class="linenos">111</span></a>
</span><span id="L-112"><a href="#L-112"><span class="linenos">112</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-113"><a href="#L-113"><span class="linenos">113</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
</span><span id="L-114"><a href="#L-114"><span class="linenos">114</span></a>
</span><span id="L-115"><a href="#L-115"><span class="linenos">115</span></a>    <span class="k">def</span> <span class="nf">parse_data_cond</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cond</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>  <span class="c1"># TODO: could be improved using recursion ?</span>
</span><span id="L-116"><a href="#L-116"><span class="linenos">116</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-117"><a href="#L-117"><span class="linenos">117</span></a>            <span class="n">cond</span> <span class="o">=</span> <span class="n">cond</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="L-118"><a href="#L-118"><span class="linenos">118</span></a>            <span class="k">if</span> <span class="n">cond</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
</span><span id="L-119"><a href="#L-119"><span class="linenos">119</span></a>                <span class="k">return</span> <span class="s2">&quot;True&quot;</span>
</span><span id="L-120"><a href="#L-120"><span class="linenos">120</span></a>            <span class="c1"># List containing translations from decl format to python</span>
</span><span id="L-121"><a href="#L-121"><span class="linenos">121</span></a>            <span class="n">py_cond</span><span class="p">,</span> <span class="n">fill_enum_set</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
</span><span id="L-122"><a href="#L-122"><span class="linenos">122</span></a>            <span class="k">while</span> <span class="n">cond</span><span class="p">:</span>
</span><span id="L-123"><a href="#L-123"><span class="linenos">123</span></a>                <span class="k">if</span> <span class="n">cond</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;(&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">cond</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;)&quot;</span><span class="p">):</span>
</span><span id="L-124"><a href="#L-124"><span class="linenos">124</span></a>                    <span class="n">py_cond</span> <span class="o">=</span> <span class="n">py_cond</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">cond</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="L-125"><a href="#L-125"><span class="linenos">125</span></a>                    <span class="n">cond</span> <span class="o">=</span> <span class="n">cond</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">lstrip</span><span class="p">()</span>
</span><span id="L-126"><a href="#L-126"><span class="linenos">126</span></a>                    <span class="n">fill_enum_set</span> <span class="o">=</span> <span class="n">py_cond</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot; in (&quot;</span><span class="p">)</span>
</span><span id="L-127"><a href="#L-127"><span class="linenos">127</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="L-128"><a href="#L-128"><span class="linenos">128</span></a>                    <span class="k">if</span> <span class="ow">not</span> <span class="n">fill_enum_set</span><span class="p">:</span>
</span><span id="L-129"><a href="#L-129"><span class="linenos">129</span></a>                        <span class="n">next_word</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[\s()]+&#39;</span><span class="p">,</span> <span class="n">cond</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="L-130"><a href="#L-130"><span class="linenos">130</span></a>                        <span class="n">cond</span> <span class="o">=</span> <span class="n">cond</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">next_word</span><span class="p">):]</span><span class="o">.</span><span class="n">lstrip</span><span class="p">()</span>
</span><span id="L-131"><a href="#L-131"><span class="linenos">131</span></a>                        <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^[AaTt]\.&#39;</span><span class="p">,</span> <span class="n">next_word</span><span class="p">):</span>  <span class="c1"># A. conditions</span>
</span><span id="L-132"><a href="#L-132"><span class="linenos">132</span></a>                            <span class="n">py_cond</span> <span class="o">=</span> <span class="n">py_cond</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="s1">&#39;&quot;&#39;</span> <span class="o">+</span> <span class="n">next_word</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span> <span class="o">+</span> <span class="s1">&#39;&quot; in &#39;</span> <span class="o">+</span> <span class="n">next_word</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> \
</span><span id="L-133"><a href="#L-133"><span class="linenos">133</span></a>                                      <span class="o">+</span> <span class="s2">&quot; and &quot;</span> <span class="o">+</span> <span class="n">next_word</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;[&quot;&#39;</span> <span class="o">+</span> <span class="n">next_word</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span> <span class="o">+</span> <span class="s1">&#39;&quot;]&#39;</span>
</span><span id="L-134"><a href="#L-134"><span class="linenos">134</span></a>                        <span class="k">elif</span> <span class="n">next_word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;is&quot;</span><span class="p">:</span>
</span><span id="L-135"><a href="#L-135"><span class="linenos">135</span></a>                            <span class="k">if</span> <span class="n">cond</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;not&quot;</span><span class="p">):</span>
</span><span id="L-136"><a href="#L-136"><span class="linenos">136</span></a>                                <span class="n">cond</span> <span class="o">=</span> <span class="n">cond</span><span class="p">[</span><span class="mi">3</span><span class="p">:]</span><span class="o">.</span><span class="n">lstrip</span><span class="p">()</span>
</span><span id="L-137"><a href="#L-137"><span class="linenos">137</span></a>                                <span class="n">py_cond</span> <span class="o">=</span> <span class="n">py_cond</span> <span class="o">+</span> <span class="s2">&quot; !=&quot;</span>
</span><span id="L-138"><a href="#L-138"><span class="linenos">138</span></a>                            <span class="k">else</span><span class="p">:</span>
</span><span id="L-139"><a href="#L-139"><span class="linenos">139</span></a>                                <span class="n">py_cond</span> <span class="o">=</span> <span class="n">py_cond</span> <span class="o">+</span> <span class="s2">&quot; ==&quot;</span>
</span><span id="L-140"><a href="#L-140"><span class="linenos">140</span></a>                            <span class="n">tmp</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-141"><a href="#L-141"><span class="linenos">141</span></a>                            <span class="k">while</span> <span class="n">cond</span> <span class="ow">and</span> <span class="ow">not</span> <span class="p">(</span><span class="n">cond</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;)&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">cond</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;and&#39;</span><span class="p">)</span>
</span><span id="L-142"><a href="#L-142"><span class="linenos">142</span></a>                                                <span class="ow">or</span> <span class="n">cond</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;or&#39;</span><span class="p">)):</span>
</span><span id="L-143"><a href="#L-143"><span class="linenos">143</span></a>                                <span class="n">w</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[\s()]+&#39;</span><span class="p">,</span> <span class="n">cond</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="L-144"><a href="#L-144"><span class="linenos">144</span></a>                                <span class="n">cond</span> <span class="o">=</span> <span class="n">cond</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">w</span><span class="p">):]</span><span class="o">.</span><span class="n">lstrip</span><span class="p">()</span>
</span><span id="L-145"><a href="#L-145"><span class="linenos">145</span></a>                                <span class="n">tmp</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
</span><span id="L-146"><a href="#L-146"><span class="linenos">146</span></a>                            <span class="n">attr</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tmp</span><span class="p">)</span>
</span><span id="L-147"><a href="#L-147"><span class="linenos">147</span></a>                            <span class="n">py_cond</span> <span class="o">+=</span> <span class="s1">&#39; &quot;&#39;</span> <span class="o">+</span> <span class="n">attr</span> <span class="o">+</span> <span class="s1">&#39;&quot;&#39;</span>
</span><span id="L-148"><a href="#L-148"><span class="linenos">148</span></a>                        <span class="k">elif</span> <span class="n">next_word</span> <span class="o">==</span> <span class="s2">&quot;=&quot;</span><span class="p">:</span>
</span><span id="L-149"><a href="#L-149"><span class="linenos">149</span></a>                            <span class="n">py_cond</span> <span class="o">=</span> <span class="n">py_cond</span> <span class="o">+</span> <span class="s2">&quot; ==&quot;</span>
</span><span id="L-150"><a href="#L-150"><span class="linenos">150</span></a>                        <span class="k">elif</span> <span class="n">next_word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;and&quot;</span> <span class="ow">or</span> <span class="n">next_word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;or&quot;</span><span class="p">:</span>
</span><span id="L-151"><a href="#L-151"><span class="linenos">151</span></a>                            <span class="n">py_cond</span> <span class="o">=</span> <span class="n">py_cond</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">next_word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
</span><span id="L-152"><a href="#L-152"><span class="linenos">152</span></a>                        <span class="k">elif</span> <span class="n">next_word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;same&quot;</span><span class="p">:</span>
</span><span id="L-153"><a href="#L-153"><span class="linenos">153</span></a>                            <span class="n">tmp</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-154"><a href="#L-154"><span class="linenos">154</span></a>                            <span class="k">while</span> <span class="n">cond</span> <span class="ow">and</span> <span class="ow">not</span> <span class="p">(</span><span class="n">cond</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;)&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">cond</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;and&#39;</span><span class="p">)</span>
</span><span id="L-155"><a href="#L-155"><span class="linenos">155</span></a>                                                <span class="ow">or</span> <span class="n">cond</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;or&#39;</span><span class="p">)):</span>
</span><span id="L-156"><a href="#L-156"><span class="linenos">156</span></a>                                <span class="n">w</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[\s()]+&#39;</span><span class="p">,</span> <span class="n">cond</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="L-157"><a href="#L-157"><span class="linenos">157</span></a>                                <span class="n">cond</span> <span class="o">=</span> <span class="n">cond</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">w</span><span class="p">):]</span><span class="o">.</span><span class="n">lstrip</span><span class="p">()</span>
</span><span id="L-158"><a href="#L-158"><span class="linenos">158</span></a>                                <span class="n">tmp</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
</span><span id="L-159"><a href="#L-159"><span class="linenos">159</span></a>                            <span class="n">attr</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tmp</span><span class="p">)</span>
</span><span id="L-160"><a href="#L-160"><span class="linenos">160</span></a>                            <span class="n">py_cond</span> <span class="o">=</span> <span class="n">py_cond</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">attr</span> <span class="o">+</span> <span class="s2">&quot; in A and &quot;</span> <span class="o">+</span> <span class="n">attr</span> <span class="o">+</span> <span class="s2">&quot; in T &quot;</span> \
</span><span id="L-161"><a href="#L-161"><span class="linenos">161</span></a>                                      <span class="o">+</span> <span class="s1">&#39;and A[&quot;&#39;</span> <span class="o">+</span> <span class="n">attr</span> <span class="o">+</span> <span class="s1">&#39;&quot;] == T[&quot;&#39;</span> <span class="o">+</span> <span class="n">attr</span> <span class="o">+</span> <span class="s1">&#39;&quot;]&#39;</span>
</span><span id="L-162"><a href="#L-162"><span class="linenos">162</span></a>                        <span class="k">elif</span> <span class="n">next_word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;different&quot;</span><span class="p">:</span>
</span><span id="L-163"><a href="#L-163"><span class="linenos">163</span></a>                            <span class="n">tmp</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-164"><a href="#L-164"><span class="linenos">164</span></a>                            <span class="k">while</span> <span class="n">cond</span> <span class="ow">and</span> <span class="ow">not</span> <span class="p">(</span><span class="n">cond</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;)&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">cond</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;and&#39;</span><span class="p">)</span>
</span><span id="L-165"><a href="#L-165"><span class="linenos">165</span></a>                                                <span class="ow">or</span> <span class="n">cond</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;or&#39;</span><span class="p">)):</span>
</span><span id="L-166"><a href="#L-166"><span class="linenos">166</span></a>                                <span class="n">w</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[\s()]+&#39;</span><span class="p">,</span> <span class="n">cond</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="L-167"><a href="#L-167"><span class="linenos">167</span></a>                                <span class="n">cond</span> <span class="o">=</span> <span class="n">cond</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">w</span><span class="p">):]</span><span class="o">.</span><span class="n">lstrip</span><span class="p">()</span>
</span><span id="L-168"><a href="#L-168"><span class="linenos">168</span></a>                                <span class="n">tmp</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
</span><span id="L-169"><a href="#L-169"><span class="linenos">169</span></a>                            <span class="n">attr</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tmp</span><span class="p">)</span>
</span><span id="L-170"><a href="#L-170"><span class="linenos">170</span></a>                            <span class="n">py_cond</span> <span class="o">=</span> <span class="n">py_cond</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">attr</span> <span class="o">+</span> <span class="s2">&quot; in A and &quot;</span> <span class="o">+</span> <span class="n">attr</span> <span class="o">+</span> <span class="s2">&quot; in T &quot;</span> \
</span><span id="L-171"><a href="#L-171"><span class="linenos">171</span></a>                                      <span class="o">+</span> <span class="s1">&#39;and A[&quot;&#39;</span> <span class="o">+</span> <span class="n">attr</span> <span class="o">+</span> <span class="s1">&#39;&quot;] != T[&quot;&#39;</span> <span class="o">+</span> <span class="n">attr</span> <span class="o">+</span> <span class="s1">&#39;&quot;]&#39;</span>
</span><span id="L-172"><a href="#L-172"><span class="linenos">172</span></a>                        <span class="k">elif</span> <span class="n">next_word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;true&quot;</span><span class="p">:</span>
</span><span id="L-173"><a href="#L-173"><span class="linenos">173</span></a>                            <span class="n">py_cond</span> <span class="o">=</span> <span class="n">py_cond</span> <span class="o">+</span> <span class="s2">&quot; True&quot;</span>
</span><span id="L-174"><a href="#L-174"><span class="linenos">174</span></a>                        <span class="k">elif</span> <span class="n">next_word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;false&quot;</span><span class="p">:</span>
</span><span id="L-175"><a href="#L-175"><span class="linenos">175</span></a>                            <span class="n">py_cond</span> <span class="o">=</span> <span class="n">py_cond</span> <span class="o">+</span> <span class="s2">&quot; False&quot;</span>
</span><span id="L-176"><a href="#L-176"><span class="linenos">176</span></a>                        <span class="k">else</span><span class="p">:</span>
</span><span id="L-177"><a href="#L-177"><span class="linenos">177</span></a>                            <span class="n">py_cond</span> <span class="o">=</span> <span class="n">py_cond</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">next_word</span>
</span><span id="L-178"><a href="#L-178"><span class="linenos">178</span></a>                    <span class="k">else</span><span class="p">:</span>
</span><span id="L-179"><a href="#L-179"><span class="linenos">179</span></a>                        <span class="n">end_idx</span> <span class="o">=</span> <span class="n">cond</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;)&#39;</span><span class="p">)</span>
</span><span id="L-180"><a href="#L-180"><span class="linenos">180</span></a>                        <span class="n">enum_set</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;,\s+&#39;</span><span class="p">,</span> <span class="n">cond</span><span class="p">[:</span><span class="n">end_idx</span><span class="p">])</span>
</span><span id="L-181"><a href="#L-181"><span class="linenos">181</span></a>                        <span class="n">enum_set</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">enum_set</span><span class="p">]</span>
</span><span id="L-182"><a href="#L-182"><span class="linenos">182</span></a>
</span><span id="L-183"><a href="#L-183"><span class="linenos">183</span></a>                        <span class="n">py_cond</span> <span class="o">=</span> <span class="n">py_cond</span> <span class="o">+</span> <span class="s1">&#39; &quot;&#39;</span> <span class="o">+</span> <span class="s1">&#39;&quot;, &quot;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">enum_set</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;&quot;&#39;</span>
</span><span id="L-184"><a href="#L-184"><span class="linenos">184</span></a>                        <span class="n">cond</span> <span class="o">=</span> <span class="n">cond</span><span class="p">[</span><span class="n">end_idx</span><span class="p">:]</span><span class="o">.</span><span class="n">lstrip</span><span class="p">()</span>
</span><span id="L-185"><a href="#L-185"><span class="linenos">185</span></a>
</span><span id="L-186"><a href="#L-186"><span class="linenos">186</span></a>            <span class="k">return</span> <span class="n">py_cond</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="L-187"><a href="#L-187"><span class="linenos">187</span></a>        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
</span><span id="L-188"><a href="#L-188"><span class="linenos">188</span></a>            <span class="k">raise</span> <span class="ne">SyntaxError</span>
</span><span id="L-189"><a href="#L-189"><span class="linenos">189</span></a>
</span><span id="L-190"><a href="#L-190"><span class="linenos">190</span></a>    <span class="k">def</span> <span class="nf">parse_time_cond</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">condition</span><span class="p">):</span>
</span><span id="L-191"><a href="#L-191"><span class="linenos">191</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-192"><a href="#L-192"><span class="linenos">192</span></a>            <span class="k">if</span> <span class="n">condition</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
</span><span id="L-193"><a href="#L-193"><span class="linenos">193</span></a>                <span class="n">condition</span> <span class="o">=</span> <span class="s2">&quot;True&quot;</span>
</span><span id="L-194"><a href="#L-194"><span class="linenos">194</span></a>                <span class="k">return</span> <span class="n">condition</span>
</span><span id="L-195"><a href="#L-195"><span class="linenos">195</span></a>            <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\s*,\s*&#39;</span><span class="p">,</span> <span class="n">condition</span><span class="o">.</span><span class="n">strip</span><span class="p">())[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;s&quot;</span><span class="p">:</span>
</span><span id="L-196"><a href="#L-196"><span class="linenos">196</span></a>                <span class="n">time_measure</span> <span class="o">=</span> <span class="s2">&quot;seconds&quot;</span>
</span><span id="L-197"><a href="#L-197"><span class="linenos">197</span></a>            <span class="k">elif</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\s*,\s*&#39;</span><span class="p">,</span> <span class="n">condition</span><span class="o">.</span><span class="n">strip</span><span class="p">())[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;m&quot;</span><span class="p">:</span>
</span><span id="L-198"><a href="#L-198"><span class="linenos">198</span></a>                <span class="n">time_measure</span> <span class="o">=</span> <span class="s2">&quot;minutes&quot;</span>
</span><span id="L-199"><a href="#L-199"><span class="linenos">199</span></a>            <span class="k">elif</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\s*,\s*&#39;</span><span class="p">,</span> <span class="n">condition</span><span class="o">.</span><span class="n">strip</span><span class="p">())[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;h&quot;</span><span class="p">:</span>
</span><span id="L-200"><a href="#L-200"><span class="linenos">200</span></a>                <span class="n">time_measure</span> <span class="o">=</span> <span class="s2">&quot;hours&quot;</span>
</span><span id="L-201"><a href="#L-201"><span class="linenos">201</span></a>            <span class="k">elif</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\s*,\s*&#39;</span><span class="p">,</span> <span class="n">condition</span><span class="o">.</span><span class="n">strip</span><span class="p">())[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;d&quot;</span><span class="p">:</span>
</span><span id="L-202"><a href="#L-202"><span class="linenos">202</span></a>                <span class="n">time_measure</span> <span class="o">=</span> <span class="s2">&quot;days&quot;</span>
</span><span id="L-203"><a href="#L-203"><span class="linenos">203</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-204"><a href="#L-204"><span class="linenos">204</span></a>                <span class="n">time_measure</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-205"><a href="#L-205"><span class="linenos">205</span></a>
</span><span id="L-206"><a href="#L-206"><span class="linenos">206</span></a>            <span class="n">min_td</span> <span class="o">=</span> <span class="s2">&quot;timedelta(&quot;</span> <span class="o">+</span> <span class="n">time_measure</span> <span class="o">+</span> <span class="s2">&quot;=float(&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">condition</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot;))&quot;</span>
</span><span id="L-207"><a href="#L-207"><span class="linenos">207</span></a>            <span class="n">max_td</span> <span class="o">=</span> <span class="s2">&quot;timedelta(&quot;</span> <span class="o">+</span> <span class="n">time_measure</span> <span class="o">+</span> <span class="s2">&quot;=float(&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">condition</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot;))&quot;</span>
</span><span id="L-208"><a href="#L-208"><span class="linenos">208</span></a>
</span><span id="L-209"><a href="#L-209"><span class="linenos">209</span></a>            <span class="n">condition</span> <span class="o">=</span> <span class="n">min_td</span> <span class="o">+</span> <span class="s1">&#39; &lt;= abs(A[&quot;time:timestamp&quot;] - T[&quot;time:timestamp&quot;]) &lt;= &#39;</span> <span class="o">+</span> <span class="n">max_td</span>
</span><span id="L-210"><a href="#L-210"><span class="linenos">210</span></a>            <span class="k">return</span> <span class="n">condition</span>
</span><span id="L-211"><a href="#L-211"><span class="linenos">211</span></a>
</span><span id="L-212"><a href="#L-212"><span class="linenos">212</span></a>        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
</span><span id="L-213"><a href="#L-213"><span class="linenos">213</span></a>            <span class="k">raise</span> <span class="ne">SyntaxError</span>
</span><span id="L-214"><a href="#L-214"><span class="linenos">214</span></a>
</span><span id="L-215"><a href="#L-215"><span class="linenos">215</span></a>
</span><span id="L-216"><a href="#L-216"><span class="linenos">216</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-217"><a href="#L-217"><span class="linenos">217</span></a><span class="sd">An Enum class that specifies types of attributes of the Declare model</span>
</span><span id="L-218"><a href="#L-218"><span class="linenos">218</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-219"><a href="#L-219"><span class="linenos">219</span></a>
</span><span id="L-220"><a href="#L-220"><span class="linenos">220</span></a>
</span><span id="L-221"><a href="#L-221"><span class="linenos">221</span></a><span class="k">class</span> <span class="nc">DeclareModelAttributeType</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">Enum</span><span class="p">):</span>
</span><span id="L-222"><a href="#L-222"><span class="linenos">222</span></a>    <span class="n">INTEGER</span> <span class="o">=</span> <span class="s2">&quot;integer&quot;</span>
</span><span id="L-223"><a href="#L-223"><span class="linenos">223</span></a>    <span class="n">FLOAT</span> <span class="o">=</span> <span class="s2">&quot;float&quot;</span>
</span><span id="L-224"><a href="#L-224"><span class="linenos">224</span></a>    <span class="n">INTEGER_RANGE</span> <span class="o">=</span> <span class="s2">&quot;integer_range&quot;</span>
</span><span id="L-225"><a href="#L-225"><span class="linenos">225</span></a>    <span class="n">FLOAT_RANGE</span> <span class="o">=</span> <span class="s2">&quot;float_range&quot;</span>
</span><span id="L-226"><a href="#L-226"><span class="linenos">226</span></a>    <span class="n">ENUMERATION</span> <span class="o">=</span> <span class="s2">&quot;enumeration&quot;</span>
</span><span id="L-227"><a href="#L-227"><span class="linenos">227</span></a>
</span><span id="L-228"><a href="#L-228"><span class="linenos">228</span></a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-229"><a href="#L-229"><span class="linenos">229</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span>
</span><span id="L-230"><a href="#L-230"><span class="linenos">230</span></a>
</span><span id="L-231"><a href="#L-231"><span class="linenos">231</span></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-232"><a href="#L-232"><span class="linenos">232</span></a>        <span class="k">return</span> <span class="s2">&quot;</span><span class="se">\&quot;</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\&quot;</span><span class="s2">&quot;</span>
</span><span id="L-233"><a href="#L-233"><span class="linenos">233</span></a>
</span><span id="L-234"><a href="#L-234"><span class="linenos">234</span></a>
</span><span id="L-235"><a href="#L-235"><span class="linenos">235</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-236"><a href="#L-236"><span class="linenos">236</span></a>
</span><span id="L-237"><a href="#L-237"><span class="linenos">237</span></a><span class="sd">A data model contains the information about activity such as name of that activity and its attributes.</span>
</span><span id="L-238"><a href="#L-238"><span class="linenos">238</span></a>
</span><span id="L-239"><a href="#L-239"><span class="linenos">239</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-240"><a href="#L-240"><span class="linenos">240</span></a>
</span><span id="L-241"><a href="#L-241"><span class="linenos">241</span></a>
</span><span id="L-242"><a href="#L-242"><span class="linenos">242</span></a><span class="k">class</span> <span class="nc">DeclareModelEvent</span><span class="p">(</span><span class="n">CustomUtilityDict</span><span class="p">):</span>
</span><span id="L-243"><a href="#L-243"><span class="linenos">243</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-244"><a href="#L-244"><span class="linenos">244</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
</span><span id="L-245"><a href="#L-245"><span class="linenos">245</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>  <span class="c1"># name of the activity/fact</span>
</span><span id="L-246"><a href="#L-246"><span class="linenos">246</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">event_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>  <span class="c1"># type of fact, can be activity, trace.</span>
</span><span id="L-247"><a href="#L-247"><span class="linenos">247</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">attributes</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-248"><a href="#L-248"><span class="linenos">248</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">update_props</span><span class="p">()</span>
</span><span id="L-249"><a href="#L-249"><span class="linenos">249</span></a>
</span><span id="L-250"><a href="#L-250"><span class="linenos">250</span></a>    <span class="k">def</span> <span class="nf">update_props</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-251"><a href="#L-251"><span class="linenos">251</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">key_value</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
</span><span id="L-252"><a href="#L-252"><span class="linenos">252</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">key_value</span><span class="p">[</span><span class="s2">&quot;event_type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">event_type</span>
</span><span id="L-253"><a href="#L-253"><span class="linenos">253</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">key_value</span><span class="p">[</span><span class="s2">&quot;attributes&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">attributes</span>
</span><span id="L-254"><a href="#L-254"><span class="linenos">254</span></a>
</span><span id="L-255"><a href="#L-255"><span class="linenos">255</span></a>
</span><span id="L-256"><a href="#L-256"><span class="linenos">256</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-257"><a href="#L-257"><span class="linenos">257</span></a><span class="sd">A data model class which contains information about a parsed template constraint.</span>
</span><span id="L-258"><a href="#L-258"><span class="linenos">258</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-259"><a href="#L-259"><span class="linenos">259</span></a>
</span><span id="L-260"><a href="#L-260"><span class="linenos">260</span></a>
</span><span id="L-261"><a href="#L-261"><span class="linenos">261</span></a><span class="k">class</span> <span class="nc">DeclareModelTemplateDataModel</span><span class="p">(</span><span class="n">CustomUtilityDict</span><span class="p">):</span>
</span><span id="L-262"><a href="#L-262"><span class="linenos">262</span></a>
</span><span id="L-263"><a href="#L-263"><span class="linenos">263</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-264"><a href="#L-264"><span class="linenos">264</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
</span><span id="L-265"><a href="#L-265"><span class="linenos">265</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">template</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">DeclareModelTemplate</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-266"><a href="#L-266"><span class="linenos">266</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">activities</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-267"><a href="#L-267"><span class="linenos">267</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">condition</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-268"><a href="#L-268"><span class="linenos">268</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">template_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-269"><a href="#L-269"><span class="linenos">269</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">template_line</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span>  <span class="c1"># Constraint lines</span>
</span><span id="L-270"><a href="#L-270"><span class="linenos">270</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">condition_line</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span>  <span class="c1"># |A.grade &lt; 2  | T.mark &gt; 2|1,5,s</span>
</span><span id="L-271"><a href="#L-271"><span class="linenos">271</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">violate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-272"><a href="#L-272"><span class="linenos">272</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">template_index_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-273"><a href="#L-273"><span class="linenos">273</span></a>
</span><span id="L-274"><a href="#L-274"><span class="linenos">274</span></a>    <span class="k">def</span> <span class="nf">get_conditions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-275"><a href="#L-275"><span class="linenos">275</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_active_condition</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_target_condition</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_time_condition</span><span class="p">()</span>
</span><span id="L-276"><a href="#L-276"><span class="linenos">276</span></a>
</span><span id="L-277"><a href="#L-277"><span class="linenos">277</span></a>    <span class="k">def</span> <span class="nf">get_active_condition</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-278"><a href="#L-278"><span class="linenos">278</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">condition</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-279"><a href="#L-279"><span class="linenos">279</span></a>            <span class="n">c</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">condition</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="L-280"><a href="#L-280"><span class="linenos">280</span></a>            <span class="k">return</span> <span class="n">c</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="kc">None</span>
</span><span id="L-281"><a href="#L-281"><span class="linenos">281</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span><span id="L-282"><a href="#L-282"><span class="linenos">282</span></a>
</span><span id="L-283"><a href="#L-283"><span class="linenos">283</span></a>    <span class="k">def</span> <span class="nf">get_target_condition</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-284"><a href="#L-284"><span class="linenos">284</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">condition</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="L-285"><a href="#L-285"><span class="linenos">285</span></a>            <span class="n">cond_at_1_idx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">condition</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</span><span id="L-286"><a href="#L-286"><span class="linenos">286</span></a>            <span class="n">time_int</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;^[\d.]+,?([\d.]+)?[,]?(s|m|d|h)$&quot;</span>
</span><span id="L-287"><a href="#L-287"><span class="linenos">287</span></a>            <span class="n">is_matched</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">time_int</span><span class="p">,</span> <span class="n">cond_at_1_idx</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">)</span>
</span><span id="L-288"><a href="#L-288"><span class="linenos">288</span></a>            <span class="k">if</span> <span class="n">is_matched</span><span class="p">:</span>
</span><span id="L-289"><a href="#L-289"><span class="linenos">289</span></a>                <span class="k">return</span> <span class="kc">None</span>
</span><span id="L-290"><a href="#L-290"><span class="linenos">290</span></a>            <span class="n">c</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">condition</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</span><span id="L-291"><a href="#L-291"><span class="linenos">291</span></a>            <span class="k">return</span> <span class="n">c</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="kc">None</span>
</span><span id="L-292"><a href="#L-292"><span class="linenos">292</span></a>            <span class="c1"># return self.condition[1]</span>
</span><span id="L-293"><a href="#L-293"><span class="linenos">293</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span><span id="L-294"><a href="#L-294"><span class="linenos">294</span></a>
</span><span id="L-295"><a href="#L-295"><span class="linenos">295</span></a>    <span class="k">def</span> <span class="nf">get_time_condition</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-296"><a href="#L-296"><span class="linenos">296</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">contains_interval_condition</span><span class="p">():</span>
</span><span id="L-297"><a href="#L-297"><span class="linenos">297</span></a>            <span class="n">c</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">condition</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
</span><span id="L-298"><a href="#L-298"><span class="linenos">298</span></a>            <span class="k">return</span> <span class="n">c</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="kc">None</span>
</span><span id="L-299"><a href="#L-299"><span class="linenos">299</span></a>            <span class="c1"># return self.condition[2]</span>
</span><span id="L-300"><a href="#L-300"><span class="linenos">300</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span><span id="L-301"><a href="#L-301"><span class="linenos">301</span></a>
</span><span id="L-302"><a href="#L-302"><span class="linenos">302</span></a>    <span class="k">def</span> <span class="nf">contains_interval_condition</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="L-303"><a href="#L-303"><span class="linenos">303</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">condition</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-304"><a href="#L-304"><span class="linenos">304</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-305"><a href="#L-305"><span class="linenos">305</span></a>        <span class="n">len_</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">condition</span><span class="p">)</span>
</span><span id="L-306"><a href="#L-306"><span class="linenos">306</span></a>        <span class="k">if</span> <span class="n">len_</span> <span class="o">!=</span> <span class="mi">3</span><span class="p">:</span>
</span><span id="L-307"><a href="#L-307"><span class="linenos">307</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-308"><a href="#L-308"><span class="linenos">308</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="L-309"><a href="#L-309"><span class="linenos">309</span></a>        <span class="c1"># if self.condition_line is None:</span>
</span><span id="L-310"><a href="#L-310"><span class="linenos">310</span></a>        <span class="c1">#     return False</span>
</span><span id="L-311"><a href="#L-311"><span class="linenos">311</span></a>        <span class="c1"># parts = self.condition_line.strip(&quot;|&quot;).split(&quot;|&quot;)</span>
</span><span id="L-312"><a href="#L-312"><span class="linenos">312</span></a>        <span class="c1"># if len(parts) == 3:</span>
</span><span id="L-313"><a href="#L-313"><span class="linenos">313</span></a>        <span class="c1">#     time_int = r&quot;^[\d.]+,?([\d.]+)?[,]?(s|m|d|h)$&quot;</span>
</span><span id="L-314"><a href="#L-314"><span class="linenos">314</span></a>        <span class="c1">#     return re.search(time, parts, re.IGNORECASE)</span>
</span><span id="L-315"><a href="#L-315"><span class="linenos">315</span></a>        <span class="c1"># return False</span>
</span><span id="L-316"><a href="#L-316"><span class="linenos">316</span></a>
</span><span id="L-317"><a href="#L-317"><span class="linenos">317</span></a>    <span class="k">def</span> <span class="nf">set_conditions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cond_str</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="L-318"><a href="#L-318"><span class="linenos">318</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-319"><a href="#L-319"><span class="linenos">319</span></a><span class="sd">        set the cond_str</span>
</span><span id="L-320"><a href="#L-320"><span class="linenos">320</span></a><span class="sd">        Parameters</span>
</span><span id="L-321"><a href="#L-321"><span class="linenos">321</span></a><span class="sd">        ----------</span>
</span><span id="L-322"><a href="#L-322"><span class="linenos">322</span></a><span class="sd">        cond_str: substring after Teample[x,y] from line &quot;Teample[x,y] |...|...|..&quot;. thus, cond_str= |...|...|..</span>
</span><span id="L-323"><a href="#L-323"><span class="linenos">323</span></a>
</span><span id="L-324"><a href="#L-324"><span class="linenos">324</span></a><span class="sd">        Returns</span>
</span><span id="L-325"><a href="#L-325"><span class="linenos">325</span></a><span class="sd">        -------</span>
</span><span id="L-326"><a href="#L-326"><span class="linenos">326</span></a>
</span><span id="L-327"><a href="#L-327"><span class="linenos">327</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-328"><a href="#L-328"><span class="linenos">328</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">condition_line</span> <span class="o">=</span> <span class="n">cond_str</span>
</span><span id="L-329"><a href="#L-329"><span class="linenos">329</span></a>        <span class="n">conditions</span> <span class="o">=</span> <span class="n">cond_str</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot;|&quot;</span><span class="p">)</span>
</span><span id="L-330"><a href="#L-330"><span class="linenos">330</span></a>        <span class="n">conds_list</span> <span class="o">=</span> <span class="n">conditions</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;|&quot;</span><span class="p">)</span>
</span><span id="L-331"><a href="#L-331"><span class="linenos">331</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">condition</span> <span class="o">=</span> <span class="p">[</span><span class="n">cl</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">cl</span> <span class="ow">in</span> <span class="n">conds_list</span><span class="p">]</span>
</span><span id="L-332"><a href="#L-332"><span class="linenos">332</span></a>
</span><span id="L-333"><a href="#L-333"><span class="linenos">333</span></a>    <span class="k">def</span> <span class="nf">update_props</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-334"><a href="#L-334"><span class="linenos">334</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-335"><a href="#L-335"><span class="linenos">335</span></a><span class="sd">        Updates the _dict, so it has updated values when any dict op is occurred</span>
</span><span id="L-336"><a href="#L-336"><span class="linenos">336</span></a><span class="sd">        Returns</span>
</span><span id="L-337"><a href="#L-337"><span class="linenos">337</span></a><span class="sd">        -------</span>
</span><span id="L-338"><a href="#L-338"><span class="linenos">338</span></a>
</span><span id="L-339"><a href="#L-339"><span class="linenos">339</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-340"><a href="#L-340"><span class="linenos">340</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">key_value</span><span class="p">[</span><span class="s2">&quot;template&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">template</span>
</span><span id="L-341"><a href="#L-341"><span class="linenos">341</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">key_value</span><span class="p">[</span><span class="s2">&quot;activities&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">activities</span>
</span><span id="L-342"><a href="#L-342"><span class="linenos">342</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">key_value</span><span class="p">[</span><span class="s2">&quot;condition&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">condition</span>
</span><span id="L-343"><a href="#L-343"><span class="linenos">343</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">key_value</span><span class="p">[</span><span class="s2">&quot;template_name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">template_name</span>
</span><span id="L-344"><a href="#L-344"><span class="linenos">344</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">key_value</span><span class="p">[</span><span class="s2">&quot;template_name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">template_name</span>
</span><span id="L-345"><a href="#L-345"><span class="linenos">345</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">key_value</span><span class="p">[</span><span class="s2">&quot;violate&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">violate</span>
</span><span id="L-346"><a href="#L-346"><span class="linenos">346</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">key_value</span><span class="p">[</span><span class="s2">&quot;condition_line&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">condition_line</span>
</span><span id="L-347"><a href="#L-347"><span class="linenos">347</span></a>
</span><span id="L-348"><a href="#L-348"><span class="linenos">348</span></a>
</span><span id="L-349"><a href="#L-349"><span class="linenos">349</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-350"><a href="#L-350"><span class="linenos">350</span></a><span class="sd">DeclareParsedModel is dictionary type based class or it is a data model</span>
</span><span id="L-351"><a href="#L-351"><span class="linenos">351</span></a><span class="sd">which contains the information of about declare model which is parsed.</span>
</span><span id="L-352"><a href="#L-352"><span class="linenos">352</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-353"><a href="#L-353"><span class="linenos">353</span></a>
</span><span id="L-354"><a href="#L-354"><span class="linenos">354</span></a>
</span><span id="L-355"><a href="#L-355"><span class="linenos">355</span></a><span class="k">class</span> <span class="nc">DeclareParsedDataModel</span><span class="p">(</span><span class="n">CustomUtilityDict</span><span class="p">):</span>
</span><span id="L-356"><a href="#L-356"><span class="linenos">356</span></a>
</span><span id="L-357"><a href="#L-357"><span class="linenos">357</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-358"><a href="#L-358"><span class="linenos">358</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
</span><span id="L-359"><a href="#L-359"><span class="linenos">359</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">events</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">DeclareModelEvent</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-360"><a href="#L-360"><span class="linenos">360</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">attributes_list</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-361"><a href="#L-361"><span class="linenos">361</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">template_constraints</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-362"><a href="#L-362"><span class="linenos">362</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">templates</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">DeclareModelTemplateDataModel</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-363"><a href="#L-363"><span class="linenos">363</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">encoded_model</span><span class="p">:</span> <span class="n">DeclareModelCoder</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-364"><a href="#L-364"><span class="linenos">364</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">encoder</span><span class="p">:</span> <span class="n">DeclareModelCoder</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-365"><a href="#L-365"><span class="linenos">365</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">update_props</span><span class="p">()</span>
</span><span id="L-366"><a href="#L-366"><span class="linenos">366</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">total_templates</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-367"><a href="#L-367"><span class="linenos">367</span></a>
</span><span id="L-368"><a href="#L-368"><span class="linenos">368</span></a>    <span class="k">def</span> <span class="nf">add_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">event_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-369"><a href="#L-369"><span class="linenos">369</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-370"><a href="#L-370"><span class="linenos">370</span></a><span class="sd">        Add an event to events dictionary if not exists yet.</span>
</span><span id="L-371"><a href="#L-371"><span class="linenos">371</span></a>
</span><span id="L-372"><a href="#L-372"><span class="linenos">372</span></a><span class="sd">        Parameters</span>
</span><span id="L-373"><a href="#L-373"><span class="linenos">373</span></a><span class="sd">        ----------</span>
</span><span id="L-374"><a href="#L-374"><span class="linenos">374</span></a><span class="sd">        name  the name of event or activity</span>
</span><span id="L-375"><a href="#L-375"><span class="linenos">375</span></a><span class="sd">        event_type  the type of the event, generally its &quot;activity&quot;</span>
</span><span id="L-376"><a href="#L-376"><span class="linenos">376</span></a>
</span><span id="L-377"><a href="#L-377"><span class="linenos">377</span></a><span class="sd">        Returns</span>
</span><span id="L-378"><a href="#L-378"><span class="linenos">378</span></a><span class="sd">        -------</span>
</span><span id="L-379"><a href="#L-379"><span class="linenos">379</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-380"><a href="#L-380"><span class="linenos">380</span></a>
</span><span id="L-381"><a href="#L-381"><span class="linenos">381</span></a>        <span class="n">event_name</span><span class="p">,</span> <span class="n">event_type</span> <span class="o">=</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">event_type</span><span class="p">)</span>
</span><span id="L-382"><a href="#L-382"><span class="linenos">382</span></a>        <span class="k">if</span> <span class="n">event_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">events</span><span class="p">:</span>
</span><span id="L-383"><a href="#L-383"><span class="linenos">383</span></a>            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Multiple times the same activity [</span><span class="si">{</span><span class="n">event_name</span><span class="si">}</span><span class="s2">] is declared&quot;</span><span class="p">)</span>
</span><span id="L-384"><a href="#L-384"><span class="linenos">384</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">events</span><span class="p">[</span><span class="n">event_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">DeclareModelEvent</span><span class="p">()</span>
</span><span id="L-385"><a href="#L-385"><span class="linenos">385</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">events</span><span class="p">[</span><span class="n">event_name</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">event_name</span>
</span><span id="L-386"><a href="#L-386"><span class="linenos">386</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">events</span><span class="p">[</span><span class="n">event_name</span><span class="p">]</span><span class="o">.</span><span class="n">event_type</span> <span class="o">=</span> <span class="n">event_type</span>
</span><span id="L-387"><a href="#L-387"><span class="linenos">387</span></a>
</span><span id="L-388"><a href="#L-388"><span class="linenos">388</span></a>    <span class="k">def</span> <span class="nf">add_attribute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">attr_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="L-389"><a href="#L-389"><span class="linenos">389</span></a>        <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="L-390"><a href="#L-390"><span class="linenos">390</span></a><span class="s2">        Add the bounded attribute to the event/activity</span>
</span><span id="L-391"><a href="#L-391"><span class="linenos">391</span></a>
</span><span id="L-392"><a href="#L-392"><span class="linenos">392</span></a><span class="s2">        Parameters</span>
</span><span id="L-393"><a href="#L-393"><span class="linenos">393</span></a><span class="s2">        ----------</span>
</span><span id="L-394"><a href="#L-394"><span class="linenos">394</span></a><span class="s2">        event_name: the name of event that for which the </span><span class="si">{</span><span class="n">attr_name</span><span class="si">}</span><span class="s2"> is bounded to.</span>
</span><span id="L-395"><a href="#L-395"><span class="linenos">395</span></a><span class="s2">        attr_name: attribute name</span>
</span><span id="L-396"><a href="#L-396"><span class="linenos">396</span></a><span class="s2">        Returns</span>
</span><span id="L-397"><a href="#L-397"><span class="linenos">397</span></a><span class="s2">        -------</span>
</span><span id="L-398"><a href="#L-398"><span class="linenos">398</span></a>
</span><span id="L-399"><a href="#L-399"><span class="linenos">399</span></a><span class="s2">        &quot;&quot;&quot;</span>
</span><span id="L-400"><a href="#L-400"><span class="linenos">400</span></a>        <span class="k">if</span> <span class="n">event_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">events</span><span class="p">:</span>
</span><span id="L-401"><a href="#L-401"><span class="linenos">401</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unable to find the event or activity </span><span class="si">{</span><span class="n">event_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-402"><a href="#L-402"><span class="linenos">402</span></a>        <span class="n">dme</span><span class="p">:</span> <span class="n">DeclareModelEvent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">events</span><span class="p">[</span><span class="n">event_name</span><span class="p">]</span>
</span><span id="L-403"><a href="#L-403"><span class="linenos">403</span></a>        <span class="n">attrs</span> <span class="o">=</span> <span class="n">dme</span><span class="o">.</span><span class="n">attributes</span>
</span><span id="L-404"><a href="#L-404"><span class="linenos">404</span></a>        <span class="k">if</span> <span class="n">attrs</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-405"><a href="#L-405"><span class="linenos">405</span></a>            <span class="n">attrs</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-406"><a href="#L-406"><span class="linenos">406</span></a>            <span class="n">dme</span><span class="o">.</span><span class="n">attributes</span> <span class="o">=</span> <span class="n">attrs</span>
</span><span id="L-407"><a href="#L-407"><span class="linenos">407</span></a>        <span class="k">if</span> <span class="n">attr_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">attributes_list</span><span class="p">:</span>
</span><span id="L-408"><a href="#L-408"><span class="linenos">408</span></a>            <span class="n">attrs</span><span class="p">[</span><span class="n">attr_name</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">attributes_list</span><span class="p">[</span><span class="n">attr_name</span><span class="p">]</span>  <span class="c1"># saving the same reference. Same attr cannot have two values</span>
</span><span id="L-409"><a href="#L-409"><span class="linenos">409</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-410"><a href="#L-410"><span class="linenos">410</span></a>            <span class="n">attrs</span><span class="p">[</span><span class="n">attr_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;value_type&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">}</span>
</span><span id="L-411"><a href="#L-411"><span class="linenos">411</span></a>
</span><span id="L-412"><a href="#L-412"><span class="linenos">412</span></a>        <span class="k">if</span> <span class="n">attr_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">attributes_list</span><span class="p">:</span>
</span><span id="L-413"><a href="#L-413"><span class="linenos">413</span></a>            <span class="c1"># we save the reference of attributes in separate list</span>
</span><span id="L-414"><a href="#L-414"><span class="linenos">414</span></a>            <span class="c1"># for improving computation</span>
</span><span id="L-415"><a href="#L-415"><span class="linenos">415</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">attributes_list</span><span class="p">[</span><span class="n">attr_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">attrs</span><span class="p">[</span><span class="n">attr_name</span><span class="p">]</span>
</span><span id="L-416"><a href="#L-416"><span class="linenos">416</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">attributes_list</span><span class="p">[</span><span class="n">attr_name</span><span class="p">][</span><span class="s2">&quot;events_attached&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">event_name</span><span class="p">]</span>
</span><span id="L-417"><a href="#L-417"><span class="linenos">417</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-418"><a href="#L-418"><span class="linenos">418</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">attributes_list</span><span class="p">[</span><span class="n">attr_name</span><span class="p">][</span><span class="s2">&quot;events_attached&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">event_name</span><span class="p">)</span>
</span><span id="L-419"><a href="#L-419"><span class="linenos">419</span></a>
</span><span id="L-420"><a href="#L-420"><span class="linenos">420</span></a>    <span class="k">def</span> <span class="nf">add_attribute_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attr_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">attr_type</span><span class="p">:</span> <span class="n">DeclareModelAttributeType</span><span class="p">,</span> <span class="n">attr_value</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="L-421"><a href="#L-421"><span class="linenos">421</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-422"><a href="#L-422"><span class="linenos">422</span></a><span class="sd">        Adding the attribute information</span>
</span><span id="L-423"><a href="#L-423"><span class="linenos">423</span></a><span class="sd">        Parameters</span>
</span><span id="L-424"><a href="#L-424"><span class="linenos">424</span></a><span class="sd">        ----------</span>
</span><span id="L-425"><a href="#L-425"><span class="linenos">425</span></a><span class="sd">        attr_name: str</span>
</span><span id="L-426"><a href="#L-426"><span class="linenos">426</span></a><span class="sd">        attr_type: DeclareModelAttributeType</span>
</span><span id="L-427"><a href="#L-427"><span class="linenos">427</span></a><span class="sd">        attr_value: str</span>
</span><span id="L-428"><a href="#L-428"><span class="linenos">428</span></a>
</span><span id="L-429"><a href="#L-429"><span class="linenos">429</span></a><span class="sd">        Returns</span>
</span><span id="L-430"><a href="#L-430"><span class="linenos">430</span></a><span class="sd">        -------</span>
</span><span id="L-431"><a href="#L-431"><span class="linenos">431</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-432"><a href="#L-432"><span class="linenos">432</span></a>        <span class="k">if</span> <span class="n">attr_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">attributes_list</span><span class="p">:</span>
</span><span id="L-433"><a href="#L-433"><span class="linenos">433</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unable to find attribute </span><span class="si">{</span><span class="n">attr_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-434"><a href="#L-434"><span class="linenos">434</span></a>        <span class="n">attribute</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">attributes_list</span><span class="p">[</span><span class="n">attr_name</span><span class="p">]</span>
</span><span id="L-435"><a href="#L-435"><span class="linenos">435</span></a>        <span class="n">attribute</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">attr_value</span>
</span><span id="L-436"><a href="#L-436"><span class="linenos">436</span></a>        <span class="n">attribute</span><span class="p">[</span><span class="s2">&quot;value_type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">attr_type</span>
</span><span id="L-437"><a href="#L-437"><span class="linenos">437</span></a>        <span class="k">if</span> <span class="n">attr_type</span> <span class="o">==</span> <span class="n">DeclareModelAttributeType</span><span class="o">.</span><span class="n">FLOAT</span><span class="p">:</span>
</span><span id="L-438"><a href="#L-438"><span class="linenos">438</span></a>            <span class="n">frm</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">attr_value</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>  <span class="c1"># 10.587  # attribute[&quot;range_precision&quot;] = len(frm[1])</span>
</span><span id="L-439"><a href="#L-439"><span class="linenos">439</span></a>            <span class="n">precision</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">frm</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="L-440"><a href="#L-440"><span class="linenos">440</span></a>            <span class="n">attribute</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="mi">10</span> <span class="o">**</span> <span class="n">precision</span><span class="p">)</span> <span class="o">*</span> <span class="n">frm</span><span class="p">)</span>
</span><span id="L-441"><a href="#L-441"><span class="linenos">441</span></a>            <span class="n">attribute</span><span class="p">[</span><span class="s2">&quot;range_precision&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">precision</span>
</span><span id="L-442"><a href="#L-442"><span class="linenos">442</span></a>        <span class="k">elif</span> <span class="n">attr_type</span> <span class="o">==</span> <span class="n">DeclareModelAttributeType</span><span class="o">.</span><span class="n">INTEGER</span><span class="p">:</span>
</span><span id="L-443"><a href="#L-443"><span class="linenos">443</span></a>            <span class="n">attribute</span><span class="p">[</span><span class="s2">&quot;range_precision&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-444"><a href="#L-444"><span class="linenos">444</span></a>
</span><span id="L-445"><a href="#L-445"><span class="linenos">445</span></a>        <span class="k">if</span> <span class="n">attr_type</span> <span class="o">==</span> <span class="n">DeclareModelAttributeType</span><span class="o">.</span><span class="n">FLOAT_RANGE</span> <span class="ow">or</span> <span class="n">attr_type</span> <span class="o">==</span> <span class="n">DeclareModelAttributeType</span><span class="o">.</span><span class="n">INTEGER_RANGE</span><span class="p">:</span>
</span><span id="L-446"><a href="#L-446"><span class="linenos">446</span></a>            <span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;( \d+.?\d*)( and )?(\d+.?\d*)&quot;</span><span class="p">)</span>
</span><span id="L-447"><a href="#L-447"><span class="linenos">447</span></a>            <span class="n">match</span> <span class="o">=</span> <span class="n">pattern</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">attr_value</span><span class="p">)</span>
</span><span id="L-448"><a href="#L-448"><span class="linenos">448</span></a>            <span class="c1"># Extract the float values</span>
</span><span id="L-449"><a href="#L-449"><span class="linenos">449</span></a>            <span class="k">if</span> <span class="n">match</span><span class="p">:</span>
</span><span id="L-450"><a href="#L-450"><span class="linenos">450</span></a>                <span class="p">(</span><span class="n">val1</span><span class="p">,</span> <span class="n">val2</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="L-451"><a href="#L-451"><span class="linenos">451</span></a>                <span class="k">if</span> <span class="n">attr_type</span> <span class="o">==</span> <span class="n">DeclareModelAttributeType</span><span class="o">.</span><span class="n">INTEGER_RANGE</span><span class="p">:</span>
</span><span id="L-452"><a href="#L-452"><span class="linenos">452</span></a>                    <span class="n">val1</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">match</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
</span><span id="L-453"><a href="#L-453"><span class="linenos">453</span></a>                    <span class="n">val2</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">match</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">])</span>
</span><span id="L-454"><a href="#L-454"><span class="linenos">454</span></a>                    <span class="n">attribute</span><span class="p">[</span><span class="s2">&quot;range_precision&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-455"><a href="#L-455"><span class="linenos">455</span></a>                <span class="k">if</span> <span class="n">attr_type</span> <span class="o">==</span> <span class="n">DeclareModelAttributeType</span><span class="o">.</span><span class="n">FLOAT_RANGE</span><span class="p">:</span>
</span><span id="L-456"><a href="#L-456"><span class="linenos">456</span></a>                    <span class="n">v</span> <span class="o">=</span> <span class="n">attr_value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;float between&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;and&quot;</span><span class="p">,</span> <span class="s2">&quot;---&quot;</span><span class="p">)</span>
</span><span id="L-457"><a href="#L-457"><span class="linenos">457</span></a>                    <span class="n">v</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; --- &quot;</span><span class="p">)</span>
</span><span id="L-458"><a href="#L-458"><span class="linenos">458</span></a>                    <span class="c1"># val1 = float(match[0][0])</span>
</span><span id="L-459"><a href="#L-459"><span class="linenos">459</span></a>                    <span class="c1"># val2 = float(match[0][2])</span>
</span><span id="L-460"><a href="#L-460"><span class="linenos">460</span></a>                    <span class="n">val1</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</span><span id="L-461"><a href="#L-461"><span class="linenos">461</span></a>                    <span class="n">val2</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="L-462"><a href="#L-462"><span class="linenos">462</span></a>                    <span class="n">attribute</span><span class="p">[</span><span class="s2">&quot;range_precision&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_float_biggest_precision</span><span class="p">(</span><span class="n">val1</span><span class="p">,</span> <span class="n">val2</span><span class="p">)</span>
</span><span id="L-463"><a href="#L-463"><span class="linenos">463</span></a>                <span class="n">attribute</span><span class="p">[</span><span class="s2">&quot;from&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">val1</span>
</span><span id="L-464"><a href="#L-464"><span class="linenos">464</span></a>                <span class="n">attribute</span><span class="p">[</span><span class="s2">&quot;to&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">val2</span>
</span><span id="L-465"><a href="#L-465"><span class="linenos">465</span></a>
</span><span id="L-466"><a href="#L-466"><span class="linenos">466</span></a>    <span class="k">def</span> <span class="nf">get_float_biggest_precision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">v1</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">v2</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="L-467"><a href="#L-467"><span class="linenos">467</span></a>        <span class="n">decimal_len_list</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-468"><a href="#L-468"><span class="linenos">468</span></a>        <span class="n">precision</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-469"><a href="#L-469"><span class="linenos">469</span></a>        <span class="n">frm</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">v1</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>  <span class="c1"># 10.587</span>
</span><span id="L-470"><a href="#L-470"><span class="linenos">470</span></a>        <span class="n">til</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">v2</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>  <span class="c1"># 3.587</span>
</span><span id="L-471"><a href="#L-471"><span class="linenos">471</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">frm</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="L-472"><a href="#L-472"><span class="linenos">472</span></a>            <span class="n">precision</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">frm</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>  <span class="c1"># frm[1] = 587 and length would be 3</span>
</span><span id="L-473"><a href="#L-473"><span class="linenos">473</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">til</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="L-474"><a href="#L-474"><span class="linenos">474</span></a>            <span class="n">precision</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">til</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="n">precision</span><span class="p">)</span>
</span><span id="L-475"><a href="#L-475"><span class="linenos">475</span></a>        <span class="n">decimal_len_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">precision</span><span class="p">)</span>
</span><span id="L-476"><a href="#L-476"><span class="linenos">476</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">decimal_len_list</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-477"><a href="#L-477"><span class="linenos">477</span></a>            <span class="k">return</span> <span class="mi">0</span>
</span><span id="L-478"><a href="#L-478"><span class="linenos">478</span></a>        <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">decimal_len_list</span><span class="p">)</span>
</span><span id="L-479"><a href="#L-479"><span class="linenos">479</span></a>
</span><span id="L-480"><a href="#L-480"><span class="linenos">480</span></a>    <span class="k">def</span> <span class="nf">add_template</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">template</span><span class="p">:</span> <span class="n">DeclareModelTemplate</span><span class="p">,</span> <span class="n">cardinality</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">template_idx</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="L-481"><a href="#L-481"><span class="linenos">481</span></a>        <span class="n">templt</span> <span class="o">=</span> <span class="n">DeclareModelTemplateDataModel</span><span class="p">()</span>
</span><span id="L-482"><a href="#L-482"><span class="linenos">482</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">templates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">templt</span><span class="p">)</span>
</span><span id="L-483"><a href="#L-483"><span class="linenos">483</span></a>        <span class="n">templt</span><span class="o">.</span><span class="n">template</span> <span class="o">=</span> <span class="n">template</span>
</span><span id="L-484"><a href="#L-484"><span class="linenos">484</span></a>        <span class="n">templt</span><span class="o">.</span><span class="n">template_name</span> <span class="o">=</span> <span class="n">template</span><span class="o">.</span><span class="n">templ_str</span>
</span><span id="L-485"><a href="#L-485"><span class="linenos">485</span></a>        <span class="n">templt</span><span class="o">.</span><span class="n">template_line</span> <span class="o">=</span> <span class="n">line</span>
</span><span id="L-486"><a href="#L-486"><span class="linenos">486</span></a>        <span class="n">templt</span><span class="o">.</span><span class="n">template_index_id</span> <span class="o">=</span> <span class="n">template_idx</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">total_templates</span>
</span><span id="L-487"><a href="#L-487"><span class="linenos">487</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">total_templates</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">total_templates</span> <span class="o">+</span> <span class="mi">1</span>
</span><span id="L-488"><a href="#L-488"><span class="linenos">488</span></a>        <span class="k">if</span> <span class="n">template</span><span class="o">.</span><span class="n">supports_cardinality</span> <span class="ow">and</span> <span class="nb">int</span><span class="p">(</span><span class="n">cardinality</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="L-489"><a href="#L-489"><span class="linenos">489</span></a>            <span class="n">templt</span><span class="o">.</span><span class="n">template_name</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="n">cardinality</span><span class="p">)</span>
</span><span id="L-490"><a href="#L-490"><span class="linenos">490</span></a>        <span class="n">compiler</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;^(.*)\[(.*)\]\s*(.*)$&quot;</span><span class="p">)</span>
</span><span id="L-491"><a href="#L-491"><span class="linenos">491</span></a>        <span class="n">al</span> <span class="o">=</span> <span class="n">compiler</span><span class="o">.</span><span class="n">fullmatch</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
</span><span id="L-492"><a href="#L-492"><span class="linenos">492</span></a>        <span class="k">if</span> <span class="n">al</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-493"><a href="#L-493"><span class="linenos">493</span></a>            <span class="k">return</span>
</span><span id="L-494"><a href="#L-494"><span class="linenos">494</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">al</span><span class="o">.</span><span class="n">group</span><span class="p">())</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">:</span>
</span><span id="L-495"><a href="#L-495"><span class="linenos">495</span></a>            <span class="n">events</span> <span class="o">=</span> <span class="n">al</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>  <span class="c1"># A, B</span>
</span><span id="L-496"><a href="#L-496"><span class="linenos">496</span></a>            <span class="n">events</span> <span class="o">=</span> <span class="p">[</span><span class="n">e</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">events</span><span class="p">]</span>  <span class="c1"># [A, B]</span>
</span><span id="L-497"><a href="#L-497"><span class="linenos">497</span></a>            <span class="n">templt</span><span class="o">.</span><span class="n">activities</span> <span class="o">=</span> <span class="n">events</span>
</span><span id="L-498"><a href="#L-498"><span class="linenos">498</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">al</span><span class="o">.</span><span class="n">group</span><span class="p">())</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">:</span>
</span><span id="L-499"><a href="#L-499"><span class="linenos">499</span></a>            <span class="n">conditions</span> <span class="o">=</span> <span class="n">al</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="L-500"><a href="#L-500"><span class="linenos">500</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">conditions</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-501"><a href="#L-501"><span class="linenos">501</span></a>                <span class="k">return</span>
</span><span id="L-502"><a href="#L-502"><span class="linenos">502</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">conditions</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">conditions</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;|&quot;</span><span class="p">):</span>
</span><span id="L-503"><a href="#L-503"><span class="linenos">503</span></a>                <span class="k">raise</span> <span class="ne">SyntaxError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unable to parse template </span><span class="si">{</span><span class="n">template</span><span class="o">.</span><span class="n">templ_str</span><span class="si">}</span><span class="s2">&#39;s conditions.&quot;</span>
</span><span id="L-504"><a href="#L-504"><span class="linenos">504</span></a>                                  <span class="sa">f</span><span class="s2">&quot; Conditions should start with </span><span class="se">\&quot;</span><span class="s2">|</span><span class="se">\&quot;</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-505"><a href="#L-505"><span class="linenos">505</span></a>            <span class="n">templt</span><span class="o">.</span><span class="n">condition_line</span> <span class="o">=</span> <span class="n">conditions</span>
</span><span id="L-506"><a href="#L-506"><span class="linenos">506</span></a>            <span class="n">conditions</span> <span class="o">=</span> <span class="n">conditions</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot;|&quot;</span><span class="p">)</span>
</span><span id="L-507"><a href="#L-507"><span class="linenos">507</span></a>            <span class="n">conds_list</span> <span class="o">=</span> <span class="n">conditions</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;|&quot;</span><span class="p">)</span>
</span><span id="L-508"><a href="#L-508"><span class="linenos">508</span></a>            <span class="n">templt</span><span class="o">.</span><span class="n">condition</span> <span class="o">=</span> <span class="p">[</span><span class="n">cl</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">cl</span> <span class="ow">in</span> <span class="n">conds_list</span><span class="p">]</span>
</span><span id="L-509"><a href="#L-509"><span class="linenos">509</span></a>            <span class="n">conds_len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">conds_list</span><span class="p">)</span>
</span><span id="L-510"><a href="#L-510"><span class="linenos">510</span></a>            <span class="k">if</span> <span class="n">conds_len</span> <span class="o">&gt;</span> <span class="mi">3</span><span class="p">:</span>
</span><span id="L-511"><a href="#L-511"><span class="linenos">511</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unable to parse the line due to the exceeds conditions (&gt; 3)&quot;</span><span class="p">)</span>
</span><span id="L-512"><a href="#L-512"><span class="linenos">512</span></a>
</span><span id="L-513"><a href="#L-513"><span class="linenos">513</span></a>    <span class="k">def</span> <span class="nf">update_props</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-514"><a href="#L-514"><span class="linenos">514</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-515"><a href="#L-515"><span class="linenos">515</span></a><span class="sd">        Updates the _dict, so it has updated values when any dict op is occurred</span>
</span><span id="L-516"><a href="#L-516"><span class="linenos">516</span></a><span class="sd">        Returns</span>
</span><span id="L-517"><a href="#L-517"><span class="linenos">517</span></a><span class="sd">        -------</span>
</span><span id="L-518"><a href="#L-518"><span class="linenos">518</span></a>
</span><span id="L-519"><a href="#L-519"><span class="linenos">519</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-520"><a href="#L-520"><span class="linenos">520</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">key_value</span><span class="p">[</span><span class="s2">&quot;events&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">events</span>
</span><span id="L-521"><a href="#L-521"><span class="linenos">521</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">key_value</span><span class="p">[</span><span class="s2">&quot;attributes_list&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">attributes_list</span>
</span><span id="L-522"><a href="#L-522"><span class="linenos">522</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">key_value</span><span class="p">[</span><span class="s2">&quot;template_constraints&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">template_constraints</span>
</span><span id="L-523"><a href="#L-523"><span class="linenos">523</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">key_value</span><span class="p">[</span><span class="s2">&quot;templates&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">templates</span>
</span><span id="L-524"><a href="#L-524"><span class="linenos">524</span></a>
</span><span id="L-525"><a href="#L-525"><span class="linenos">525</span></a>    <span class="k">def</span> <span class="nf">encode</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DeclareParsedDataModel</span><span class="p">:</span>
</span><span id="L-526"><a href="#L-526"><span class="linenos">526</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoded_model</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-527"><a href="#L-527"><span class="linenos">527</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">encoded_model</span> <span class="o">=</span> <span class="n">DeclareModelCoder</span><span class="p">()</span>
</span><span id="L-528"><a href="#L-528"><span class="linenos">528</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoded_model</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="L-529"><a href="#L-529"><span class="linenos">529</span></a>
</span><span id="L-530"><a href="#L-530"><span class="linenos">530</span></a>    <span class="k">def</span> <span class="nf">decode_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="L-531"><a href="#L-531"><span class="linenos">531</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoded_model</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-532"><a href="#L-532"><span class="linenos">532</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">encoded_model</span> <span class="o">=</span> <span class="n">DeclareModelCoder</span><span class="p">()</span>
</span><span id="L-533"><a href="#L-533"><span class="linenos">533</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoded_model</span><span class="o">.</span><span class="n">decode_value</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</span><span id="L-534"><a href="#L-534"><span class="linenos">534</span></a>
</span><span id="L-535"><a href="#L-535"><span class="linenos">535</span></a>
</span><span id="L-536"><a href="#L-536"><span class="linenos">536</span></a><span class="k">class</span> <span class="nc">DeclareModelCoder</span><span class="p">:</span>
</span><span id="L-537"><a href="#L-537"><span class="linenos">537</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-538"><a href="#L-538"><span class="linenos">538</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">encoded_dict</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-539"><a href="#L-539"><span class="linenos">539</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">:</span> <span class="n">DeclareParsedDataModel</span>
</span><span id="L-540"><a href="#L-540"><span class="linenos">540</span></a>
</span><span id="L-541"><a href="#L-541"><span class="linenos">541</span></a>    <span class="k">def</span> <span class="nf">encode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dpm_orig</span><span class="p">:</span> <span class="n">DeclareParsedDataModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DeclareParsedDataModel</span><span class="p">:</span>
</span><span id="L-542"><a href="#L-542"><span class="linenos">542</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">encoded_dict</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-543"><a href="#L-543"><span class="linenos">543</span></a>        <span class="n">dpm</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">dpm_orig</span><span class="p">)</span>  <span class="c1"># TODO: check this. to void to get messed with reference/pointers</span>
</span><span id="L-544"><a href="#L-544"><span class="linenos">544</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">DeclareParsedDataModel</span><span class="p">()</span>
</span><span id="L-545"><a href="#L-545"><span class="linenos">545</span></a>        <span class="k">for</span> <span class="n">event_name</span><span class="p">,</span> <span class="n">event_obj</span> <span class="ow">in</span> <span class="n">dpm</span><span class="o">.</span><span class="n">events</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="L-546"><a href="#L-546"><span class="linenos">546</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">events</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">encode_event_name</span><span class="p">(</span><span class="n">event_name</span><span class="p">)]</span> <span class="o">=</span> <span class="n">event_obj</span>
</span><span id="L-547"><a href="#L-547"><span class="linenos">547</span></a>            <span class="k">for</span> <span class="n">prop</span> <span class="ow">in</span> <span class="n">event_obj</span><span class="p">:</span>
</span><span id="L-548"><a href="#L-548"><span class="linenos">548</span></a>                <span class="k">if</span> <span class="n">prop</span> <span class="o">==</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span>
</span><span id="L-549"><a href="#L-549"><span class="linenos">549</span></a>                    <span class="n">event_obj</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">encode_event_name</span><span class="p">(</span><span class="n">event_name</span><span class="p">)</span>
</span><span id="L-550"><a href="#L-550"><span class="linenos">550</span></a>                <span class="k">if</span> <span class="n">prop</span> <span class="o">==</span> <span class="s2">&quot;event_type&quot;</span><span class="p">:</span>
</span><span id="L-551"><a href="#L-551"><span class="linenos">551</span></a>                    <span class="n">event_obj</span><span class="o">.</span><span class="n">event_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">encode_event_type</span><span class="p">(</span><span class="n">event_obj</span><span class="p">[</span><span class="n">prop</span><span class="p">])</span>
</span><span id="L-552"><a href="#L-552"><span class="linenos">552</span></a>                <span class="k">if</span> <span class="n">prop</span> <span class="o">==</span> <span class="s2">&quot;attributes&quot;</span><span class="p">:</span>
</span><span id="L-553"><a href="#L-553"><span class="linenos">553</span></a>                    <span class="n">event_obj</span><span class="o">.</span><span class="n">attributes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">encode_attributes_list</span><span class="p">(</span><span class="n">event_obj</span><span class="p">[</span><span class="s2">&quot;attributes&quot;</span><span class="p">])</span>
</span><span id="L-554"><a href="#L-554"><span class="linenos">554</span></a>        <span class="c1"># self.encode_attributes_list(dpm.attributes_list)</span>
</span><span id="L-555"><a href="#L-555"><span class="linenos">555</span></a>
</span><span id="L-556"><a href="#L-556"><span class="linenos">556</span></a>        <span class="c1"># self.model.templates = copy.deepcopy(dpm_orig.templates)</span>
</span><span id="L-557"><a href="#L-557"><span class="linenos">557</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">templates</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-558"><a href="#L-558"><span class="linenos">558</span></a>        <span class="k">for</span> <span class="n">tmpl</span> <span class="ow">in</span> <span class="n">dpm_orig</span><span class="o">.</span><span class="n">templates</span><span class="p">:</span>
</span><span id="L-559"><a href="#L-559"><span class="linenos">559</span></a>            <span class="n">template</span> <span class="o">=</span> <span class="n">DeclareModelTemplateDataModel</span><span class="p">()</span>
</span><span id="L-560"><a href="#L-560"><span class="linenos">560</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">templates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">template</span><span class="p">)</span>
</span><span id="L-561"><a href="#L-561"><span class="linenos">561</span></a>            <span class="n">template</span><span class="o">.</span><span class="n">template_name</span> <span class="o">=</span> <span class="n">tmpl</span><span class="p">[</span><span class="s2">&quot;template_name&quot;</span><span class="p">]</span>
</span><span id="L-562"><a href="#L-562"><span class="linenos">562</span></a>            <span class="n">template</span><span class="o">.</span><span class="n">template</span> <span class="o">=</span> <span class="n">tmpl</span><span class="p">[</span><span class="s2">&quot;template&quot;</span><span class="p">]</span>
</span><span id="L-563"><a href="#L-563"><span class="linenos">563</span></a>            <span class="n">template</span><span class="o">.</span><span class="n">activities</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">encode_str_list</span><span class="p">(</span><span class="n">tmpl</span><span class="p">[</span><span class="s2">&quot;activities&quot;</span><span class="p">])</span>
</span><span id="L-564"><a href="#L-564"><span class="linenos">564</span></a>            <span class="n">a</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">tm</span> <span class="o">=</span> <span class="n">tmpl</span><span class="o">.</span><span class="n">get_conditions</span><span class="p">()</span>
</span><span id="L-565"><a href="#L-565"><span class="linenos">565</span></a>            <span class="n">encoded_conditions</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-566"><a href="#L-566"><span class="linenos">566</span></a>            <span class="k">if</span> <span class="n">a</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-567"><a href="#L-567"><span class="linenos">567</span></a>                <span class="c1"># c = self.parsed_condition(&quot;A.grade &gt; 10 and A.name in (x, y)  or A.grade &lt; 3 and A.name in (z, v)</span>
</span><span id="L-568"><a href="#L-568"><span class="linenos">568</span></a>                <span class="c1"># or A.name not in (4, 2, 6)&quot;)</span>
</span><span id="L-569"><a href="#L-569"><span class="linenos">569</span></a>                <span class="c1"># c = self.parsed_condition(&quot;A.grade &gt; 10 and A.name in (x, y) or A.name in (z, v) T.type &gt; 78 or &quot;</span>
</span><span id="L-570"><a href="#L-570"><span class="linenos">570</span></a>                <span class="c1"># &quot;t.nae is memo and (T.InfectionSuspected is true) AND&quot;</span>
</span><span id="L-571"><a href="#L-571"><span class="linenos">571</span></a>                <span class="c1">#                           &quot; (T.SIRSCriteria2OrMore is true) AND (T.DiagnosticECG is true) &quot;)</span>
</span><span id="L-572"><a href="#L-572"><span class="linenos">572</span></a>                <span class="n">encoded_conditions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parsed_condition</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
</span><span id="L-573"><a href="#L-573"><span class="linenos">573</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-574"><a href="#L-574"><span class="linenos">574</span></a>                <span class="n">encoded_conditions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="L-575"><a href="#L-575"><span class="linenos">575</span></a>            <span class="k">if</span> <span class="n">t</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-576"><a href="#L-576"><span class="linenos">576</span></a>                <span class="n">encoded_conditions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parsed_condition</span><span class="p">(</span><span class="n">t</span><span class="p">))</span>
</span><span id="L-577"><a href="#L-577"><span class="linenos">577</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-578"><a href="#L-578"><span class="linenos">578</span></a>                <span class="n">encoded_conditions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="L-579"><a href="#L-579"><span class="linenos">579</span></a>            <span class="k">if</span> <span class="n">tm</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-580"><a href="#L-580"><span class="linenos">580</span></a>                <span class="n">encoded_conditions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tm</span><span class="p">)</span>
</span><span id="L-581"><a href="#L-581"><span class="linenos">581</span></a>            <span class="n">template</span><span class="o">.</span><span class="n">condition</span> <span class="o">=</span> <span class="n">encoded_conditions</span>
</span><span id="L-582"><a href="#L-582"><span class="linenos">582</span></a>            <span class="n">template</span><span class="o">.</span><span class="n">violate</span> <span class="o">=</span> <span class="n">tmpl</span><span class="o">.</span><span class="n">violate</span>
</span><span id="L-583"><a href="#L-583"><span class="linenos">583</span></a>            <span class="n">template</span><span class="o">.</span><span class="n">template_index_id</span> <span class="o">=</span> <span class="n">tmpl</span><span class="o">.</span><span class="n">template_index_id</span>
</span><span id="L-584"><a href="#L-584"><span class="linenos">584</span></a>            <span class="n">template</span><span class="o">.</span><span class="n">condition_line</span> <span class="o">=</span> <span class="s2">&quot;| &quot;</span> <span class="o">+</span> <span class="s2">&quot; | &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">encoded_conditions</span><span class="p">)</span>
</span><span id="L-585"><a href="#L-585"><span class="linenos">585</span></a>            <span class="n">a</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">template</span><span class="o">.</span><span class="n">activities</span><span class="p">)</span>
</span><span id="L-586"><a href="#L-586"><span class="linenos">586</span></a>            <span class="n">template</span><span class="o">.</span><span class="n">template_line</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">template</span><span class="o">.</span><span class="n">template_name</span><span class="si">}</span><span class="s2">[</span><span class="si">{</span><span class="n">a</span><span class="si">}</span><span class="s2">] </span><span class="si">{</span><span class="n">template</span><span class="o">.</span><span class="n">condition_line</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="L-587"><a href="#L-587"><span class="linenos">587</span></a>
</span><span id="L-588"><a href="#L-588"><span class="linenos">588</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span>
</span><span id="L-589"><a href="#L-589"><span class="linenos">589</span></a>
</span><span id="L-590"><a href="#L-590"><span class="linenos">590</span></a>    <span class="k">def</span> <span class="nf">encode_attributes_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attr_list</span><span class="p">:</span> <span class="n">Dict</span><span class="p">):</span>
</span><span id="L-591"><a href="#L-591"><span class="linenos">591</span></a>        <span class="n">d</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-592"><a href="#L-592"><span class="linenos">592</span></a>        <span class="k">for</span> <span class="n">attr_name</span><span class="p">,</span> <span class="n">attr_obj</span> <span class="ow">in</span> <span class="n">attr_list</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="L-593"><a href="#L-593"><span class="linenos">593</span></a>            <span class="n">e_attr_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">encode_value</span><span class="p">(</span><span class="n">attr_name</span><span class="p">)</span>
</span><span id="L-594"><a href="#L-594"><span class="linenos">594</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">attributes_list</span><span class="p">[</span><span class="n">e_attr_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">attr_obj</span>
</span><span id="L-595"><a href="#L-595"><span class="linenos">595</span></a>            <span class="n">d</span><span class="p">[</span><span class="n">e_attr_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-596"><a href="#L-596"><span class="linenos">596</span></a>            <span class="k">if</span> <span class="n">attr_obj</span><span class="p">[</span><span class="s1">&#39;value_type&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="n">DeclareModelAttributeType</span><span class="o">.</span><span class="n">ENUMERATION</span><span class="p">:</span>
</span><span id="L-597"><a href="#L-597"><span class="linenos">597</span></a>                <span class="n">attr_obj</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">encode_enum_list</span><span class="p">(</span><span class="n">attr_obj</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">])</span>
</span><span id="L-598"><a href="#L-598"><span class="linenos">598</span></a>            <span class="k">if</span> <span class="s1">&#39;events_attached&#39;</span> <span class="ow">in</span> <span class="n">attr_obj</span><span class="p">:</span>
</span><span id="L-599"><a href="#L-599"><span class="linenos">599</span></a>                <span class="n">attr_obj</span><span class="p">[</span><span class="s1">&#39;events_attached&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">encode_str_list</span><span class="p">(</span><span class="n">attr_obj</span><span class="p">[</span><span class="s1">&#39;events_attached&#39;</span><span class="p">])</span>
</span><span id="L-600"><a href="#L-600"><span class="linenos">600</span></a>            <span class="n">d</span><span class="p">[</span><span class="n">e_attr_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">attr_obj</span>
</span><span id="L-601"><a href="#L-601"><span class="linenos">601</span></a>        <span class="k">return</span> <span class="n">d</span>
</span><span id="L-602"><a href="#L-602"><span class="linenos">602</span></a>
</span><span id="L-603"><a href="#L-603"><span class="linenos">603</span></a>    <span class="k">def</span> <span class="nf">parsed_condition</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">string</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="L-604"><a href="#L-604"><span class="linenos">604</span></a>        <span class="n">string</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\)&#39;</span><span class="p">,</span> <span class="s1">&#39; ) &#39;</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>
</span><span id="L-605"><a href="#L-605"><span class="linenos">605</span></a>        <span class="n">string</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\(&#39;</span><span class="p">,</span> <span class="s1">&#39; ( &#39;</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>
</span><span id="L-606"><a href="#L-606"><span class="linenos">606</span></a>        <span class="n">string</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="L-607"><a href="#L-607"><span class="linenos">607</span></a>        <span class="n">string</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s1">&#39; +&#39;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>
</span><span id="L-608"><a href="#L-608"><span class="linenos">608</span></a>        <span class="n">string</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s1">&#39;is not&#39;</span><span class="p">,</span> <span class="s1">&#39;is_not&#39;</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>
</span><span id="L-609"><a href="#L-609"><span class="linenos">609</span></a>        <span class="n">string</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s1">&#39;not in&#39;</span><span class="p">,</span> <span class="s1">&#39;not_in&#39;</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>
</span><span id="L-610"><a href="#L-610"><span class="linenos">610</span></a>        <span class="n">string</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s1">&#39; *&gt; *&#39;</span><span class="p">,</span> <span class="s1">&#39;&gt;&#39;</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>
</span><span id="L-611"><a href="#L-611"><span class="linenos">611</span></a>        <span class="n">string</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s1">&#39; *&lt; *&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;&#39;</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>
</span><span id="L-612"><a href="#L-612"><span class="linenos">612</span></a>        <span class="n">string</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s1">&#39; *= *&#39;</span><span class="p">,</span> <span class="s1">&#39;=&#39;</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>
</span><span id="L-613"><a href="#L-613"><span class="linenos">613</span></a>        <span class="n">string</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s1">&#39; *&lt;= *&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;=&#39;</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>
</span><span id="L-614"><a href="#L-614"><span class="linenos">614</span></a>        <span class="n">string</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s1">&#39; *&gt;= *&#39;</span><span class="p">,</span> <span class="s1">&#39;&gt;=&#39;</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>
</span><span id="L-615"><a href="#L-615"><span class="linenos">615</span></a>        <span class="n">form_list</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
</span><span id="L-616"><a href="#L-616"><span class="linenos">616</span></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">form_list</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
</span><span id="L-617"><a href="#L-617"><span class="linenos">617</span></a>            <span class="n">el</span> <span class="o">=</span> <span class="n">form_list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</span><span id="L-618"><a href="#L-618"><span class="linenos">618</span></a>            <span class="k">if</span> <span class="n">el</span> <span class="o">==</span> <span class="s1">&#39;in&#39;</span> <span class="ow">or</span> <span class="n">el</span> <span class="o">==</span> <span class="s1">&#39;not_in&#39;</span><span class="p">:</span>
</span><span id="L-619"><a href="#L-619"><span class="linenos">619</span></a>                <span class="n">end_index</span> <span class="o">=</span> <span class="n">form_list</span><span class="p">[</span><span class="n">i</span><span class="p">:]</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s1">&#39;)&#39;</span><span class="p">)</span>
</span><span id="L-620"><a href="#L-620"><span class="linenos">620</span></a>                <span class="n">start_index</span> <span class="o">=</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span>
</span><span id="L-621"><a href="#L-621"><span class="linenos">621</span></a>                <span class="n">end_index</span> <span class="o">=</span> <span class="n">end_index</span> <span class="o">+</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>
</span><span id="L-622"><a href="#L-622"><span class="linenos">622</span></a>                <span class="n">form_list</span><span class="p">[</span><span class="n">start_index</span><span class="p">:</span><span class="n">end_index</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">form_list</span><span class="p">[</span><span class="n">start_index</span><span class="p">:</span><span class="n">end_index</span><span class="p">])]</span>
</span><span id="L-623"><a href="#L-623"><span class="linenos">623</span></a>            <span class="k">elif</span> <span class="n">el</span> <span class="o">==</span> <span class="s1">&#39;is&#39;</span> <span class="ow">or</span> <span class="n">el</span> <span class="o">==</span> <span class="s1">&#39;is_not&#39;</span><span class="p">:</span>
</span><span id="L-624"><a href="#L-624"><span class="linenos">624</span></a>                <span class="n">start_index</span> <span class="o">=</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span>
</span><span id="L-625"><a href="#L-625"><span class="linenos">625</span></a>                <span class="n">end_index</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">2</span>
</span><span id="L-626"><a href="#L-626"><span class="linenos">626</span></a>                <span class="n">form_list</span><span class="p">[</span><span class="n">start_index</span><span class="p">:</span><span class="n">end_index</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">form_list</span><span class="p">[</span><span class="n">start_index</span><span class="p">:</span><span class="n">end_index</span><span class="p">])]</span>
</span><span id="L-627"><a href="#L-627"><span class="linenos">627</span></a>        <span class="n">keywords</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;and&#39;</span><span class="p">,</span> <span class="s1">&#39;or&#39;</span><span class="p">,</span> <span class="s1">&#39;(&#39;</span><span class="p">,</span> <span class="s1">&#39;)&#39;</span><span class="p">,</span> <span class="s1">&#39;is&#39;</span><span class="p">,</span> <span class="s1">&#39;same&#39;</span><span class="p">,</span> <span class="s1">&#39;different&#39;</span><span class="p">}</span>
</span><span id="L-628"><a href="#L-628"><span class="linenos">628</span></a>        <span class="n">idx</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-629"><a href="#L-629"><span class="linenos">629</span></a>        <span class="k">for</span> <span class="n">cond_chunk</span> <span class="ow">in</span> <span class="n">form_list</span><span class="p">:</span>
</span><span id="L-630"><a href="#L-630"><span class="linenos">630</span></a>            <span class="n">idx</span> <span class="o">=</span> <span class="n">idx</span> <span class="o">+</span> <span class="mi">1</span>
</span><span id="L-631"><a href="#L-631"><span class="linenos">631</span></a>            <span class="k">if</span> <span class="n">cond_chunk</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="n">keywords</span><span class="p">:</span>
</span><span id="L-632"><a href="#L-632"><span class="linenos">632</span></a>                <span class="k">continue</span>
</span><span id="L-633"><a href="#L-633"><span class="linenos">633</span></a>            <span class="k">elif</span> <span class="n">cond_chunk</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;not_in&quot;</span><span class="p">:</span>
</span><span id="L-634"><a href="#L-634"><span class="linenos">634</span></a>                <span class="n">form_list</span><span class="p">[</span><span class="n">idx</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;not in&quot;</span>
</span><span id="L-635"><a href="#L-635"><span class="linenos">635</span></a>            <span class="k">elif</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^[AaTt]\.&#39;</span><span class="p">,</span> <span class="n">cond_chunk</span><span class="p">):</span>  <span class="c1"># A.grade&gt;10</span>
</span><span id="L-636"><a href="#L-636"><span class="linenos">636</span></a>                <span class="n">found</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;([AaTt]\.([\w:,]+))&quot;</span><span class="p">,</span> <span class="n">cond_chunk</span><span class="p">,</span>
</span><span id="L-637"><a href="#L-637"><span class="linenos">637</span></a>                                   <span class="n">flags</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">UNICODE</span> <span class="o">|</span> <span class="n">re</span><span class="o">.</span><span class="n">MULTILINE</span><span class="p">)</span>  <span class="c1"># finds from A.grade&gt;10 =&gt; A.grade and grade</span>
</span><span id="L-638"><a href="#L-638"><span class="linenos">638</span></a>                <span class="k">if</span> <span class="n">found</span><span class="p">:</span>  <span class="c1"># [(&#39;A.grade&#39;, &#39;grade&#39;), (&#39;A.mark&#39;, &#39;mark&#39;)]</span>
</span><span id="L-639"><a href="#L-639"><span class="linenos">639</span></a>                    <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">found</span><span class="p">:</span>
</span><span id="L-640"><a href="#L-640"><span class="linenos">640</span></a>                        <span class="n">act_tar_cond</span><span class="p">,</span> <span class="n">attr</span> <span class="o">=</span> <span class="n">f</span>
</span><span id="L-641"><a href="#L-641"><span class="linenos">641</span></a>                        <span class="n">ct</span> <span class="o">=</span> <span class="n">act_tar_cond</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># condition_type: A or T</span>
</span><span id="L-642"><a href="#L-642"><span class="linenos">642</span></a>                        <span class="n">attr_encoded</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">encode_value</span><span class="p">(</span><span class="n">attr</span><span class="p">)</span>
</span><span id="L-643"><a href="#L-643"><span class="linenos">643</span></a>                        <span class="n">form_list</span><span class="p">[</span><span class="n">idx</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">cond_chunk</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">ct</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="n">attr</span><span class="p">,</span> <span class="n">ct</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="n">attr_encoded</span><span class="p">)</span>
</span><span id="L-644"><a href="#L-644"><span class="linenos">644</span></a>                <span class="n">cond_chunk</span> <span class="o">=</span> <span class="n">form_list</span><span class="p">[</span><span class="n">idx</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
</span><span id="L-645"><a href="#L-645"><span class="linenos">645</span></a>                <span class="n">cond_chunk_split</span> <span class="o">=</span> <span class="n">cond_chunk</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>  <span class="c1"># A.name in ( z, v )</span>
</span><span id="L-646"><a href="#L-646"><span class="linenos">646</span></a>                <span class="k">if</span> <span class="s2">&quot;is&quot;</span> <span class="ow">in</span> <span class="n">cond_chunk_split</span><span class="p">:</span>
</span><span id="L-647"><a href="#L-647"><span class="linenos">647</span></a>                    <span class="n">cond_chunk</span> <span class="o">=</span> <span class="n">cond_chunk</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;  &quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="L-648"><a href="#L-648"><span class="linenos">648</span></a>                    <span class="n">val</span> <span class="o">=</span> <span class="n">cond_chunk</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; is &quot;</span><span class="p">)</span>  <span class="c1"># case: T.InfectionSuspected is xyz</span>
</span><span id="L-649"><a href="#L-649"><span class="linenos">649</span></a>                    <span class="n">val0</span> <span class="o">=</span> <span class="n">val</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># &quot;T.InfectionSuspected&quot;</span>
</span><span id="L-650"><a href="#L-650"><span class="linenos">650</span></a>                    <span class="n">val1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">encode_value</span><span class="p">(</span><span class="n">val</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>  <span class="c1"># &quot;xyz&quot;</span>
</span><span id="L-651"><a href="#L-651"><span class="linenos">651</span></a>                    <span class="n">cond_chunk</span> <span class="o">=</span> <span class="n">val0</span> <span class="o">+</span> <span class="s2">&quot; is &quot;</span> <span class="o">+</span> <span class="n">val1</span>
</span><span id="L-652"><a href="#L-652"><span class="linenos">652</span></a>                    <span class="n">form_list</span><span class="p">[</span><span class="n">idx</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">cond_chunk</span>
</span><span id="L-653"><a href="#L-653"><span class="linenos">653</span></a>                <span class="k">elif</span> <span class="s2">&quot;not_in&quot;</span> <span class="ow">in</span> <span class="n">cond_chunk_split</span><span class="p">:</span>
</span><span id="L-654"><a href="#L-654"><span class="linenos">654</span></a>                    <span class="n">cond_chunk</span> <span class="o">=</span> <span class="n">cond_chunk</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;  &quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="L-655"><a href="#L-655"><span class="linenos">655</span></a>                    <span class="n">val</span> <span class="o">=</span> <span class="n">cond_chunk</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; not_in &quot;</span><span class="p">)</span>  <span class="c1"># case: A.name not in ( z, v )</span>
</span><span id="L-656"><a href="#L-656"><span class="linenos">656</span></a>                    <span class="n">val1</span> <span class="o">=</span> <span class="n">val</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;(&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;)&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>  <span class="c1"># &quot;z, v&quot;</span>
</span><span id="L-657"><a href="#L-657"><span class="linenos">657</span></a>                    <span class="n">val1</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">val1</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)]</span>  <span class="c1"># [&quot;z&quot;, &quot;v&quot;]</span>
</span><span id="L-658"><a href="#L-658"><span class="linenos">658</span></a>                    <span class="n">items</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-659"><a href="#L-659"><span class="linenos">659</span></a>                    <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">val1</span><span class="p">:</span>
</span><span id="L-660"><a href="#L-660"><span class="linenos">660</span></a>                        <span class="n">items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">encode_value</span><span class="p">(</span><span class="n">v</span><span class="p">))</span>
</span><span id="L-661"><a href="#L-661"><span class="linenos">661</span></a>                    <span class="n">val1</span> <span class="o">=</span> <span class="s2">&quot;(&quot;</span> <span class="o">+</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">items</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span>
</span><span id="L-662"><a href="#L-662"><span class="linenos">662</span></a>                    <span class="n">cond_chunk</span> <span class="o">=</span> <span class="n">val</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot; not in &quot;</span> <span class="o">+</span> <span class="n">val1</span>
</span><span id="L-663"><a href="#L-663"><span class="linenos">663</span></a>                    <span class="n">form_list</span><span class="p">[</span><span class="n">idx</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">cond_chunk</span>
</span><span id="L-664"><a href="#L-664"><span class="linenos">664</span></a>                <span class="k">elif</span> <span class="s2">&quot;in&quot;</span> <span class="ow">in</span> <span class="n">cond_chunk_split</span><span class="p">:</span>
</span><span id="L-665"><a href="#L-665"><span class="linenos">665</span></a>                    <span class="n">cond_chunk</span> <span class="o">=</span> <span class="n">cond_chunk</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;  &quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="L-666"><a href="#L-666"><span class="linenos">666</span></a>                    <span class="n">val</span> <span class="o">=</span> <span class="n">cond_chunk</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; in &quot;</span><span class="p">)</span>  <span class="c1"># case: A.name in ( z, v )</span>
</span><span id="L-667"><a href="#L-667"><span class="linenos">667</span></a>                    <span class="n">val1</span> <span class="o">=</span> <span class="n">val</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;(&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;)&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>  <span class="c1"># &quot;z, v&quot;</span>
</span><span id="L-668"><a href="#L-668"><span class="linenos">668</span></a>                    <span class="n">val1</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">val1</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)]</span>  <span class="c1"># [&quot;z&quot;, &quot;v&quot;]</span>
</span><span id="L-669"><a href="#L-669"><span class="linenos">669</span></a>                    <span class="n">items</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-670"><a href="#L-670"><span class="linenos">670</span></a>                    <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">val1</span><span class="p">:</span>
</span><span id="L-671"><a href="#L-671"><span class="linenos">671</span></a>                        <span class="n">items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">encode_value</span><span class="p">(</span><span class="n">v</span><span class="p">))</span>
</span><span id="L-672"><a href="#L-672"><span class="linenos">672</span></a>                    <span class="n">val1</span> <span class="o">=</span> <span class="s2">&quot;(&quot;</span> <span class="o">+</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">items</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span>
</span><span id="L-673"><a href="#L-673"><span class="linenos">673</span></a>                    <span class="n">cond_chunk</span> <span class="o">=</span> <span class="n">val</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot; in &quot;</span> <span class="o">+</span> <span class="n">val1</span>
</span><span id="L-674"><a href="#L-674"><span class="linenos">674</span></a>                    <span class="n">form_list</span><span class="p">[</span><span class="n">idx</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">cond_chunk</span>
</span><span id="L-675"><a href="#L-675"><span class="linenos">675</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-676"><a href="#L-676"><span class="linenos">676</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unable to encode the </span><span class="si">{</span><span class="n">cond_chunk</span><span class="si">}</span><span class="s2"> condition. This is not supported to encode yet&quot;</span><span class="p">)</span>
</span><span id="L-677"><a href="#L-677"><span class="linenos">677</span></a>                <span class="c1"># if matched</span>
</span><span id="L-678"><a href="#L-678"><span class="linenos">678</span></a>
</span><span id="L-679"><a href="#L-679"><span class="linenos">679</span></a>        <span class="k">return</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">form_list</span><span class="p">)</span>
</span><span id="L-680"><a href="#L-680"><span class="linenos">680</span></a>
</span><span id="L-681"><a href="#L-681"><span class="linenos">681</span></a>    <span class="k">def</span> <span class="nf">encode_event_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="L-682"><a href="#L-682"><span class="linenos">682</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">encode_value</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</span><span id="L-683"><a href="#L-683"><span class="linenos">683</span></a>
</span><span id="L-684"><a href="#L-684"><span class="linenos">684</span></a>    <span class="k">def</span> <span class="nf">encode_event_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="L-685"><a href="#L-685"><span class="linenos">685</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">encode_value</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</span><span id="L-686"><a href="#L-686"><span class="linenos">686</span></a>
</span><span id="L-687"><a href="#L-687"><span class="linenos">687</span></a>    <span class="k">def</span> <span class="nf">encode_enum_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="L-688"><a href="#L-688"><span class="linenos">688</span></a>        <span class="n">ss</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
</span><span id="L-689"><a href="#L-689"><span class="linenos">689</span></a>        <span class="n">ss</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">encode_value</span><span class="p">(</span><span class="n">se</span><span class="p">)</span> <span class="k">for</span> <span class="n">se</span> <span class="ow">in</span> <span class="n">ss</span><span class="p">]</span>
</span><span id="L-690"><a href="#L-690"><span class="linenos">690</span></a>        <span class="k">return</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ss</span><span class="p">)</span>
</span><span id="L-691"><a href="#L-691"><span class="linenos">691</span></a>
</span><span id="L-692"><a href="#L-692"><span class="linenos">692</span></a>    <span class="k">def</span> <span class="nf">encode_str_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_list</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="L-693"><a href="#L-693"><span class="linenos">693</span></a>        <span class="n">ss</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-694"><a href="#L-694"><span class="linenos">694</span></a>        <span class="k">for</span> <span class="n">se</span> <span class="ow">in</span> <span class="n">input_list</span><span class="p">:</span>
</span><span id="L-695"><a href="#L-695"><span class="linenos">695</span></a>            <span class="k">if</span> <span class="s2">&quot;ENCODEDSTRINGENCODEDSTRING&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">se</span><span class="p">:</span>
</span><span id="L-696"><a href="#L-696"><span class="linenos">696</span></a>                <span class="n">ss</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">encode_value</span><span class="p">(</span><span class="n">se</span><span class="p">))</span>
</span><span id="L-697"><a href="#L-697"><span class="linenos">697</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-698"><a href="#L-698"><span class="linenos">698</span></a>                <span class="n">ss</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">se</span><span class="p">)</span>
</span><span id="L-699"><a href="#L-699"><span class="linenos">699</span></a>        <span class="k">return</span> <span class="n">ss</span>
</span><span id="L-700"><a href="#L-700"><span class="linenos">700</span></a>
</span><span id="L-701"><a href="#L-701"><span class="linenos">701</span></a>    <span class="k">def</span> <span class="nf">encode_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="L-702"><a href="#L-702"><span class="linenos">702</span></a>        <span class="k">if</span> <span class="s2">&quot;ENCODEDSTRINGENCODEDSTRING&quot;</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>  <span class="c1"># s is already encoded</span>
</span><span id="L-703"><a href="#L-703"><span class="linenos">703</span></a>            <span class="k">return</span> <span class="n">s</span>
</span><span id="L-704"><a href="#L-704"><span class="linenos">704</span></a>        <span class="k">if</span> <span class="n">s</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoded_dict</span><span class="p">:</span>
</span><span id="L-705"><a href="#L-705"><span class="linenos">705</span></a>            <span class="n">v</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span>
</span><span id="L-706"><a href="#L-706"><span class="linenos">706</span></a>            <span class="c1"># v = v.decode(&quot;utf-8&quot;)</span>
</span><span id="L-707"><a href="#L-707"><span class="linenos">707</span></a>            <span class="c1"># doesn&#39;t work because sm times has starts from a digit and clingo fails</span>
</span><span id="L-708"><a href="#L-708"><span class="linenos">708</span></a>            <span class="c1"># v = hashlib.md5(s.encode()).hexdigest()</span>
</span><span id="L-709"><a href="#L-709"><span class="linenos">709</span></a>            <span class="c1"># self.encoded_dict[s] = v</span>
</span><span id="L-710"><a href="#L-710"><span class="linenos">710</span></a>            <span class="n">b64_str</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
</span><span id="L-711"><a href="#L-711"><span class="linenos">711</span></a>            <span class="n">b64_str</span> <span class="o">=</span> <span class="n">b64_str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="p">,</span> <span class="s2">&quot;EEEQUALSIGNNN&quot;</span><span class="p">)</span>
</span><span id="L-712"><a href="#L-712"><span class="linenos">712</span></a>            <span class="k">if</span> <span class="n">b64_str</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">isupper</span><span class="p">():</span>
</span><span id="L-713"><a href="#L-713"><span class="linenos">713</span></a>                <span class="n">b</span> <span class="o">=</span> <span class="n">b64_str</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="L-714"><a href="#L-714"><span class="linenos">714</span></a>                <span class="n">b</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;lowerlower</span><span class="si">{</span><span class="n">b</span><span class="si">}</span><span class="s2">lowerlower&quot;</span>
</span><span id="L-715"><a href="#L-715"><span class="linenos">715</span></a>                <span class="n">b64_str</span> <span class="o">=</span> <span class="n">b</span> <span class="o">+</span> <span class="n">b64_str</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
</span><span id="L-716"><a href="#L-716"><span class="linenos">716</span></a>            <span class="c1"># maybe sometimes maybe by bug we encode the string multiple times, we would like to decode</span>
</span><span id="L-717"><a href="#L-717"><span class="linenos">717</span></a>            <span class="c1"># till last encoded str</span>
</span><span id="L-718"><a href="#L-718"><span class="linenos">718</span></a>            <span class="n">b64_str</span> <span class="o">=</span> <span class="n">b64_str</span> <span class="o">+</span> <span class="s2">&quot;ENCODEDSTRINGENCODEDSTRING&quot;</span>
</span><span id="L-719"><a href="#L-719"><span class="linenos">719</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">encoded_dict</span><span class="p">[</span><span class="n">s</span><span class="p">]</span> <span class="o">=</span> <span class="n">b64_str</span>
</span><span id="L-720"><a href="#L-720"><span class="linenos">720</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoded_dict</span><span class="p">[</span><span class="n">s</span><span class="p">]</span>
</span><span id="L-721"><a href="#L-721"><span class="linenos">721</span></a>
</span><span id="L-722"><a href="#L-722"><span class="linenos">722</span></a>    <span class="k">def</span> <span class="nf">decode_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="L-723"><a href="#L-723"><span class="linenos">723</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="L-724"><a href="#L-724"><span class="linenos">724</span></a>            <span class="k">return</span> <span class="n">s</span>
</span><span id="L-725"><a href="#L-725"><span class="linenos">725</span></a>        <span class="k">if</span> <span class="s2">&quot;ENCODEDSTRINGENCODEDSTRING&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>  <span class="c1"># s doesn&#39;t have ENCODEDSTRINGENCODEDSTRING then its already decoded</span>
</span><span id="L-726"><a href="#L-726"><span class="linenos">726</span></a>            <span class="k">return</span> <span class="n">s</span>
</span><span id="L-727"><a href="#L-727"><span class="linenos">727</span></a>        <span class="n">vals</span><span class="p">:</span> <span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">encoded_dict</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>  <span class="c1"># [&quot;..&quot;, &quot;..&quot;]</span>
</span><span id="L-728"><a href="#L-728"><span class="linenos">728</span></a>        <span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="L-729"><a href="#L-729"><span class="linenos">729</span></a>        <span class="k">if</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">vals</span><span class="p">:</span>
</span><span id="L-730"><a href="#L-730"><span class="linenos">730</span></a>            <span class="n">idx</span> <span class="o">=</span> <span class="n">vals</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</span><span id="L-731"><a href="#L-731"><span class="linenos">731</span></a>            <span class="k">if</span> <span class="n">idx</span> <span class="o">&lt;=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
</span><span id="L-732"><a href="#L-732"><span class="linenos">732</span></a>                <span class="k">return</span> <span class="n">s</span>
</span><span id="L-733"><a href="#L-733"><span class="linenos">733</span></a>            <span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;EEEQUALSIGNNN&quot;</span><span class="p">,</span> <span class="s2">&quot;=&quot;</span><span class="p">)</span>
</span><span id="L-734"><a href="#L-734"><span class="linenos">734</span></a>            <span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;ENCODEDSTRINGENCODEDSTRING&quot;</span><span class="p">,</span> <span class="s2">&quot;=&quot;</span><span class="p">)</span>
</span><span id="L-735"><a href="#L-735"><span class="linenos">735</span></a>            <span class="k">if</span> <span class="n">s</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;lowerlower&quot;</span><span class="p">):</span>
</span><span id="L-736"><a href="#L-736"><span class="linenos">736</span></a>                <span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;lowerlower&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="L-737"><a href="#L-737"><span class="linenos">737</span></a>            <span class="n">n_val</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</span><span id="L-738"><a href="#L-738"><span class="linenos">738</span></a>            <span class="n">s</span> <span class="o">=</span> <span class="n">n_val</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
</span><span id="L-739"><a href="#L-739"><span class="linenos">739</span></a>            <span class="k">if</span> <span class="n">s</span><span class="o">.</span><span class="fm">__contains__</span><span class="p">(</span><span class="s2">&quot;ENCODEDSTRINGENCODEDSTRING&quot;</span><span class="p">):</span>
</span><span id="L-740"><a href="#L-740"><span class="linenos">740</span></a>                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">decode_value</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</span><span id="L-741"><a href="#L-741"><span class="linenos">741</span></a>        <span class="k">return</span> <span class="n">s</span>
</span><span id="L-742"><a href="#L-742"><span class="linenos">742</span></a>
</span><span id="L-743"><a href="#L-743"><span class="linenos">743</span></a>
</span><span id="L-744"><a href="#L-744"><span class="linenos">744</span></a><span class="k">class</span> <span class="nc">DeclareModel</span><span class="p">(</span><span class="n">LTLModel</span><span class="p">):</span>
</span><span id="L-745"><a href="#L-745"><span class="linenos">745</span></a>    <span class="n">CONSTRAINTS_TEMPLATES_PATTERN</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;^(.*)\[(.*)\]\s*(.*)$&quot;</span>
</span><span id="L-746"><a href="#L-746"><span class="linenos">746</span></a>
</span><span id="L-747"><a href="#L-747"><span class="linenos">747</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-748"><a href="#L-748"><span class="linenos">748</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
</span><span id="L-749"><a href="#L-749"><span class="linenos">749</span></a>        <span class="c1"># self.activities = []</span>
</span><span id="L-750"><a href="#L-750"><span class="linenos">750</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">serialized_constraints</span><span class="p">:</span> <span class="n">List</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-751"><a href="#L-751"><span class="linenos">751</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">constraints</span><span class="p">:</span> <span class="n">List</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-752"><a href="#L-752"><span class="linenos">752</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">parsed_model</span><span class="p">:</span> <span class="n">DeclareParsedDataModel</span> <span class="o">=</span> <span class="n">DeclareParsedDataModel</span><span class="p">()</span>
</span><span id="L-753"><a href="#L-753"><span class="linenos">753</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">declare_model_lines</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-754"><a href="#L-754"><span class="linenos">754</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">declare_model_violate_constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-755"><a href="#L-755"><span class="linenos">755</span></a>
</span><span id="L-756"><a href="#L-756"><span class="linenos">756</span></a>    <span class="k">def</span> <span class="nf">set_constraints</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-757"><a href="#L-757"><span class="linenos">757</span></a>        <span class="n">constraint_str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</span><span id="L-758"><a href="#L-758"><span class="linenos">758</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">constraints</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-759"><a href="#L-759"><span class="linenos">759</span></a>            <span class="k">for</span> <span class="n">constraint</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">constraints</span><span class="p">:</span>
</span><span id="L-760"><a href="#L-760"><span class="linenos">760</span></a>                <span class="n">constraint_str</span> <span class="o">=</span> <span class="n">constraint</span><span class="p">[</span><span class="s1">&#39;template&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">templ_str</span>
</span><span id="L-761"><a href="#L-761"><span class="linenos">761</span></a>                <span class="k">if</span> <span class="n">constraint</span><span class="p">[</span><span class="s1">&#39;template&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">supports_cardinality</span><span class="p">:</span>
</span><span id="L-762"><a href="#L-762"><span class="linenos">762</span></a>                    <span class="n">constraint_str</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="n">constraint</span><span class="p">[</span><span class="s1">&#39;n&#39;</span><span class="p">])</span>
</span><span id="L-763"><a href="#L-763"><span class="linenos">763</span></a>                <span class="n">constraint_str</span> <span class="o">+=</span> <span class="s1">&#39;[&#39;</span> <span class="o">+</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">constraint</span><span class="p">[</span><span class="s2">&quot;activities&quot;</span><span class="p">])</span> <span class="o">+</span> <span class="s1">&#39;] |&#39;</span> <span class="o">+</span> <span class="s1">&#39; |&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">constraint</span><span class="p">[</span><span class="s2">&quot;condition&quot;</span><span class="p">])</span>
</span><span id="L-764"><a href="#L-764"><span class="linenos">764</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">serialized_constraints</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">constraint_str</span><span class="p">)</span>
</span><span id="L-765"><a href="#L-765"><span class="linenos">765</span></a>
</span><span id="L-766"><a href="#L-766"><span class="linenos">766</span></a>    <span class="k">def</span> <span class="nf">get_decl_model_constraints</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-767"><a href="#L-767"><span class="linenos">767</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">serialized_constraints</span>
</span><span id="L-768"><a href="#L-768"><span class="linenos">768</span></a>
</span><span id="L-769"><a href="#L-769"><span class="linenos">769</span></a>    <span class="k">def</span> <span class="nf">parse_from_string</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">content</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">new_line_ctrl</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DeclareModel</span><span class="p">:</span>
</span><span id="L-770"><a href="#L-770"><span class="linenos">770</span></a>        <span class="n">lines</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">new_line_ctrl</span><span class="p">)</span>
</span><span id="L-771"><a href="#L-771"><span class="linenos">771</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">declare_model_lines</span> <span class="o">=</span> <span class="n">lines</span>
</span><span id="L-772"><a href="#L-772"><span class="linenos">772</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>
</span><span id="L-773"><a href="#L-773"><span class="linenos">773</span></a>        <span class="k">return</span> <span class="bp">self</span>
</span><span id="L-774"><a href="#L-774"><span class="linenos">774</span></a>
</span><span id="L-775"><a href="#L-775"><span class="linenos">775</span></a>    <span class="k">def</span> <span class="nf">parse_from_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DeclareModel</span><span class="p">:</span>
</span><span id="L-776"><a href="#L-776"><span class="linenos">776</span></a>        <span class="n">lines</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-777"><a href="#L-777"><span class="linenos">777</span></a>        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s2">&quot;r+&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
</span><span id="L-778"><a href="#L-778"><span class="linenos">778</span></a>            <span class="n">lines</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
</span><span id="L-779"><a href="#L-779"><span class="linenos">779</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">declare_model_lines</span> <span class="o">=</span> <span class="n">lines</span>
</span><span id="L-780"><a href="#L-780"><span class="linenos">780</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>
</span><span id="L-781"><a href="#L-781"><span class="linenos">781</span></a>        <span class="k">return</span> <span class="bp">self</span>
</span><span id="L-782"><a href="#L-782"><span class="linenos">782</span></a>
</span><span id="L-783"><a href="#L-783"><span class="linenos">783</span></a>    <span class="k">def</span> <span class="nf">parse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">lines</span><span class="p">:</span> <span class="p">[</span><span class="nb">str</span><span class="p">]):</span>
</span><span id="L-784"><a href="#L-784"><span class="linenos">784</span></a>        <span class="n">declare_parsed_model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parsed_model</span>
</span><span id="L-785"><a href="#L-785"><span class="linenos">785</span></a>        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
</span><span id="L-786"><a href="#L-786"><span class="linenos">786</span></a>            <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="L-787"><a href="#L-787"><span class="linenos">787</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">line</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">1</span> <span class="ow">or</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;#&quot;</span><span class="p">):</span>  <span class="c1"># line starting with # considered a comment line</span>
</span><span id="L-788"><a href="#L-788"><span class="linenos">788</span></a>                <span class="k">continue</span>
</span><span id="L-789"><a href="#L-789"><span class="linenos">789</span></a>            <span class="k">if</span> <span class="n">DeclareModel</span><span class="o">.</span><span class="n">is_event_name_definition</span><span class="p">(</span><span class="n">line</span><span class="p">):</span>  <span class="c1"># split[0].strip() == &#39;activity&#39;:</span>
</span><span id="L-790"><a href="#L-790"><span class="linenos">790</span></a>                <span class="n">split</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span><span id="L-791"><a href="#L-791"><span class="linenos">791</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">activities</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">split</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
</span><span id="L-792"><a href="#L-792"><span class="linenos">792</span></a>                <span class="n">declare_parsed_model</span><span class="o">.</span><span class="n">add_event</span><span class="p">(</span><span class="n">split</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">split</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</span><span id="L-793"><a href="#L-793"><span class="linenos">793</span></a>            <span class="k">elif</span> <span class="n">DeclareModel</span><span class="o">.</span><span class="n">is_event_attributes_definition</span><span class="p">(</span><span class="n">line</span><span class="p">):</span>
</span><span id="L-794"><a href="#L-794"><span class="linenos">794</span></a>                <span class="n">split</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;: &quot;</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># Assume complex &quot;bind act3: categorical, integer, org:group&quot;</span>
</span><span id="L-795"><a href="#L-795"><span class="linenos">795</span></a>                <span class="n">event_name</span> <span class="o">=</span> <span class="n">split</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="L-796"><a href="#L-796"><span class="linenos">796</span></a>                <span class="n">attrs</span> <span class="o">=</span> <span class="n">split</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="p">)</span>
</span><span id="L-797"><a href="#L-797"><span class="linenos">797</span></a>                <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">attrs</span><span class="p">:</span>
</span><span id="L-798"><a href="#L-798"><span class="linenos">798</span></a>                    <span class="n">declare_parsed_model</span><span class="o">.</span><span class="n">add_attribute</span><span class="p">(</span><span class="n">event_name</span><span class="p">,</span> <span class="n">attr</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
</span><span id="L-799"><a href="#L-799"><span class="linenos">799</span></a>            <span class="k">elif</span> <span class="n">DeclareModel</span><span class="o">.</span><span class="n">is_events_attrs_value_definition</span><span class="p">(</span><span class="n">line</span><span class="p">):</span>
</span><span id="L-800"><a href="#L-800"><span class="linenos">800</span></a><span class="w">                </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-801"><a href="#L-801"><span class="linenos">801</span></a><span class="sd">                SOME OF Possible lines for assigning values to attribute</span>
</span><span id="L-802"><a href="#L-802"><span class="linenos">802</span></a>
</span><span id="L-803"><a href="#L-803"><span class="linenos">803</span></a><span class="sd">                categorical: c1, c2, c3</span>
</span><span id="L-804"><a href="#L-804"><span class="linenos">804</span></a><span class="sd">                categorical: group1:v1, group1:v2, group3:v1 </span>
</span><span id="L-805"><a href="#L-805"><span class="linenos">805</span></a><span class="sd">                cat1, cat2: group1:v1, group1:v2, group3:v1 </span>
</span><span id="L-806"><a href="#L-806"><span class="linenos">806</span></a><span class="sd">                price:art1, price:art2, cat2: group1:v1, group1:v2, group3:v1 </span>
</span><span id="L-807"><a href="#L-807"><span class="linenos">807</span></a><span class="sd">                integer: integer between 0 and 100</span>
</span><span id="L-808"><a href="#L-808"><span class="linenos">808</span></a><span class="sd">                org:resource: 10</span>
</span><span id="L-809"><a href="#L-809"><span class="linenos">809</span></a><span class="sd">                org:resource, org:vote: 10</span>
</span><span id="L-810"><a href="#L-810"><span class="linenos">810</span></a><span class="sd">                org:vote, grade: 9</span>
</span><span id="L-811"><a href="#L-811"><span class="linenos">811</span></a><span class="sd">                org:categorical: integer between 0 and 100</span>
</span><span id="L-812"><a href="#L-812"><span class="linenos">812</span></a><span class="sd">                categorical: integer between 0 and 100</span>
</span><span id="L-813"><a href="#L-813"><span class="linenos">813</span></a><span class="sd">                base, mark: integer between -30 and 100</span>
</span><span id="L-814"><a href="#L-814"><span class="linenos">814</span></a><span class="sd">                org:res, grade, concept:name: integer between 0 and 100</span>
</span><span id="L-815"><a href="#L-815"><span class="linenos">815</span></a><span class="sd">                &quot;&quot;&quot;</span>
</span><span id="L-816"><a href="#L-816"><span class="linenos">816</span></a>                <span class="c1"># consider this complex line: price:art1, price:art2, cat2: group1:v1, group1:v2, group3:v1</span>
</span><span id="L-817"><a href="#L-817"><span class="linenos">817</span></a>                <span class="n">split</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;: &quot;</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span><span id="L-818"><a href="#L-818"><span class="linenos">818</span></a>                <span class="n">attributes_list</span> <span class="o">=</span> <span class="n">split</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># price:art1, price:art2, cat2</span>
</span><span id="L-819"><a href="#L-819"><span class="linenos">819</span></a>                <span class="n">attributes_list</span> <span class="o">=</span> <span class="n">attributes_list</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
</span><span id="L-820"><a href="#L-820"><span class="linenos">820</span></a>                <span class="n">value</span> <span class="o">=</span> <span class="n">split</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="L-821"><a href="#L-821"><span class="linenos">821</span></a>                <span class="n">typ</span> <span class="o">=</span> <span class="n">DeclareModel</span><span class="o">.</span><span class="n">detect_declare_attr_value_type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</span><span id="L-822"><a href="#L-822"><span class="linenos">822</span></a>                <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">attributes_list</span><span class="p">:</span>
</span><span id="L-823"><a href="#L-823"><span class="linenos">823</span></a>                    <span class="n">declare_parsed_model</span><span class="o">.</span><span class="n">add_attribute_value</span><span class="p">(</span><span class="n">attr</span><span class="p">,</span> <span class="n">typ</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span><span id="L-824"><a href="#L-824"><span class="linenos">824</span></a>            <span class="k">elif</span> <span class="n">DeclareModel</span><span class="o">.</span><span class="n">is_constraint_template_definition</span><span class="p">(</span><span class="n">line</span><span class="p">):</span>
</span><span id="L-825"><a href="#L-825"><span class="linenos">825</span></a>                <span class="n">split</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;[&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="L-826"><a href="#L-826"><span class="linenos">826</span></a>                <span class="n">template_search</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(^.+?)(\d*$)&#39;</span><span class="p">,</span> <span class="n">split</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</span><span id="L-827"><a href="#L-827"><span class="linenos">827</span></a>                <span class="k">if</span> <span class="n">template_search</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-828"><a href="#L-828"><span class="linenos">828</span></a>                    <span class="n">template_str</span><span class="p">,</span> <span class="n">cardinality</span> <span class="o">=</span> <span class="n">template_search</span><span class="o">.</span><span class="n">groups</span><span class="p">()</span>
</span><span id="L-829"><a href="#L-829"><span class="linenos">829</span></a>                    <span class="n">template</span> <span class="o">=</span> <span class="n">DeclareModelTemplate</span><span class="o">.</span><span class="n">get_template_from_string</span><span class="p">(</span><span class="n">template_str</span><span class="p">)</span>
</span><span id="L-830"><a href="#L-830"><span class="linenos">830</span></a>                    <span class="k">if</span> <span class="n">template</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-831"><a href="#L-831"><span class="linenos">831</span></a>                        <span class="n">activities</span> <span class="o">=</span> <span class="n">split</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;]&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="L-832"><a href="#L-832"><span class="linenos">832</span></a>                        <span class="n">activities</span> <span class="o">=</span> <span class="n">activities</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;, &quot;</span><span class="p">)</span>
</span><span id="L-833"><a href="#L-833"><span class="linenos">833</span></a>                        <span class="n">tmp</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;template&quot;</span><span class="p">:</span> <span class="n">template</span><span class="p">,</span> <span class="s2">&quot;activities&quot;</span><span class="p">:</span> <span class="n">activities</span><span class="p">,</span>
</span><span id="L-834"><a href="#L-834"><span class="linenos">834</span></a>                               <span class="s2">&quot;condition&quot;</span><span class="p">:</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\s+\|&#39;</span><span class="p">,</span> <span class="n">line</span><span class="p">)[</span><span class="mi">1</span><span class="p">:]}</span>
</span><span id="L-835"><a href="#L-835"><span class="linenos">835</span></a>                        <span class="k">if</span> <span class="n">template</span><span class="o">.</span><span class="n">supports_cardinality</span><span class="p">:</span>
</span><span id="L-836"><a href="#L-836"><span class="linenos">836</span></a>                            <span class="n">tmp</span><span class="p">[</span><span class="s1">&#39;n&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">cardinality</span> <span class="k">else</span> <span class="nb">int</span><span class="p">(</span><span class="n">cardinality</span><span class="p">)</span>
</span><span id="L-837"><a href="#L-837"><span class="linenos">837</span></a>                            <span class="n">cardinality</span> <span class="o">=</span> <span class="n">tmp</span><span class="p">[</span><span class="s1">&#39;n&#39;</span><span class="p">]</span>
</span><span id="L-838"><a href="#L-838"><span class="linenos">838</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">constraints</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tmp</span><span class="p">)</span>
</span><span id="L-839"><a href="#L-839"><span class="linenos">839</span></a>                        <span class="n">declare_parsed_model</span><span class="o">.</span><span class="n">add_template</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">template</span><span class="p">,</span> <span class="n">cardinality</span><span class="p">)</span>
</span><span id="L-840"><a href="#L-840"><span class="linenos">840</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_constraints</span><span class="p">()</span>
</span><span id="L-841"><a href="#L-841"><span class="linenos">841</span></a>        <span class="n">declare_parsed_model</span><span class="o">.</span><span class="n">template_constraints</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">constraints</span>
</span><span id="L-842"><a href="#L-842"><span class="linenos">842</span></a>
</span><span id="L-843"><a href="#L-843"><span class="linenos">843</span></a>    <span class="nd">@staticmethod</span>
</span><span id="L-844"><a href="#L-844"><span class="linenos">844</span></a>    <span class="k">def</span> <span class="nf">is_event_name_definition</span><span class="p">(</span><span class="n">line</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="L-845"><a href="#L-845"><span class="linenos">845</span></a>        <span class="n">x</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;^\w+ [\w ]+$&quot;</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">MULTILINE</span><span class="p">)</span>
</span><span id="L-846"><a href="#L-846"><span class="linenos">846</span></a>        <span class="k">return</span> <span class="n">x</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
</span><span id="L-847"><a href="#L-847"><span class="linenos">847</span></a>
</span><span id="L-848"><a href="#L-848"><span class="linenos">848</span></a>    <span class="nd">@staticmethod</span>
</span><span id="L-849"><a href="#L-849"><span class="linenos">849</span></a>    <span class="k">def</span> <span class="nf">is_event_attributes_definition</span><span class="p">(</span><span class="n">line</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="L-850"><a href="#L-850"><span class="linenos">850</span></a>        <span class="n">x</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s2">&quot;^bind (.*?)+$&quot;</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">MULTILINE</span><span class="p">)</span>
</span><span id="L-851"><a href="#L-851"><span class="linenos">851</span></a>        <span class="k">return</span> <span class="n">x</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
</span><span id="L-852"><a href="#L-852"><span class="linenos">852</span></a>
</span><span id="L-853"><a href="#L-853"><span class="linenos">853</span></a>    <span class="nd">@staticmethod</span>
</span><span id="L-854"><a href="#L-854"><span class="linenos">854</span></a>    <span class="k">def</span> <span class="nf">is_events_attrs_value_definition</span><span class="p">(</span><span class="n">line</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="L-855"><a href="#L-855"><span class="linenos">855</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-856"><a href="#L-856"><span class="linenos">856</span></a><span class="sd">        categorical: c1, c2, c3</span>
</span><span id="L-857"><a href="#L-857"><span class="linenos">857</span></a><span class="sd">        categorical: group1:v1, group1:v2, group3:v1       &lt;-------- Fails to parse this line</span>
</span><span id="L-858"><a href="#L-858"><span class="linenos">858</span></a><span class="sd">        integer: integer between 0 and 100</span>
</span><span id="L-859"><a href="#L-859"><span class="linenos">859</span></a><span class="sd">        org:resource: 10</span>
</span><span id="L-860"><a href="#L-860"><span class="linenos">860</span></a><span class="sd">        org:resource, org:vote: 10</span>
</span><span id="L-861"><a href="#L-861"><span class="linenos">861</span></a><span class="sd">        org:vote, grade: 9</span>
</span><span id="L-862"><a href="#L-862"><span class="linenos">862</span></a><span class="sd">        org:categorical: integer between 0 and 100</span>
</span><span id="L-863"><a href="#L-863"><span class="linenos">863</span></a><span class="sd">        categorical: integer between 0 and 100</span>
</span><span id="L-864"><a href="#L-864"><span class="linenos">864</span></a><span class="sd">        base, mark: integer between 0 and 100</span>
</span><span id="L-865"><a href="#L-865"><span class="linenos">865</span></a><span class="sd">        org:res, grade, concept:name: integer between 0 and 100</span>
</span><span id="L-866"><a href="#L-866"><span class="linenos">866</span></a><span class="sd">        :param line: declare line</span>
</span><span id="L-867"><a href="#L-867"><span class="linenos">867</span></a><span class="sd">        :return:</span>
</span><span id="L-868"><a href="#L-868"><span class="linenos">868</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-869"><a href="#L-869"><span class="linenos">869</span></a>        <span class="n">x</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;^(?!bind)([a-zA-Z_,0-9.?:\- ]+) *(: *[\w,.? \-]+)$&quot;</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">MULTILINE</span><span class="p">)</span>
</span><span id="L-870"><a href="#L-870"><span class="linenos">870</span></a>        <span class="k">if</span> <span class="n">x</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-871"><a href="#L-871"><span class="linenos">871</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-872"><a href="#L-872"><span class="linenos">872</span></a>        <span class="n">groups_len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">groups</span><span class="p">())</span>
</span><span id="L-873"><a href="#L-873"><span class="linenos">873</span></a>        <span class="k">return</span> <span class="n">groups_len</span> <span class="o">&gt;=</span> <span class="mi">2</span>
</span><span id="L-874"><a href="#L-874"><span class="linenos">874</span></a>
</span><span id="L-875"><a href="#L-875"><span class="linenos">875</span></a>    <span class="nd">@staticmethod</span>
</span><span id="L-876"><a href="#L-876"><span class="linenos">876</span></a>    <span class="k">def</span> <span class="nf">is_constraint_template_definition</span><span class="p">(</span><span class="n">line</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="L-877"><a href="#L-877"><span class="linenos">877</span></a>        <span class="n">x</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">DeclareModel</span><span class="o">.</span><span class="n">CONSTRAINTS_TEMPLATES_PATTERN</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">MULTILINE</span><span class="p">)</span>
</span><span id="L-878"><a href="#L-878"><span class="linenos">878</span></a>        <span class="k">return</span> <span class="n">x</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
</span><span id="L-879"><a href="#L-879"><span class="linenos">879</span></a>
</span><span id="L-880"><a href="#L-880"><span class="linenos">880</span></a>    <span class="nd">@staticmethod</span>
</span><span id="L-881"><a href="#L-881"><span class="linenos">881</span></a>    <span class="k">def</span> <span class="nf">detect_declare_attr_value_type</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DeclareModelAttributeType</span><span class="p">:</span>
</span><span id="L-882"><a href="#L-882"><span class="linenos">882</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-883"><a href="#L-883"><span class="linenos">883</span></a><span class="sd">        Detect the type of value assigned to an attribute assigned</span>
</span><span id="L-884"><a href="#L-884"><span class="linenos">884</span></a><span class="sd">        Parameters</span>
</span><span id="L-885"><a href="#L-885"><span class="linenos">885</span></a><span class="sd">        ----------</span>
</span><span id="L-886"><a href="#L-886"><span class="linenos">886</span></a><span class="sd">        value: assigned value</span>
</span><span id="L-887"><a href="#L-887"><span class="linenos">887</span></a><span class="sd">        Returns DeclareModelAttributeType</span>
</span><span id="L-888"><a href="#L-888"><span class="linenos">888</span></a><span class="sd">        -------</span>
</span><span id="L-889"><a href="#L-889"><span class="linenos">889</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-890"><a href="#L-890"><span class="linenos">890</span></a>        <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="L-891"><a href="#L-891"><span class="linenos">891</span></a>        <span class="n">v2</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;  &quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="L-892"><a href="#L-892"><span class="linenos">892</span></a>        <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;^[+-]?\d+$&quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">MULTILINE</span><span class="p">):</span>
</span><span id="L-893"><a href="#L-893"><span class="linenos">893</span></a>            <span class="k">return</span> <span class="n">DeclareModelAttributeType</span><span class="o">.</span><span class="n">INTEGER</span>
</span><span id="L-894"><a href="#L-894"><span class="linenos">894</span></a>        <span class="k">elif</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;^[+-]?\d+(?:\.\d+)?$&quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">MULTILINE</span><span class="p">):</span>
</span><span id="L-895"><a href="#L-895"><span class="linenos">895</span></a>            <span class="k">return</span> <span class="n">DeclareModelAttributeType</span><span class="o">.</span><span class="n">FLOAT</span>
</span><span id="L-896"><a href="#L-896"><span class="linenos">896</span></a>        <span class="k">elif</span> <span class="n">v2</span> <span class="ow">and</span> <span class="n">v2</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;integer between&quot;</span><span class="p">):</span>
</span><span id="L-897"><a href="#L-897"><span class="linenos">897</span></a>            <span class="c1"># ^integer * between *[+-]?\d+(?:\.\d+)? *and [+-]?\d+(?:\.\d+)?$</span>
</span><span id="L-898"><a href="#L-898"><span class="linenos">898</span></a>            <span class="k">return</span> <span class="n">DeclareModelAttributeType</span><span class="o">.</span><span class="n">INTEGER_RANGE</span>
</span><span id="L-899"><a href="#L-899"><span class="linenos">899</span></a>        <span class="k">elif</span> <span class="n">v2</span> <span class="ow">and</span> <span class="n">v2</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;float between&quot;</span><span class="p">):</span>
</span><span id="L-900"><a href="#L-900"><span class="linenos">900</span></a>            <span class="c1"># ^float * between *[+-]?\d+(?:\.\d+)? *and [+-]?\d+(?:\.\d+)?$</span>
</span><span id="L-901"><a href="#L-901"><span class="linenos">901</span></a>            <span class="k">return</span> <span class="n">DeclareModelAttributeType</span><span class="o">.</span><span class="n">FLOAT_RANGE</span>
</span><span id="L-902"><a href="#L-902"><span class="linenos">902</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-903"><a href="#L-903"><span class="linenos">903</span></a>            <span class="k">return</span> <span class="n">DeclareModelAttributeType</span><span class="o">.</span><span class="n">ENUMERATION</span>
</span><span id="L-904"><a href="#L-904"><span class="linenos">904</span></a>
</span><span id="L-905"><a href="#L-905"><span class="linenos">905</span></a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-906"><a href="#L-906"><span class="linenos">906</span></a>        <span class="n">st</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span><span class="se">{{</span><span class="s2">&quot;activities&quot;: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">activities</span><span class="si">}</span><span class="s2">, &quot;serialized_constraints&quot;: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">serialized_constraints</span><span class="si">}</span><span class="s2">,</span><span class="se">\</span>
</span><span id="L-907"><a href="#L-907"><span class="linenos">907</span></a><span class="s2">        &quot;constraints&quot;: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">constraints</span><span class="si">}</span><span class="s2">, &quot;parsed_model&quot;: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">parsed_model</span><span class="o">.</span><span class="n">to_json</span><span class="p">()</span><span class="si">}</span><span class="s2"> </span><span class="se">}}</span><span class="s2"> &quot;&quot;&quot;</span>
</span><span id="L-908"><a href="#L-908"><span class="linenos">908</span></a>        <span class="k">return</span> <span class="n">st</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;&#39;&quot;</span><span class="p">,</span> <span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
</span></pre></div>


            </section>
                <section id="DeclareModelTemplate">
                            <input id="DeclareModelTemplate-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">DeclareModelTemplate</span><wbr>(<span class="base">builtins.str</span>, <span class="base">enum.Enum</span>):

                <label class="view-source-button" for="DeclareModelTemplate-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareModelTemplate"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareModelTemplate-19"><a href="#DeclareModelTemplate-19"><span class="linenos"> 19</span></a><span class="k">class</span> <span class="nc">DeclareModelTemplate</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">Enum</span><span class="p">):</span>
</span><span id="DeclareModelTemplate-20"><a href="#DeclareModelTemplate-20"><span class="linenos"> 20</span></a>
</span><span id="DeclareModelTemplate-21"><a href="#DeclareModelTemplate-21"><span class="linenos"> 21</span></a>    <span class="k">def</span> <span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
</span><span id="DeclareModelTemplate-22"><a href="#DeclareModelTemplate-22"><span class="linenos"> 22</span></a>        <span class="n">value</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">__members__</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
</span><span id="DeclareModelTemplate-23"><a href="#DeclareModelTemplate-23"><span class="linenos"> 23</span></a>        <span class="n">obj</span> <span class="o">=</span> <span class="nb">str</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>
</span><span id="DeclareModelTemplate-24"><a href="#DeclareModelTemplate-24"><span class="linenos"> 24</span></a>        <span class="n">obj</span><span class="o">.</span><span class="n">_value_</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="DeclareModelTemplate-25"><a href="#DeclareModelTemplate-25"><span class="linenos"> 25</span></a>        <span class="k">return</span> <span class="n">obj</span>
</span><span id="DeclareModelTemplate-26"><a href="#DeclareModelTemplate-26"><span class="linenos"> 26</span></a>
</span><span id="DeclareModelTemplate-27"><a href="#DeclareModelTemplate-27"><span class="linenos"> 27</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">templ_str</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">is_binary</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">is_negative</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
</span><span id="DeclareModelTemplate-28"><a href="#DeclareModelTemplate-28"><span class="linenos"> 28</span></a>                 <span class="n">supports_cardinality</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
</span><span id="DeclareModelTemplate-29"><a href="#DeclareModelTemplate-29"><span class="linenos"> 29</span></a>                 <span class="n">both_activation_condition</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
</span><span id="DeclareModelTemplate-30"><a href="#DeclareModelTemplate-30"><span class="linenos"> 30</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DeclareModelTemplate-31"><a href="#DeclareModelTemplate-31"><span class="linenos"> 31</span></a>
</span><span id="DeclareModelTemplate-32"><a href="#DeclareModelTemplate-32"><span class="linenos"> 32</span></a><span class="sd">        Parameters</span>
</span><span id="DeclareModelTemplate-33"><a href="#DeclareModelTemplate-33"><span class="linenos"> 33</span></a><span class="sd">        ----------</span>
</span><span id="DeclareModelTemplate-34"><a href="#DeclareModelTemplate-34"><span class="linenos"> 34</span></a><span class="sd">        templ_str: template name</span>
</span><span id="DeclareModelTemplate-35"><a href="#DeclareModelTemplate-35"><span class="linenos"> 35</span></a><span class="sd">        is_binary: whether template supports 2 events</span>
</span><span id="DeclareModelTemplate-36"><a href="#DeclareModelTemplate-36"><span class="linenos"> 36</span></a><span class="sd">        is_negative: whether the template is negative</span>
</span><span id="DeclareModelTemplate-37"><a href="#DeclareModelTemplate-37"><span class="linenos"> 37</span></a><span class="sd">        supports_cardinality: whether template supports cardinality, i.e Existence template is unary</span>
</span><span id="DeclareModelTemplate-38"><a href="#DeclareModelTemplate-38"><span class="linenos"> 38</span></a><span class="sd">         but you can specify a number how many times Existence should occur. &quot;Existence4[A]|||&quot; where 4 times at least occur.</span>
</span><span id="DeclareModelTemplate-39"><a href="#DeclareModelTemplate-39"><span class="linenos"> 39</span></a><span class="sd">        both_activation_condition: some templates doesn&#39;t have target condition, instead both conditions are activation conditions.</span>
</span><span id="DeclareModelTemplate-40"><a href="#DeclareModelTemplate-40"><span class="linenos"> 40</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DeclareModelTemplate-41"><a href="#DeclareModelTemplate-41"><span class="linenos"> 41</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">templ_str</span> <span class="o">=</span> <span class="n">templ_str</span>
</span><span id="DeclareModelTemplate-42"><a href="#DeclareModelTemplate-42"><span class="linenos"> 42</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">is_binary</span> <span class="o">=</span> <span class="n">is_binary</span>
</span><span id="DeclareModelTemplate-43"><a href="#DeclareModelTemplate-43"><span class="linenos"> 43</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">is_negative</span> <span class="o">=</span> <span class="n">is_negative</span>
</span><span id="DeclareModelTemplate-44"><a href="#DeclareModelTemplate-44"><span class="linenos"> 44</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">supports_cardinality</span> <span class="o">=</span> <span class="n">supports_cardinality</span>
</span><span id="DeclareModelTemplate-45"><a href="#DeclareModelTemplate-45"><span class="linenos"> 45</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">both_activation_condition</span> <span class="o">=</span> <span class="n">both_activation_condition</span>
</span><span id="DeclareModelTemplate-46"><a href="#DeclareModelTemplate-46"><span class="linenos"> 46</span></a>
</span><span id="DeclareModelTemplate-47"><a href="#DeclareModelTemplate-47"><span class="linenos"> 47</span></a>    <span class="n">EXISTENCE</span> <span class="o">=</span> <span class="s2">&quot;Existence&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span>
</span><span id="DeclareModelTemplate-48"><a href="#DeclareModelTemplate-48"><span class="linenos"> 48</span></a>    <span class="n">ABSENCE</span> <span class="o">=</span> <span class="s2">&quot;Absence&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span>
</span><span id="DeclareModelTemplate-49"><a href="#DeclareModelTemplate-49"><span class="linenos"> 49</span></a>    <span class="n">EXACTLY</span> <span class="o">=</span> <span class="s2">&quot;Exactly&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span>
</span><span id="DeclareModelTemplate-50"><a href="#DeclareModelTemplate-50"><span class="linenos"> 50</span></a>    <span class="n">INIT</span> <span class="o">=</span> <span class="s2">&quot;Init&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span>
</span><span id="DeclareModelTemplate-51"><a href="#DeclareModelTemplate-51"><span class="linenos"> 51</span></a>
</span><span id="DeclareModelTemplate-52"><a href="#DeclareModelTemplate-52"><span class="linenos"> 52</span></a>    <span class="n">CHOICE</span> <span class="o">=</span> <span class="s2">&quot;Choice&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span>
</span><span id="DeclareModelTemplate-53"><a href="#DeclareModelTemplate-53"><span class="linenos"> 53</span></a>    <span class="n">EXCLUSIVE_CHOICE</span> <span class="o">=</span> <span class="s2">&quot;Exclusive Choice&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span>
</span><span id="DeclareModelTemplate-54"><a href="#DeclareModelTemplate-54"><span class="linenos"> 54</span></a>
</span><span id="DeclareModelTemplate-55"><a href="#DeclareModelTemplate-55"><span class="linenos"> 55</span></a>    <span class="n">RESPONDED_EXISTENCE</span> <span class="o">=</span> <span class="s2">&quot;Responded Existence&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span>
</span><span id="DeclareModelTemplate-56"><a href="#DeclareModelTemplate-56"><span class="linenos"> 56</span></a>    <span class="n">RESPONSE</span> <span class="o">=</span> <span class="s2">&quot;Response&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span>
</span><span id="DeclareModelTemplate-57"><a href="#DeclareModelTemplate-57"><span class="linenos"> 57</span></a>    <span class="n">ALTERNATE_RESPONSE</span> <span class="o">=</span> <span class="s2">&quot;Alternate Response&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span>
</span><span id="DeclareModelTemplate-58"><a href="#DeclareModelTemplate-58"><span class="linenos"> 58</span></a>    <span class="n">CHAIN_RESPONSE</span> <span class="o">=</span> <span class="s2">&quot;Chain Response&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span>
</span><span id="DeclareModelTemplate-59"><a href="#DeclareModelTemplate-59"><span class="linenos"> 59</span></a>    <span class="n">PRECEDENCE</span> <span class="o">=</span> <span class="s2">&quot;Precedence&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span>
</span><span id="DeclareModelTemplate-60"><a href="#DeclareModelTemplate-60"><span class="linenos"> 60</span></a>    <span class="n">ALTERNATE_PRECEDENCE</span> <span class="o">=</span> <span class="s2">&quot;Alternate Precedence&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span>
</span><span id="DeclareModelTemplate-61"><a href="#DeclareModelTemplate-61"><span class="linenos"> 61</span></a>    <span class="n">CHAIN_PRECEDENCE</span> <span class="o">=</span> <span class="s2">&quot;Chain Precedence&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span>
</span><span id="DeclareModelTemplate-62"><a href="#DeclareModelTemplate-62"><span class="linenos"> 62</span></a>    <span class="c1"># response(A, b) and precedence(a, b) = succession(a, b)</span>
</span><span id="DeclareModelTemplate-63"><a href="#DeclareModelTemplate-63"><span class="linenos"> 63</span></a>
</span><span id="DeclareModelTemplate-64"><a href="#DeclareModelTemplate-64"><span class="linenos"> 64</span></a>    <span class="c1"># responded_existence(A, b) and responded_existence(b, a) = coexistence(a, b)</span>
</span><span id="DeclareModelTemplate-65"><a href="#DeclareModelTemplate-65"><span class="linenos"> 65</span></a>    <span class="n">SUCCESSION</span> <span class="o">=</span> <span class="s2">&quot;Succession&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span>  <span class="c1"># TODO: check if it is defined correct</span>
</span><span id="DeclareModelTemplate-66"><a href="#DeclareModelTemplate-66"><span class="linenos"> 66</span></a>    <span class="n">ALTERNATE_SUCCESSION</span> <span class="o">=</span> <span class="s2">&quot;Alternate Succession&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span>  <span class="c1"># TODO: check whether it is defined correct</span>
</span><span id="DeclareModelTemplate-67"><a href="#DeclareModelTemplate-67"><span class="linenos"> 67</span></a>    <span class="n">CO_EXISTENCE</span> <span class="o">=</span> <span class="s2">&quot;Co-Existence&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span>  <span class="c1"># TODO: check whether it is defined correct, I dont think this one is correct</span>
</span><span id="DeclareModelTemplate-68"><a href="#DeclareModelTemplate-68"><span class="linenos"> 68</span></a>    <span class="n">CHAIN_SUCCESSION</span> <span class="o">=</span> <span class="s2">&quot;Chain Succession&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span>  <span class="c1"># TODO: check whether it is defined correct</span>
</span><span id="DeclareModelTemplate-69"><a href="#DeclareModelTemplate-69"><span class="linenos"> 69</span></a>    <span class="n">NOT_CHAIN_SUCCESSION</span> <span class="o">=</span> <span class="s2">&quot;Not Chain Succession&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span>  <span class="c1"># TODO: check whether it is defined correct</span>
</span><span id="DeclareModelTemplate-70"><a href="#DeclareModelTemplate-70"><span class="linenos"> 70</span></a>    <span class="n">NOT_CO_EXISTENCE</span> <span class="o">=</span> <span class="s2">&quot;Not Co-Existence&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span>  <span class="c1"># TODO: check whether it is defined correct, I dont think this one is correct</span>
</span><span id="DeclareModelTemplate-71"><a href="#DeclareModelTemplate-71"><span class="linenos"> 71</span></a>    <span class="n">NOT_SUCCESSION</span> <span class="o">=</span> <span class="s2">&quot;Not Succession&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span>  <span class="c1"># TODO: check if it is defined correct</span>
</span><span id="DeclareModelTemplate-72"><a href="#DeclareModelTemplate-72"><span class="linenos"> 72</span></a>
</span><span id="DeclareModelTemplate-73"><a href="#DeclareModelTemplate-73"><span class="linenos"> 73</span></a>    <span class="n">NOT_RESPONDED_EXISTENCE</span> <span class="o">=</span> <span class="s2">&quot;Not Responded Existence&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span>
</span><span id="DeclareModelTemplate-74"><a href="#DeclareModelTemplate-74"><span class="linenos"> 74</span></a>    <span class="n">NOT_RESPONSE</span> <span class="o">=</span> <span class="s2">&quot;Not Response&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span>
</span><span id="DeclareModelTemplate-75"><a href="#DeclareModelTemplate-75"><span class="linenos"> 75</span></a>    <span class="n">NOT_PRECEDENCE</span> <span class="o">=</span> <span class="s2">&quot;Not Precedence&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span>
</span><span id="DeclareModelTemplate-76"><a href="#DeclareModelTemplate-76"><span class="linenos"> 76</span></a>    <span class="n">NOT_CHAIN_RESPONSE</span> <span class="o">=</span> <span class="s2">&quot;Not Chain Response&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span>
</span><span id="DeclareModelTemplate-77"><a href="#DeclareModelTemplate-77"><span class="linenos"> 77</span></a>    <span class="n">NOT_CHAIN_PRECEDENCE</span> <span class="o">=</span> <span class="s2">&quot;Not Chain Precedence&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span>
</span><span id="DeclareModelTemplate-78"><a href="#DeclareModelTemplate-78"><span class="linenos"> 78</span></a>
</span><span id="DeclareModelTemplate-79"><a href="#DeclareModelTemplate-79"><span class="linenos"> 79</span></a>    <span class="nd">@classmethod</span>
</span><span id="DeclareModelTemplate-80"><a href="#DeclareModelTemplate-80"><span class="linenos"> 80</span></a>    <span class="k">def</span> <span class="nf">get_template_from_string</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">template_str</span><span class="p">):</span>
</span><span id="DeclareModelTemplate-81"><a href="#DeclareModelTemplate-81"><span class="linenos"> 81</span></a>        <span class="k">return</span> <span class="nb">next</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">t</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">templ_str</span> <span class="o">==</span> <span class="n">template_str</span><span class="p">,</span> <span class="n">DeclareModelTemplate</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="DeclareModelTemplate-82"><a href="#DeclareModelTemplate-82"><span class="linenos"> 82</span></a>
</span><span id="DeclareModelTemplate-83"><a href="#DeclareModelTemplate-83"><span class="linenos"> 83</span></a>    <span class="nd">@classmethod</span>
</span><span id="DeclareModelTemplate-84"><a href="#DeclareModelTemplate-84"><span class="linenos"> 84</span></a>    <span class="k">def</span> <span class="nf">get_unary_templates</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
</span><span id="DeclareModelTemplate-85"><a href="#DeclareModelTemplate-85"><span class="linenos"> 85</span></a>        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">t</span><span class="p">:</span> <span class="ow">not</span> <span class="n">t</span><span class="o">.</span><span class="n">is_binary</span><span class="p">,</span> <span class="n">DeclareModelTemplate</span><span class="p">))</span>
</span><span id="DeclareModelTemplate-86"><a href="#DeclareModelTemplate-86"><span class="linenos"> 86</span></a>
</span><span id="DeclareModelTemplate-87"><a href="#DeclareModelTemplate-87"><span class="linenos"> 87</span></a>    <span class="nd">@classmethod</span>
</span><span id="DeclareModelTemplate-88"><a href="#DeclareModelTemplate-88"><span class="linenos"> 88</span></a>    <span class="k">def</span> <span class="nf">get_binary_templates</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
</span><span id="DeclareModelTemplate-89"><a href="#DeclareModelTemplate-89"><span class="linenos"> 89</span></a>        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">t</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">is_binary</span><span class="p">,</span> <span class="n">DeclareModelTemplate</span><span class="p">))</span>
</span><span id="DeclareModelTemplate-90"><a href="#DeclareModelTemplate-90"><span class="linenos"> 90</span></a>
</span><span id="DeclareModelTemplate-91"><a href="#DeclareModelTemplate-91"><span class="linenos"> 91</span></a>    <span class="nd">@classmethod</span>
</span><span id="DeclareModelTemplate-92"><a href="#DeclareModelTemplate-92"><span class="linenos"> 92</span></a>    <span class="k">def</span> <span class="nf">get_positive_templates</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
</span><span id="DeclareModelTemplate-93"><a href="#DeclareModelTemplate-93"><span class="linenos"> 93</span></a>        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">t</span><span class="p">:</span> <span class="ow">not</span> <span class="n">t</span><span class="o">.</span><span class="n">is_negative</span><span class="p">,</span> <span class="n">DeclareModelTemplate</span><span class="p">))</span>
</span><span id="DeclareModelTemplate-94"><a href="#DeclareModelTemplate-94"><span class="linenos"> 94</span></a>
</span><span id="DeclareModelTemplate-95"><a href="#DeclareModelTemplate-95"><span class="linenos"> 95</span></a>    <span class="nd">@classmethod</span>
</span><span id="DeclareModelTemplate-96"><a href="#DeclareModelTemplate-96"><span class="linenos"> 96</span></a>    <span class="k">def</span> <span class="nf">get_negative_templates</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
</span><span id="DeclareModelTemplate-97"><a href="#DeclareModelTemplate-97"><span class="linenos"> 97</span></a>        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">t</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">is_negative</span><span class="p">,</span> <span class="n">DeclareModelTemplate</span><span class="p">))</span>
</span><span id="DeclareModelTemplate-98"><a href="#DeclareModelTemplate-98"><span class="linenos"> 98</span></a>
</span><span id="DeclareModelTemplate-99"><a href="#DeclareModelTemplate-99"><span class="linenos"> 99</span></a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="DeclareModelTemplate-100"><a href="#DeclareModelTemplate-100"><span class="linenos">100</span></a>        <span class="k">return</span> <span class="s2">&quot;&lt;Template.&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">templ_str</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; &gt;&quot;</span>
</span><span id="DeclareModelTemplate-101"><a href="#DeclareModelTemplate-101"><span class="linenos">101</span></a>
</span><span id="DeclareModelTemplate-102"><a href="#DeclareModelTemplate-102"><span class="linenos">102</span></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="DeclareModelTemplate-103"><a href="#DeclareModelTemplate-103"><span class="linenos">103</span></a>        <span class="k">return</span> <span class="s2">&quot;</span><span class="se">\&quot;</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="fm">__str__</span><span class="p">())</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\&quot;</span><span class="s2">&quot;</span>
</span></pre></div>


            <div class="docstring"><p>An enumeration.</p>
</div>


                            <div id="DeclareModelTemplate.__init__" class="classattr">
                                        <input id="DeclareModelTemplate.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">DeclareModelTemplate</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">templ_str</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">is_binary</span><span class="p">:</span> <span class="nb">bool</span>,</span><span class="param">	<span class="n">is_negative</span><span class="p">:</span> <span class="nb">bool</span>,</span><span class="param">	<span class="n">supports_cardinality</span><span class="p">:</span> <span class="nb">bool</span>,</span><span class="param">	<span class="n">both_activation_condition</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span>)</span>

                <label class="view-source-button" for="DeclareModelTemplate.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareModelTemplate.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareModelTemplate.__init__-27"><a href="#DeclareModelTemplate.__init__-27"><span class="linenos">27</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">templ_str</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">is_binary</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">is_negative</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
</span><span id="DeclareModelTemplate.__init__-28"><a href="#DeclareModelTemplate.__init__-28"><span class="linenos">28</span></a>                 <span class="n">supports_cardinality</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
</span><span id="DeclareModelTemplate.__init__-29"><a href="#DeclareModelTemplate.__init__-29"><span class="linenos">29</span></a>                 <span class="n">both_activation_condition</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
</span><span id="DeclareModelTemplate.__init__-30"><a href="#DeclareModelTemplate.__init__-30"><span class="linenos">30</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DeclareModelTemplate.__init__-31"><a href="#DeclareModelTemplate.__init__-31"><span class="linenos">31</span></a>
</span><span id="DeclareModelTemplate.__init__-32"><a href="#DeclareModelTemplate.__init__-32"><span class="linenos">32</span></a><span class="sd">        Parameters</span>
</span><span id="DeclareModelTemplate.__init__-33"><a href="#DeclareModelTemplate.__init__-33"><span class="linenos">33</span></a><span class="sd">        ----------</span>
</span><span id="DeclareModelTemplate.__init__-34"><a href="#DeclareModelTemplate.__init__-34"><span class="linenos">34</span></a><span class="sd">        templ_str: template name</span>
</span><span id="DeclareModelTemplate.__init__-35"><a href="#DeclareModelTemplate.__init__-35"><span class="linenos">35</span></a><span class="sd">        is_binary: whether template supports 2 events</span>
</span><span id="DeclareModelTemplate.__init__-36"><a href="#DeclareModelTemplate.__init__-36"><span class="linenos">36</span></a><span class="sd">        is_negative: whether the template is negative</span>
</span><span id="DeclareModelTemplate.__init__-37"><a href="#DeclareModelTemplate.__init__-37"><span class="linenos">37</span></a><span class="sd">        supports_cardinality: whether template supports cardinality, i.e Existence template is unary</span>
</span><span id="DeclareModelTemplate.__init__-38"><a href="#DeclareModelTemplate.__init__-38"><span class="linenos">38</span></a><span class="sd">         but you can specify a number how many times Existence should occur. &quot;Existence4[A]|||&quot; where 4 times at least occur.</span>
</span><span id="DeclareModelTemplate.__init__-39"><a href="#DeclareModelTemplate.__init__-39"><span class="linenos">39</span></a><span class="sd">        both_activation_condition: some templates doesn&#39;t have target condition, instead both conditions are activation conditions.</span>
</span><span id="DeclareModelTemplate.__init__-40"><a href="#DeclareModelTemplate.__init__-40"><span class="linenos">40</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DeclareModelTemplate.__init__-41"><a href="#DeclareModelTemplate.__init__-41"><span class="linenos">41</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">templ_str</span> <span class="o">=</span> <span class="n">templ_str</span>
</span><span id="DeclareModelTemplate.__init__-42"><a href="#DeclareModelTemplate.__init__-42"><span class="linenos">42</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">is_binary</span> <span class="o">=</span> <span class="n">is_binary</span>
</span><span id="DeclareModelTemplate.__init__-43"><a href="#DeclareModelTemplate.__init__-43"><span class="linenos">43</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">is_negative</span> <span class="o">=</span> <span class="n">is_negative</span>
</span><span id="DeclareModelTemplate.__init__-44"><a href="#DeclareModelTemplate.__init__-44"><span class="linenos">44</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">supports_cardinality</span> <span class="o">=</span> <span class="n">supports_cardinality</span>
</span><span id="DeclareModelTemplate.__init__-45"><a href="#DeclareModelTemplate.__init__-45"><span class="linenos">45</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">both_activation_condition</span> <span class="o">=</span> <span class="n">both_activation_condition</span>
</span></pre></div>


            <div class="docstring"><h2 id="parameters">Parameters</h2>

<p>templ_str: template name
is_binary: whether template supports 2 events
is_negative: whether the template is negative
supports_cardinality: whether template supports cardinality, i.e Existence template is unary
 but you can specify a number how many times Existence should occur. "Existence4[A]|||" where 4 times at least occur.
both_activation_condition: some templates doesn't have target condition, instead both conditions are activation conditions.</p>
</div>


                            </div>
                            <div id="DeclareModelTemplate.EXISTENCE" class="classattr">
                                <div class="attr variable">
            <span class="name">EXISTENCE</span><span class="default_value"> = &#34;&lt;Template.Existence: 1 &gt;&#34;</span>

        
    </div>
    <a class="headerlink" href="#DeclareModelTemplate.EXISTENCE"></a>
    
    

                            </div>
                            <div id="DeclareModelTemplate.ABSENCE" class="classattr">
                                <div class="attr variable">
            <span class="name">ABSENCE</span><span class="default_value"> = &#34;&lt;Template.Absence: 2 &gt;&#34;</span>

        
    </div>
    <a class="headerlink" href="#DeclareModelTemplate.ABSENCE"></a>
    
    

                            </div>
                            <div id="DeclareModelTemplate.EXACTLY" class="classattr">
                                <div class="attr variable">
            <span class="name">EXACTLY</span><span class="default_value"> = &#34;&lt;Template.Exactly: 3 &gt;&#34;</span>

        
    </div>
    <a class="headerlink" href="#DeclareModelTemplate.EXACTLY"></a>
    
    

                            </div>
                            <div id="DeclareModelTemplate.INIT" class="classattr">
                                <div class="attr variable">
            <span class="name">INIT</span><span class="default_value"> = &#34;&lt;Template.Init: 4 &gt;&#34;</span>

        
    </div>
    <a class="headerlink" href="#DeclareModelTemplate.INIT"></a>
    
    

                            </div>
                            <div id="DeclareModelTemplate.CHOICE" class="classattr">
                                <div class="attr variable">
            <span class="name">CHOICE</span><span class="default_value"> = &#34;&lt;Template.Choice: 5 &gt;&#34;</span>

        
    </div>
    <a class="headerlink" href="#DeclareModelTemplate.CHOICE"></a>
    
    

                            </div>
                            <div id="DeclareModelTemplate.EXCLUSIVE_CHOICE" class="classattr">
                                <div class="attr variable">
            <span class="name">EXCLUSIVE_CHOICE</span><span class="default_value"> = &#34;&lt;Template.Exclusive Choice: 6 &gt;&#34;</span>

        
    </div>
    <a class="headerlink" href="#DeclareModelTemplate.EXCLUSIVE_CHOICE"></a>
    
    

                            </div>
                            <div id="DeclareModelTemplate.RESPONDED_EXISTENCE" class="classattr">
                                <div class="attr variable">
            <span class="name">RESPONDED_EXISTENCE</span><span class="default_value"> = &#34;&lt;Template.Responded Existence: 7 &gt;&#34;</span>

        
    </div>
    <a class="headerlink" href="#DeclareModelTemplate.RESPONDED_EXISTENCE"></a>
    
    

                            </div>
                            <div id="DeclareModelTemplate.RESPONSE" class="classattr">
                                <div class="attr variable">
            <span class="name">RESPONSE</span><span class="default_value"> = &#34;&lt;Template.Response: 8 &gt;&#34;</span>

        
    </div>
    <a class="headerlink" href="#DeclareModelTemplate.RESPONSE"></a>
    
    

                            </div>
                            <div id="DeclareModelTemplate.ALTERNATE_RESPONSE" class="classattr">
                                <div class="attr variable">
            <span class="name">ALTERNATE_RESPONSE</span><span class="default_value"> = &#34;&lt;Template.Alternate Response: 9 &gt;&#34;</span>

        
    </div>
    <a class="headerlink" href="#DeclareModelTemplate.ALTERNATE_RESPONSE"></a>
    
    

                            </div>
                            <div id="DeclareModelTemplate.CHAIN_RESPONSE" class="classattr">
                                <div class="attr variable">
            <span class="name">CHAIN_RESPONSE</span><span class="default_value"> = &#34;&lt;Template.Chain Response: 10 &gt;&#34;</span>

        
    </div>
    <a class="headerlink" href="#DeclareModelTemplate.CHAIN_RESPONSE"></a>
    
    

                            </div>
                            <div id="DeclareModelTemplate.PRECEDENCE" class="classattr">
                                <div class="attr variable">
            <span class="name">PRECEDENCE</span><span class="default_value"> = &#34;&lt;Template.Precedence: 11 &gt;&#34;</span>

        
    </div>
    <a class="headerlink" href="#DeclareModelTemplate.PRECEDENCE"></a>
    
    

                            </div>
                            <div id="DeclareModelTemplate.ALTERNATE_PRECEDENCE" class="classattr">
                                <div class="attr variable">
            <span class="name">ALTERNATE_PRECEDENCE</span><span class="default_value"> = &#34;&lt;Template.Alternate Precedence: 12 &gt;&#34;</span>

        
    </div>
    <a class="headerlink" href="#DeclareModelTemplate.ALTERNATE_PRECEDENCE"></a>
    
    

                            </div>
                            <div id="DeclareModelTemplate.CHAIN_PRECEDENCE" class="classattr">
                                <div class="attr variable">
            <span class="name">CHAIN_PRECEDENCE</span><span class="default_value"> = &#34;&lt;Template.Chain Precedence: 13 &gt;&#34;</span>

        
    </div>
    <a class="headerlink" href="#DeclareModelTemplate.CHAIN_PRECEDENCE"></a>
    
    

                            </div>
                            <div id="DeclareModelTemplate.SUCCESSION" class="classattr">
                                <div class="attr variable">
            <span class="name">SUCCESSION</span><span class="default_value"> = &#34;&lt;Template.Succession: 14 &gt;&#34;</span>

        
    </div>
    <a class="headerlink" href="#DeclareModelTemplate.SUCCESSION"></a>
    
    

                            </div>
                            <div id="DeclareModelTemplate.ALTERNATE_SUCCESSION" class="classattr">
                                <div class="attr variable">
            <span class="name">ALTERNATE_SUCCESSION</span><span class="default_value"> = &#34;&lt;Template.Alternate Succession: 15 &gt;&#34;</span>

        
    </div>
    <a class="headerlink" href="#DeclareModelTemplate.ALTERNATE_SUCCESSION"></a>
    
    

                            </div>
                            <div id="DeclareModelTemplate.CO_EXISTENCE" class="classattr">
                                <div class="attr variable">
            <span class="name">CO_EXISTENCE</span><span class="default_value"> = &#34;&lt;Template.Co-Existence: 16 &gt;&#34;</span>

        
    </div>
    <a class="headerlink" href="#DeclareModelTemplate.CO_EXISTENCE"></a>
    
    

                            </div>
                            <div id="DeclareModelTemplate.CHAIN_SUCCESSION" class="classattr">
                                <div class="attr variable">
            <span class="name">CHAIN_SUCCESSION</span><span class="default_value"> = &#34;&lt;Template.Chain Succession: 17 &gt;&#34;</span>

        
    </div>
    <a class="headerlink" href="#DeclareModelTemplate.CHAIN_SUCCESSION"></a>
    
    

                            </div>
                            <div id="DeclareModelTemplate.NOT_CHAIN_SUCCESSION" class="classattr">
                                <div class="attr variable">
            <span class="name">NOT_CHAIN_SUCCESSION</span><span class="default_value"> = &#34;&lt;Template.Not Chain Succession: 18 &gt;&#34;</span>

        
    </div>
    <a class="headerlink" href="#DeclareModelTemplate.NOT_CHAIN_SUCCESSION"></a>
    
    

                            </div>
                            <div id="DeclareModelTemplate.NOT_CO_EXISTENCE" class="classattr">
                                <div class="attr variable">
            <span class="name">NOT_CO_EXISTENCE</span><span class="default_value"> = &#34;&lt;Template.Not Co-Existence: 19 &gt;&#34;</span>

        
    </div>
    <a class="headerlink" href="#DeclareModelTemplate.NOT_CO_EXISTENCE"></a>
    
    

                            </div>
                            <div id="DeclareModelTemplate.NOT_SUCCESSION" class="classattr">
                                <div class="attr variable">
            <span class="name">NOT_SUCCESSION</span><span class="default_value"> = &#34;&lt;Template.Not Succession: 20 &gt;&#34;</span>

        
    </div>
    <a class="headerlink" href="#DeclareModelTemplate.NOT_SUCCESSION"></a>
    
    

                            </div>
                            <div id="DeclareModelTemplate.NOT_RESPONDED_EXISTENCE" class="classattr">
                                <div class="attr variable">
            <span class="name">NOT_RESPONDED_EXISTENCE</span><span class="default_value"> = &#34;&lt;Template.Not Responded Existence: 21 &gt;&#34;</span>

        
    </div>
    <a class="headerlink" href="#DeclareModelTemplate.NOT_RESPONDED_EXISTENCE"></a>
    
    

                            </div>
                            <div id="DeclareModelTemplate.NOT_RESPONSE" class="classattr">
                                <div class="attr variable">
            <span class="name">NOT_RESPONSE</span><span class="default_value"> = &#34;&lt;Template.Not Response: 22 &gt;&#34;</span>

        
    </div>
    <a class="headerlink" href="#DeclareModelTemplate.NOT_RESPONSE"></a>
    
    

                            </div>
                            <div id="DeclareModelTemplate.NOT_PRECEDENCE" class="classattr">
                                <div class="attr variable">
            <span class="name">NOT_PRECEDENCE</span><span class="default_value"> = &#34;&lt;Template.Not Precedence: 23 &gt;&#34;</span>

        
    </div>
    <a class="headerlink" href="#DeclareModelTemplate.NOT_PRECEDENCE"></a>
    
    

                            </div>
                            <div id="DeclareModelTemplate.NOT_CHAIN_RESPONSE" class="classattr">
                                <div class="attr variable">
            <span class="name">NOT_CHAIN_RESPONSE</span><span class="default_value"> = &#34;&lt;Template.Not Chain Response: 24 &gt;&#34;</span>

        
    </div>
    <a class="headerlink" href="#DeclareModelTemplate.NOT_CHAIN_RESPONSE"></a>
    
    

                            </div>
                            <div id="DeclareModelTemplate.NOT_CHAIN_PRECEDENCE" class="classattr">
                                <div class="attr variable">
            <span class="name">NOT_CHAIN_PRECEDENCE</span><span class="default_value"> = &#34;&lt;Template.Not Chain Precedence: 25 &gt;&#34;</span>

        
    </div>
    <a class="headerlink" href="#DeclareModelTemplate.NOT_CHAIN_PRECEDENCE"></a>
    
    

                            </div>
                            <div id="DeclareModelTemplate.get_template_from_string" class="classattr">
                                        <input id="DeclareModelTemplate.get_template_from_string-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@classmethod</div>

        <span class="def">def</span>
        <span class="name">get_template_from_string</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">cls</span>, </span><span class="param"><span class="n">template_str</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DeclareModelTemplate.get_template_from_string-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareModelTemplate.get_template_from_string"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareModelTemplate.get_template_from_string-79"><a href="#DeclareModelTemplate.get_template_from_string-79"><span class="linenos">79</span></a>    <span class="nd">@classmethod</span>
</span><span id="DeclareModelTemplate.get_template_from_string-80"><a href="#DeclareModelTemplate.get_template_from_string-80"><span class="linenos">80</span></a>    <span class="k">def</span> <span class="nf">get_template_from_string</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">template_str</span><span class="p">):</span>
</span><span id="DeclareModelTemplate.get_template_from_string-81"><a href="#DeclareModelTemplate.get_template_from_string-81"><span class="linenos">81</span></a>        <span class="k">return</span> <span class="nb">next</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">t</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">templ_str</span> <span class="o">==</span> <span class="n">template_str</span><span class="p">,</span> <span class="n">DeclareModelTemplate</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="DeclareModelTemplate.get_unary_templates" class="classattr">
                                        <input id="DeclareModelTemplate.get_unary_templates-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@classmethod</div>

        <span class="def">def</span>
        <span class="name">get_unary_templates</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">cls</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DeclareModelTemplate.get_unary_templates-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareModelTemplate.get_unary_templates"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareModelTemplate.get_unary_templates-83"><a href="#DeclareModelTemplate.get_unary_templates-83"><span class="linenos">83</span></a>    <span class="nd">@classmethod</span>
</span><span id="DeclareModelTemplate.get_unary_templates-84"><a href="#DeclareModelTemplate.get_unary_templates-84"><span class="linenos">84</span></a>    <span class="k">def</span> <span class="nf">get_unary_templates</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
</span><span id="DeclareModelTemplate.get_unary_templates-85"><a href="#DeclareModelTemplate.get_unary_templates-85"><span class="linenos">85</span></a>        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">t</span><span class="p">:</span> <span class="ow">not</span> <span class="n">t</span><span class="o">.</span><span class="n">is_binary</span><span class="p">,</span> <span class="n">DeclareModelTemplate</span><span class="p">))</span>
</span></pre></div>


    

                            </div>
                            <div id="DeclareModelTemplate.get_binary_templates" class="classattr">
                                        <input id="DeclareModelTemplate.get_binary_templates-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@classmethod</div>

        <span class="def">def</span>
        <span class="name">get_binary_templates</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">cls</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DeclareModelTemplate.get_binary_templates-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareModelTemplate.get_binary_templates"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareModelTemplate.get_binary_templates-87"><a href="#DeclareModelTemplate.get_binary_templates-87"><span class="linenos">87</span></a>    <span class="nd">@classmethod</span>
</span><span id="DeclareModelTemplate.get_binary_templates-88"><a href="#DeclareModelTemplate.get_binary_templates-88"><span class="linenos">88</span></a>    <span class="k">def</span> <span class="nf">get_binary_templates</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
</span><span id="DeclareModelTemplate.get_binary_templates-89"><a href="#DeclareModelTemplate.get_binary_templates-89"><span class="linenos">89</span></a>        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">t</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">is_binary</span><span class="p">,</span> <span class="n">DeclareModelTemplate</span><span class="p">))</span>
</span></pre></div>


    

                            </div>
                            <div id="DeclareModelTemplate.get_positive_templates" class="classattr">
                                        <input id="DeclareModelTemplate.get_positive_templates-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@classmethod</div>

        <span class="def">def</span>
        <span class="name">get_positive_templates</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">cls</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DeclareModelTemplate.get_positive_templates-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareModelTemplate.get_positive_templates"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareModelTemplate.get_positive_templates-91"><a href="#DeclareModelTemplate.get_positive_templates-91"><span class="linenos">91</span></a>    <span class="nd">@classmethod</span>
</span><span id="DeclareModelTemplate.get_positive_templates-92"><a href="#DeclareModelTemplate.get_positive_templates-92"><span class="linenos">92</span></a>    <span class="k">def</span> <span class="nf">get_positive_templates</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
</span><span id="DeclareModelTemplate.get_positive_templates-93"><a href="#DeclareModelTemplate.get_positive_templates-93"><span class="linenos">93</span></a>        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">t</span><span class="p">:</span> <span class="ow">not</span> <span class="n">t</span><span class="o">.</span><span class="n">is_negative</span><span class="p">,</span> <span class="n">DeclareModelTemplate</span><span class="p">))</span>
</span></pre></div>


    

                            </div>
                            <div id="DeclareModelTemplate.get_negative_templates" class="classattr">
                                        <input id="DeclareModelTemplate.get_negative_templates-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@classmethod</div>

        <span class="def">def</span>
        <span class="name">get_negative_templates</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">cls</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DeclareModelTemplate.get_negative_templates-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareModelTemplate.get_negative_templates"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareModelTemplate.get_negative_templates-95"><a href="#DeclareModelTemplate.get_negative_templates-95"><span class="linenos">95</span></a>    <span class="nd">@classmethod</span>
</span><span id="DeclareModelTemplate.get_negative_templates-96"><a href="#DeclareModelTemplate.get_negative_templates-96"><span class="linenos">96</span></a>    <span class="k">def</span> <span class="nf">get_negative_templates</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
</span><span id="DeclareModelTemplate.get_negative_templates-97"><a href="#DeclareModelTemplate.get_negative_templates-97"><span class="linenos">97</span></a>        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">t</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">is_negative</span><span class="p">,</span> <span class="n">DeclareModelTemplate</span><span class="p">))</span>
</span></pre></div>


    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>enum.Enum</dt>
                                <dd id="DeclareModelTemplate.name" class="variable">name</dd>
                <dd id="DeclareModelTemplate.value" class="variable">value</dd>

            </div>
            <div><dt>builtins.str</dt>
                                <dd id="DeclareModelTemplate.encode" class="function">encode</dd>
                <dd id="DeclareModelTemplate.replace" class="function">replace</dd>
                <dd id="DeclareModelTemplate.split" class="function">split</dd>
                <dd id="DeclareModelTemplate.rsplit" class="function">rsplit</dd>
                <dd id="DeclareModelTemplate.join" class="function">join</dd>
                <dd id="DeclareModelTemplate.capitalize" class="function">capitalize</dd>
                <dd id="DeclareModelTemplate.casefold" class="function">casefold</dd>
                <dd id="DeclareModelTemplate.title" class="function">title</dd>
                <dd id="DeclareModelTemplate.center" class="function">center</dd>
                <dd id="DeclareModelTemplate.count" class="function">count</dd>
                <dd id="DeclareModelTemplate.expandtabs" class="function">expandtabs</dd>
                <dd id="DeclareModelTemplate.find" class="function">find</dd>
                <dd id="DeclareModelTemplate.partition" class="function">partition</dd>
                <dd id="DeclareModelTemplate.index" class="function">index</dd>
                <dd id="DeclareModelTemplate.ljust" class="function">ljust</dd>
                <dd id="DeclareModelTemplate.lower" class="function">lower</dd>
                <dd id="DeclareModelTemplate.lstrip" class="function">lstrip</dd>
                <dd id="DeclareModelTemplate.rfind" class="function">rfind</dd>
                <dd id="DeclareModelTemplate.rindex" class="function">rindex</dd>
                <dd id="DeclareModelTemplate.rjust" class="function">rjust</dd>
                <dd id="DeclareModelTemplate.rstrip" class="function">rstrip</dd>
                <dd id="DeclareModelTemplate.rpartition" class="function">rpartition</dd>
                <dd id="DeclareModelTemplate.splitlines" class="function">splitlines</dd>
                <dd id="DeclareModelTemplate.strip" class="function">strip</dd>
                <dd id="DeclareModelTemplate.swapcase" class="function">swapcase</dd>
                <dd id="DeclareModelTemplate.translate" class="function">translate</dd>
                <dd id="DeclareModelTemplate.upper" class="function">upper</dd>
                <dd id="DeclareModelTemplate.startswith" class="function">startswith</dd>
                <dd id="DeclareModelTemplate.endswith" class="function">endswith</dd>
                <dd id="DeclareModelTemplate.isascii" class="function">isascii</dd>
                <dd id="DeclareModelTemplate.islower" class="function">islower</dd>
                <dd id="DeclareModelTemplate.isupper" class="function">isupper</dd>
                <dd id="DeclareModelTemplate.istitle" class="function">istitle</dd>
                <dd id="DeclareModelTemplate.isspace" class="function">isspace</dd>
                <dd id="DeclareModelTemplate.isdecimal" class="function">isdecimal</dd>
                <dd id="DeclareModelTemplate.isdigit" class="function">isdigit</dd>
                <dd id="DeclareModelTemplate.isnumeric" class="function">isnumeric</dd>
                <dd id="DeclareModelTemplate.isalpha" class="function">isalpha</dd>
                <dd id="DeclareModelTemplate.isalnum" class="function">isalnum</dd>
                <dd id="DeclareModelTemplate.isidentifier" class="function">isidentifier</dd>
                <dd id="DeclareModelTemplate.isprintable" class="function">isprintable</dd>
                <dd id="DeclareModelTemplate.zfill" class="function">zfill</dd>
                <dd id="DeclareModelTemplate.format" class="function">format</dd>
                <dd id="DeclareModelTemplate.format_map" class="function">format_map</dd>
                <dd id="DeclareModelTemplate.maketrans" class="function">maketrans</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="DeclareModelConditionParserUtility">
                            <input id="DeclareModelConditionParserUtility-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">DeclareModelConditionParserUtility</span>:

                <label class="view-source-button" for="DeclareModelConditionParserUtility-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareModelConditionParserUtility"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareModelConditionParserUtility-111"><a href="#DeclareModelConditionParserUtility-111"><span class="linenos">111</span></a><span class="k">class</span> <span class="nc">DeclareModelConditionParserUtility</span><span class="p">:</span>
</span><span id="DeclareModelConditionParserUtility-112"><a href="#DeclareModelConditionParserUtility-112"><span class="linenos">112</span></a>
</span><span id="DeclareModelConditionParserUtility-113"><a href="#DeclareModelConditionParserUtility-113"><span class="linenos">113</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="DeclareModelConditionParserUtility-114"><a href="#DeclareModelConditionParserUtility-114"><span class="linenos">114</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
</span><span id="DeclareModelConditionParserUtility-115"><a href="#DeclareModelConditionParserUtility-115"><span class="linenos">115</span></a>
</span><span id="DeclareModelConditionParserUtility-116"><a href="#DeclareModelConditionParserUtility-116"><span class="linenos">116</span></a>    <span class="k">def</span> <span class="nf">parse_data_cond</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cond</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>  <span class="c1"># TODO: could be improved using recursion ?</span>
</span><span id="DeclareModelConditionParserUtility-117"><a href="#DeclareModelConditionParserUtility-117"><span class="linenos">117</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="DeclareModelConditionParserUtility-118"><a href="#DeclareModelConditionParserUtility-118"><span class="linenos">118</span></a>            <span class="n">cond</span> <span class="o">=</span> <span class="n">cond</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="DeclareModelConditionParserUtility-119"><a href="#DeclareModelConditionParserUtility-119"><span class="linenos">119</span></a>            <span class="k">if</span> <span class="n">cond</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
</span><span id="DeclareModelConditionParserUtility-120"><a href="#DeclareModelConditionParserUtility-120"><span class="linenos">120</span></a>                <span class="k">return</span> <span class="s2">&quot;True&quot;</span>
</span><span id="DeclareModelConditionParserUtility-121"><a href="#DeclareModelConditionParserUtility-121"><span class="linenos">121</span></a>            <span class="c1"># List containing translations from decl format to python</span>
</span><span id="DeclareModelConditionParserUtility-122"><a href="#DeclareModelConditionParserUtility-122"><span class="linenos">122</span></a>            <span class="n">py_cond</span><span class="p">,</span> <span class="n">fill_enum_set</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
</span><span id="DeclareModelConditionParserUtility-123"><a href="#DeclareModelConditionParserUtility-123"><span class="linenos">123</span></a>            <span class="k">while</span> <span class="n">cond</span><span class="p">:</span>
</span><span id="DeclareModelConditionParserUtility-124"><a href="#DeclareModelConditionParserUtility-124"><span class="linenos">124</span></a>                <span class="k">if</span> <span class="n">cond</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;(&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">cond</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;)&quot;</span><span class="p">):</span>
</span><span id="DeclareModelConditionParserUtility-125"><a href="#DeclareModelConditionParserUtility-125"><span class="linenos">125</span></a>                    <span class="n">py_cond</span> <span class="o">=</span> <span class="n">py_cond</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">cond</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="DeclareModelConditionParserUtility-126"><a href="#DeclareModelConditionParserUtility-126"><span class="linenos">126</span></a>                    <span class="n">cond</span> <span class="o">=</span> <span class="n">cond</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">lstrip</span><span class="p">()</span>
</span><span id="DeclareModelConditionParserUtility-127"><a href="#DeclareModelConditionParserUtility-127"><span class="linenos">127</span></a>                    <span class="n">fill_enum_set</span> <span class="o">=</span> <span class="n">py_cond</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot; in (&quot;</span><span class="p">)</span>
</span><span id="DeclareModelConditionParserUtility-128"><a href="#DeclareModelConditionParserUtility-128"><span class="linenos">128</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="DeclareModelConditionParserUtility-129"><a href="#DeclareModelConditionParserUtility-129"><span class="linenos">129</span></a>                    <span class="k">if</span> <span class="ow">not</span> <span class="n">fill_enum_set</span><span class="p">:</span>
</span><span id="DeclareModelConditionParserUtility-130"><a href="#DeclareModelConditionParserUtility-130"><span class="linenos">130</span></a>                        <span class="n">next_word</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[\s()]+&#39;</span><span class="p">,</span> <span class="n">cond</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="DeclareModelConditionParserUtility-131"><a href="#DeclareModelConditionParserUtility-131"><span class="linenos">131</span></a>                        <span class="n">cond</span> <span class="o">=</span> <span class="n">cond</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">next_word</span><span class="p">):]</span><span class="o">.</span><span class="n">lstrip</span><span class="p">()</span>
</span><span id="DeclareModelConditionParserUtility-132"><a href="#DeclareModelConditionParserUtility-132"><span class="linenos">132</span></a>                        <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^[AaTt]\.&#39;</span><span class="p">,</span> <span class="n">next_word</span><span class="p">):</span>  <span class="c1"># A. conditions</span>
</span><span id="DeclareModelConditionParserUtility-133"><a href="#DeclareModelConditionParserUtility-133"><span class="linenos">133</span></a>                            <span class="n">py_cond</span> <span class="o">=</span> <span class="n">py_cond</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="s1">&#39;&quot;&#39;</span> <span class="o">+</span> <span class="n">next_word</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span> <span class="o">+</span> <span class="s1">&#39;&quot; in &#39;</span> <span class="o">+</span> <span class="n">next_word</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> \
</span><span id="DeclareModelConditionParserUtility-134"><a href="#DeclareModelConditionParserUtility-134"><span class="linenos">134</span></a>                                      <span class="o">+</span> <span class="s2">&quot; and &quot;</span> <span class="o">+</span> <span class="n">next_word</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;[&quot;&#39;</span> <span class="o">+</span> <span class="n">next_word</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span> <span class="o">+</span> <span class="s1">&#39;&quot;]&#39;</span>
</span><span id="DeclareModelConditionParserUtility-135"><a href="#DeclareModelConditionParserUtility-135"><span class="linenos">135</span></a>                        <span class="k">elif</span> <span class="n">next_word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;is&quot;</span><span class="p">:</span>
</span><span id="DeclareModelConditionParserUtility-136"><a href="#DeclareModelConditionParserUtility-136"><span class="linenos">136</span></a>                            <span class="k">if</span> <span class="n">cond</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;not&quot;</span><span class="p">):</span>
</span><span id="DeclareModelConditionParserUtility-137"><a href="#DeclareModelConditionParserUtility-137"><span class="linenos">137</span></a>                                <span class="n">cond</span> <span class="o">=</span> <span class="n">cond</span><span class="p">[</span><span class="mi">3</span><span class="p">:]</span><span class="o">.</span><span class="n">lstrip</span><span class="p">()</span>
</span><span id="DeclareModelConditionParserUtility-138"><a href="#DeclareModelConditionParserUtility-138"><span class="linenos">138</span></a>                                <span class="n">py_cond</span> <span class="o">=</span> <span class="n">py_cond</span> <span class="o">+</span> <span class="s2">&quot; !=&quot;</span>
</span><span id="DeclareModelConditionParserUtility-139"><a href="#DeclareModelConditionParserUtility-139"><span class="linenos">139</span></a>                            <span class="k">else</span><span class="p">:</span>
</span><span id="DeclareModelConditionParserUtility-140"><a href="#DeclareModelConditionParserUtility-140"><span class="linenos">140</span></a>                                <span class="n">py_cond</span> <span class="o">=</span> <span class="n">py_cond</span> <span class="o">+</span> <span class="s2">&quot; ==&quot;</span>
</span><span id="DeclareModelConditionParserUtility-141"><a href="#DeclareModelConditionParserUtility-141"><span class="linenos">141</span></a>                            <span class="n">tmp</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="DeclareModelConditionParserUtility-142"><a href="#DeclareModelConditionParserUtility-142"><span class="linenos">142</span></a>                            <span class="k">while</span> <span class="n">cond</span> <span class="ow">and</span> <span class="ow">not</span> <span class="p">(</span><span class="n">cond</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;)&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">cond</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;and&#39;</span><span class="p">)</span>
</span><span id="DeclareModelConditionParserUtility-143"><a href="#DeclareModelConditionParserUtility-143"><span class="linenos">143</span></a>                                                <span class="ow">or</span> <span class="n">cond</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;or&#39;</span><span class="p">)):</span>
</span><span id="DeclareModelConditionParserUtility-144"><a href="#DeclareModelConditionParserUtility-144"><span class="linenos">144</span></a>                                <span class="n">w</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[\s()]+&#39;</span><span class="p">,</span> <span class="n">cond</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="DeclareModelConditionParserUtility-145"><a href="#DeclareModelConditionParserUtility-145"><span class="linenos">145</span></a>                                <span class="n">cond</span> <span class="o">=</span> <span class="n">cond</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">w</span><span class="p">):]</span><span class="o">.</span><span class="n">lstrip</span><span class="p">()</span>
</span><span id="DeclareModelConditionParserUtility-146"><a href="#DeclareModelConditionParserUtility-146"><span class="linenos">146</span></a>                                <span class="n">tmp</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
</span><span id="DeclareModelConditionParserUtility-147"><a href="#DeclareModelConditionParserUtility-147"><span class="linenos">147</span></a>                            <span class="n">attr</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tmp</span><span class="p">)</span>
</span><span id="DeclareModelConditionParserUtility-148"><a href="#DeclareModelConditionParserUtility-148"><span class="linenos">148</span></a>                            <span class="n">py_cond</span> <span class="o">+=</span> <span class="s1">&#39; &quot;&#39;</span> <span class="o">+</span> <span class="n">attr</span> <span class="o">+</span> <span class="s1">&#39;&quot;&#39;</span>
</span><span id="DeclareModelConditionParserUtility-149"><a href="#DeclareModelConditionParserUtility-149"><span class="linenos">149</span></a>                        <span class="k">elif</span> <span class="n">next_word</span> <span class="o">==</span> <span class="s2">&quot;=&quot;</span><span class="p">:</span>
</span><span id="DeclareModelConditionParserUtility-150"><a href="#DeclareModelConditionParserUtility-150"><span class="linenos">150</span></a>                            <span class="n">py_cond</span> <span class="o">=</span> <span class="n">py_cond</span> <span class="o">+</span> <span class="s2">&quot; ==&quot;</span>
</span><span id="DeclareModelConditionParserUtility-151"><a href="#DeclareModelConditionParserUtility-151"><span class="linenos">151</span></a>                        <span class="k">elif</span> <span class="n">next_word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;and&quot;</span> <span class="ow">or</span> <span class="n">next_word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;or&quot;</span><span class="p">:</span>
</span><span id="DeclareModelConditionParserUtility-152"><a href="#DeclareModelConditionParserUtility-152"><span class="linenos">152</span></a>                            <span class="n">py_cond</span> <span class="o">=</span> <span class="n">py_cond</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">next_word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
</span><span id="DeclareModelConditionParserUtility-153"><a href="#DeclareModelConditionParserUtility-153"><span class="linenos">153</span></a>                        <span class="k">elif</span> <span class="n">next_word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;same&quot;</span><span class="p">:</span>
</span><span id="DeclareModelConditionParserUtility-154"><a href="#DeclareModelConditionParserUtility-154"><span class="linenos">154</span></a>                            <span class="n">tmp</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="DeclareModelConditionParserUtility-155"><a href="#DeclareModelConditionParserUtility-155"><span class="linenos">155</span></a>                            <span class="k">while</span> <span class="n">cond</span> <span class="ow">and</span> <span class="ow">not</span> <span class="p">(</span><span class="n">cond</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;)&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">cond</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;and&#39;</span><span class="p">)</span>
</span><span id="DeclareModelConditionParserUtility-156"><a href="#DeclareModelConditionParserUtility-156"><span class="linenos">156</span></a>                                                <span class="ow">or</span> <span class="n">cond</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;or&#39;</span><span class="p">)):</span>
</span><span id="DeclareModelConditionParserUtility-157"><a href="#DeclareModelConditionParserUtility-157"><span class="linenos">157</span></a>                                <span class="n">w</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[\s()]+&#39;</span><span class="p">,</span> <span class="n">cond</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="DeclareModelConditionParserUtility-158"><a href="#DeclareModelConditionParserUtility-158"><span class="linenos">158</span></a>                                <span class="n">cond</span> <span class="o">=</span> <span class="n">cond</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">w</span><span class="p">):]</span><span class="o">.</span><span class="n">lstrip</span><span class="p">()</span>
</span><span id="DeclareModelConditionParserUtility-159"><a href="#DeclareModelConditionParserUtility-159"><span class="linenos">159</span></a>                                <span class="n">tmp</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
</span><span id="DeclareModelConditionParserUtility-160"><a href="#DeclareModelConditionParserUtility-160"><span class="linenos">160</span></a>                            <span class="n">attr</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tmp</span><span class="p">)</span>
</span><span id="DeclareModelConditionParserUtility-161"><a href="#DeclareModelConditionParserUtility-161"><span class="linenos">161</span></a>                            <span class="n">py_cond</span> <span class="o">=</span> <span class="n">py_cond</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">attr</span> <span class="o">+</span> <span class="s2">&quot; in A and &quot;</span> <span class="o">+</span> <span class="n">attr</span> <span class="o">+</span> <span class="s2">&quot; in T &quot;</span> \
</span><span id="DeclareModelConditionParserUtility-162"><a href="#DeclareModelConditionParserUtility-162"><span class="linenos">162</span></a>                                      <span class="o">+</span> <span class="s1">&#39;and A[&quot;&#39;</span> <span class="o">+</span> <span class="n">attr</span> <span class="o">+</span> <span class="s1">&#39;&quot;] == T[&quot;&#39;</span> <span class="o">+</span> <span class="n">attr</span> <span class="o">+</span> <span class="s1">&#39;&quot;]&#39;</span>
</span><span id="DeclareModelConditionParserUtility-163"><a href="#DeclareModelConditionParserUtility-163"><span class="linenos">163</span></a>                        <span class="k">elif</span> <span class="n">next_word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;different&quot;</span><span class="p">:</span>
</span><span id="DeclareModelConditionParserUtility-164"><a href="#DeclareModelConditionParserUtility-164"><span class="linenos">164</span></a>                            <span class="n">tmp</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="DeclareModelConditionParserUtility-165"><a href="#DeclareModelConditionParserUtility-165"><span class="linenos">165</span></a>                            <span class="k">while</span> <span class="n">cond</span> <span class="ow">and</span> <span class="ow">not</span> <span class="p">(</span><span class="n">cond</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;)&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">cond</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;and&#39;</span><span class="p">)</span>
</span><span id="DeclareModelConditionParserUtility-166"><a href="#DeclareModelConditionParserUtility-166"><span class="linenos">166</span></a>                                                <span class="ow">or</span> <span class="n">cond</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;or&#39;</span><span class="p">)):</span>
</span><span id="DeclareModelConditionParserUtility-167"><a href="#DeclareModelConditionParserUtility-167"><span class="linenos">167</span></a>                                <span class="n">w</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[\s()]+&#39;</span><span class="p">,</span> <span class="n">cond</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="DeclareModelConditionParserUtility-168"><a href="#DeclareModelConditionParserUtility-168"><span class="linenos">168</span></a>                                <span class="n">cond</span> <span class="o">=</span> <span class="n">cond</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">w</span><span class="p">):]</span><span class="o">.</span><span class="n">lstrip</span><span class="p">()</span>
</span><span id="DeclareModelConditionParserUtility-169"><a href="#DeclareModelConditionParserUtility-169"><span class="linenos">169</span></a>                                <span class="n">tmp</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
</span><span id="DeclareModelConditionParserUtility-170"><a href="#DeclareModelConditionParserUtility-170"><span class="linenos">170</span></a>                            <span class="n">attr</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tmp</span><span class="p">)</span>
</span><span id="DeclareModelConditionParserUtility-171"><a href="#DeclareModelConditionParserUtility-171"><span class="linenos">171</span></a>                            <span class="n">py_cond</span> <span class="o">=</span> <span class="n">py_cond</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">attr</span> <span class="o">+</span> <span class="s2">&quot; in A and &quot;</span> <span class="o">+</span> <span class="n">attr</span> <span class="o">+</span> <span class="s2">&quot; in T &quot;</span> \
</span><span id="DeclareModelConditionParserUtility-172"><a href="#DeclareModelConditionParserUtility-172"><span class="linenos">172</span></a>                                      <span class="o">+</span> <span class="s1">&#39;and A[&quot;&#39;</span> <span class="o">+</span> <span class="n">attr</span> <span class="o">+</span> <span class="s1">&#39;&quot;] != T[&quot;&#39;</span> <span class="o">+</span> <span class="n">attr</span> <span class="o">+</span> <span class="s1">&#39;&quot;]&#39;</span>
</span><span id="DeclareModelConditionParserUtility-173"><a href="#DeclareModelConditionParserUtility-173"><span class="linenos">173</span></a>                        <span class="k">elif</span> <span class="n">next_word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;true&quot;</span><span class="p">:</span>
</span><span id="DeclareModelConditionParserUtility-174"><a href="#DeclareModelConditionParserUtility-174"><span class="linenos">174</span></a>                            <span class="n">py_cond</span> <span class="o">=</span> <span class="n">py_cond</span> <span class="o">+</span> <span class="s2">&quot; True&quot;</span>
</span><span id="DeclareModelConditionParserUtility-175"><a href="#DeclareModelConditionParserUtility-175"><span class="linenos">175</span></a>                        <span class="k">elif</span> <span class="n">next_word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;false&quot;</span><span class="p">:</span>
</span><span id="DeclareModelConditionParserUtility-176"><a href="#DeclareModelConditionParserUtility-176"><span class="linenos">176</span></a>                            <span class="n">py_cond</span> <span class="o">=</span> <span class="n">py_cond</span> <span class="o">+</span> <span class="s2">&quot; False&quot;</span>
</span><span id="DeclareModelConditionParserUtility-177"><a href="#DeclareModelConditionParserUtility-177"><span class="linenos">177</span></a>                        <span class="k">else</span><span class="p">:</span>
</span><span id="DeclareModelConditionParserUtility-178"><a href="#DeclareModelConditionParserUtility-178"><span class="linenos">178</span></a>                            <span class="n">py_cond</span> <span class="o">=</span> <span class="n">py_cond</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">next_word</span>
</span><span id="DeclareModelConditionParserUtility-179"><a href="#DeclareModelConditionParserUtility-179"><span class="linenos">179</span></a>                    <span class="k">else</span><span class="p">:</span>
</span><span id="DeclareModelConditionParserUtility-180"><a href="#DeclareModelConditionParserUtility-180"><span class="linenos">180</span></a>                        <span class="n">end_idx</span> <span class="o">=</span> <span class="n">cond</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;)&#39;</span><span class="p">)</span>
</span><span id="DeclareModelConditionParserUtility-181"><a href="#DeclareModelConditionParserUtility-181"><span class="linenos">181</span></a>                        <span class="n">enum_set</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;,\s+&#39;</span><span class="p">,</span> <span class="n">cond</span><span class="p">[:</span><span class="n">end_idx</span><span class="p">])</span>
</span><span id="DeclareModelConditionParserUtility-182"><a href="#DeclareModelConditionParserUtility-182"><span class="linenos">182</span></a>                        <span class="n">enum_set</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">enum_set</span><span class="p">]</span>
</span><span id="DeclareModelConditionParserUtility-183"><a href="#DeclareModelConditionParserUtility-183"><span class="linenos">183</span></a>
</span><span id="DeclareModelConditionParserUtility-184"><a href="#DeclareModelConditionParserUtility-184"><span class="linenos">184</span></a>                        <span class="n">py_cond</span> <span class="o">=</span> <span class="n">py_cond</span> <span class="o">+</span> <span class="s1">&#39; &quot;&#39;</span> <span class="o">+</span> <span class="s1">&#39;&quot;, &quot;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">enum_set</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;&quot;&#39;</span>
</span><span id="DeclareModelConditionParserUtility-185"><a href="#DeclareModelConditionParserUtility-185"><span class="linenos">185</span></a>                        <span class="n">cond</span> <span class="o">=</span> <span class="n">cond</span><span class="p">[</span><span class="n">end_idx</span><span class="p">:]</span><span class="o">.</span><span class="n">lstrip</span><span class="p">()</span>
</span><span id="DeclareModelConditionParserUtility-186"><a href="#DeclareModelConditionParserUtility-186"><span class="linenos">186</span></a>
</span><span id="DeclareModelConditionParserUtility-187"><a href="#DeclareModelConditionParserUtility-187"><span class="linenos">187</span></a>            <span class="k">return</span> <span class="n">py_cond</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="DeclareModelConditionParserUtility-188"><a href="#DeclareModelConditionParserUtility-188"><span class="linenos">188</span></a>        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
</span><span id="DeclareModelConditionParserUtility-189"><a href="#DeclareModelConditionParserUtility-189"><span class="linenos">189</span></a>            <span class="k">raise</span> <span class="ne">SyntaxError</span>
</span><span id="DeclareModelConditionParserUtility-190"><a href="#DeclareModelConditionParserUtility-190"><span class="linenos">190</span></a>
</span><span id="DeclareModelConditionParserUtility-191"><a href="#DeclareModelConditionParserUtility-191"><span class="linenos">191</span></a>    <span class="k">def</span> <span class="nf">parse_time_cond</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">condition</span><span class="p">):</span>
</span><span id="DeclareModelConditionParserUtility-192"><a href="#DeclareModelConditionParserUtility-192"><span class="linenos">192</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="DeclareModelConditionParserUtility-193"><a href="#DeclareModelConditionParserUtility-193"><span class="linenos">193</span></a>            <span class="k">if</span> <span class="n">condition</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
</span><span id="DeclareModelConditionParserUtility-194"><a href="#DeclareModelConditionParserUtility-194"><span class="linenos">194</span></a>                <span class="n">condition</span> <span class="o">=</span> <span class="s2">&quot;True&quot;</span>
</span><span id="DeclareModelConditionParserUtility-195"><a href="#DeclareModelConditionParserUtility-195"><span class="linenos">195</span></a>                <span class="k">return</span> <span class="n">condition</span>
</span><span id="DeclareModelConditionParserUtility-196"><a href="#DeclareModelConditionParserUtility-196"><span class="linenos">196</span></a>            <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\s*,\s*&#39;</span><span class="p">,</span> <span class="n">condition</span><span class="o">.</span><span class="n">strip</span><span class="p">())[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;s&quot;</span><span class="p">:</span>
</span><span id="DeclareModelConditionParserUtility-197"><a href="#DeclareModelConditionParserUtility-197"><span class="linenos">197</span></a>                <span class="n">time_measure</span> <span class="o">=</span> <span class="s2">&quot;seconds&quot;</span>
</span><span id="DeclareModelConditionParserUtility-198"><a href="#DeclareModelConditionParserUtility-198"><span class="linenos">198</span></a>            <span class="k">elif</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\s*,\s*&#39;</span><span class="p">,</span> <span class="n">condition</span><span class="o">.</span><span class="n">strip</span><span class="p">())[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;m&quot;</span><span class="p">:</span>
</span><span id="DeclareModelConditionParserUtility-199"><a href="#DeclareModelConditionParserUtility-199"><span class="linenos">199</span></a>                <span class="n">time_measure</span> <span class="o">=</span> <span class="s2">&quot;minutes&quot;</span>
</span><span id="DeclareModelConditionParserUtility-200"><a href="#DeclareModelConditionParserUtility-200"><span class="linenos">200</span></a>            <span class="k">elif</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\s*,\s*&#39;</span><span class="p">,</span> <span class="n">condition</span><span class="o">.</span><span class="n">strip</span><span class="p">())[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;h&quot;</span><span class="p">:</span>
</span><span id="DeclareModelConditionParserUtility-201"><a href="#DeclareModelConditionParserUtility-201"><span class="linenos">201</span></a>                <span class="n">time_measure</span> <span class="o">=</span> <span class="s2">&quot;hours&quot;</span>
</span><span id="DeclareModelConditionParserUtility-202"><a href="#DeclareModelConditionParserUtility-202"><span class="linenos">202</span></a>            <span class="k">elif</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\s*,\s*&#39;</span><span class="p">,</span> <span class="n">condition</span><span class="o">.</span><span class="n">strip</span><span class="p">())[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;d&quot;</span><span class="p">:</span>
</span><span id="DeclareModelConditionParserUtility-203"><a href="#DeclareModelConditionParserUtility-203"><span class="linenos">203</span></a>                <span class="n">time_measure</span> <span class="o">=</span> <span class="s2">&quot;days&quot;</span>
</span><span id="DeclareModelConditionParserUtility-204"><a href="#DeclareModelConditionParserUtility-204"><span class="linenos">204</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="DeclareModelConditionParserUtility-205"><a href="#DeclareModelConditionParserUtility-205"><span class="linenos">205</span></a>                <span class="n">time_measure</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="DeclareModelConditionParserUtility-206"><a href="#DeclareModelConditionParserUtility-206"><span class="linenos">206</span></a>
</span><span id="DeclareModelConditionParserUtility-207"><a href="#DeclareModelConditionParserUtility-207"><span class="linenos">207</span></a>            <span class="n">min_td</span> <span class="o">=</span> <span class="s2">&quot;timedelta(&quot;</span> <span class="o">+</span> <span class="n">time_measure</span> <span class="o">+</span> <span class="s2">&quot;=float(&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">condition</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot;))&quot;</span>
</span><span id="DeclareModelConditionParserUtility-208"><a href="#DeclareModelConditionParserUtility-208"><span class="linenos">208</span></a>            <span class="n">max_td</span> <span class="o">=</span> <span class="s2">&quot;timedelta(&quot;</span> <span class="o">+</span> <span class="n">time_measure</span> <span class="o">+</span> <span class="s2">&quot;=float(&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">condition</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot;))&quot;</span>
</span><span id="DeclareModelConditionParserUtility-209"><a href="#DeclareModelConditionParserUtility-209"><span class="linenos">209</span></a>
</span><span id="DeclareModelConditionParserUtility-210"><a href="#DeclareModelConditionParserUtility-210"><span class="linenos">210</span></a>            <span class="n">condition</span> <span class="o">=</span> <span class="n">min_td</span> <span class="o">+</span> <span class="s1">&#39; &lt;= abs(A[&quot;time:timestamp&quot;] - T[&quot;time:timestamp&quot;]) &lt;= &#39;</span> <span class="o">+</span> <span class="n">max_td</span>
</span><span id="DeclareModelConditionParserUtility-211"><a href="#DeclareModelConditionParserUtility-211"><span class="linenos">211</span></a>            <span class="k">return</span> <span class="n">condition</span>
</span><span id="DeclareModelConditionParserUtility-212"><a href="#DeclareModelConditionParserUtility-212"><span class="linenos">212</span></a>
</span><span id="DeclareModelConditionParserUtility-213"><a href="#DeclareModelConditionParserUtility-213"><span class="linenos">213</span></a>        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
</span><span id="DeclareModelConditionParserUtility-214"><a href="#DeclareModelConditionParserUtility-214"><span class="linenos">214</span></a>            <span class="k">raise</span> <span class="ne">SyntaxError</span>
</span></pre></div>


    

                            <div id="DeclareModelConditionParserUtility.__init__" class="classattr">
                                        <input id="DeclareModelConditionParserUtility.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">DeclareModelConditionParserUtility</span><span class="signature pdoc-code condensed">()</span>

                <label class="view-source-button" for="DeclareModelConditionParserUtility.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareModelConditionParserUtility.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareModelConditionParserUtility.__init__-113"><a href="#DeclareModelConditionParserUtility.__init__-113"><span class="linenos">113</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="DeclareModelConditionParserUtility.__init__-114"><a href="#DeclareModelConditionParserUtility.__init__-114"><span class="linenos">114</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
</span></pre></div>


    

                            </div>
                            <div id="DeclareModelConditionParserUtility.parse_data_cond" class="classattr">
                                        <input id="DeclareModelConditionParserUtility.parse_data_cond-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">parse_data_cond</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">cond</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DeclareModelConditionParserUtility.parse_data_cond-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareModelConditionParserUtility.parse_data_cond"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareModelConditionParserUtility.parse_data_cond-116"><a href="#DeclareModelConditionParserUtility.parse_data_cond-116"><span class="linenos">116</span></a>    <span class="k">def</span> <span class="nf">parse_data_cond</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cond</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>  <span class="c1"># TODO: could be improved using recursion ?</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-117"><a href="#DeclareModelConditionParserUtility.parse_data_cond-117"><span class="linenos">117</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-118"><a href="#DeclareModelConditionParserUtility.parse_data_cond-118"><span class="linenos">118</span></a>            <span class="n">cond</span> <span class="o">=</span> <span class="n">cond</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-119"><a href="#DeclareModelConditionParserUtility.parse_data_cond-119"><span class="linenos">119</span></a>            <span class="k">if</span> <span class="n">cond</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-120"><a href="#DeclareModelConditionParserUtility.parse_data_cond-120"><span class="linenos">120</span></a>                <span class="k">return</span> <span class="s2">&quot;True&quot;</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-121"><a href="#DeclareModelConditionParserUtility.parse_data_cond-121"><span class="linenos">121</span></a>            <span class="c1"># List containing translations from decl format to python</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-122"><a href="#DeclareModelConditionParserUtility.parse_data_cond-122"><span class="linenos">122</span></a>            <span class="n">py_cond</span><span class="p">,</span> <span class="n">fill_enum_set</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-123"><a href="#DeclareModelConditionParserUtility.parse_data_cond-123"><span class="linenos">123</span></a>            <span class="k">while</span> <span class="n">cond</span><span class="p">:</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-124"><a href="#DeclareModelConditionParserUtility.parse_data_cond-124"><span class="linenos">124</span></a>                <span class="k">if</span> <span class="n">cond</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;(&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">cond</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;)&quot;</span><span class="p">):</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-125"><a href="#DeclareModelConditionParserUtility.parse_data_cond-125"><span class="linenos">125</span></a>                    <span class="n">py_cond</span> <span class="o">=</span> <span class="n">py_cond</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">cond</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-126"><a href="#DeclareModelConditionParserUtility.parse_data_cond-126"><span class="linenos">126</span></a>                    <span class="n">cond</span> <span class="o">=</span> <span class="n">cond</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">lstrip</span><span class="p">()</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-127"><a href="#DeclareModelConditionParserUtility.parse_data_cond-127"><span class="linenos">127</span></a>                    <span class="n">fill_enum_set</span> <span class="o">=</span> <span class="n">py_cond</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot; in (&quot;</span><span class="p">)</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-128"><a href="#DeclareModelConditionParserUtility.parse_data_cond-128"><span class="linenos">128</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-129"><a href="#DeclareModelConditionParserUtility.parse_data_cond-129"><span class="linenos">129</span></a>                    <span class="k">if</span> <span class="ow">not</span> <span class="n">fill_enum_set</span><span class="p">:</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-130"><a href="#DeclareModelConditionParserUtility.parse_data_cond-130"><span class="linenos">130</span></a>                        <span class="n">next_word</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[\s()]+&#39;</span><span class="p">,</span> <span class="n">cond</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-131"><a href="#DeclareModelConditionParserUtility.parse_data_cond-131"><span class="linenos">131</span></a>                        <span class="n">cond</span> <span class="o">=</span> <span class="n">cond</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">next_word</span><span class="p">):]</span><span class="o">.</span><span class="n">lstrip</span><span class="p">()</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-132"><a href="#DeclareModelConditionParserUtility.parse_data_cond-132"><span class="linenos">132</span></a>                        <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^[AaTt]\.&#39;</span><span class="p">,</span> <span class="n">next_word</span><span class="p">):</span>  <span class="c1"># A. conditions</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-133"><a href="#DeclareModelConditionParserUtility.parse_data_cond-133"><span class="linenos">133</span></a>                            <span class="n">py_cond</span> <span class="o">=</span> <span class="n">py_cond</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="s1">&#39;&quot;&#39;</span> <span class="o">+</span> <span class="n">next_word</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span> <span class="o">+</span> <span class="s1">&#39;&quot; in &#39;</span> <span class="o">+</span> <span class="n">next_word</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> \
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-134"><a href="#DeclareModelConditionParserUtility.parse_data_cond-134"><span class="linenos">134</span></a>                                      <span class="o">+</span> <span class="s2">&quot; and &quot;</span> <span class="o">+</span> <span class="n">next_word</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;[&quot;&#39;</span> <span class="o">+</span> <span class="n">next_word</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span> <span class="o">+</span> <span class="s1">&#39;&quot;]&#39;</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-135"><a href="#DeclareModelConditionParserUtility.parse_data_cond-135"><span class="linenos">135</span></a>                        <span class="k">elif</span> <span class="n">next_word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;is&quot;</span><span class="p">:</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-136"><a href="#DeclareModelConditionParserUtility.parse_data_cond-136"><span class="linenos">136</span></a>                            <span class="k">if</span> <span class="n">cond</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;not&quot;</span><span class="p">):</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-137"><a href="#DeclareModelConditionParserUtility.parse_data_cond-137"><span class="linenos">137</span></a>                                <span class="n">cond</span> <span class="o">=</span> <span class="n">cond</span><span class="p">[</span><span class="mi">3</span><span class="p">:]</span><span class="o">.</span><span class="n">lstrip</span><span class="p">()</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-138"><a href="#DeclareModelConditionParserUtility.parse_data_cond-138"><span class="linenos">138</span></a>                                <span class="n">py_cond</span> <span class="o">=</span> <span class="n">py_cond</span> <span class="o">+</span> <span class="s2">&quot; !=&quot;</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-139"><a href="#DeclareModelConditionParserUtility.parse_data_cond-139"><span class="linenos">139</span></a>                            <span class="k">else</span><span class="p">:</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-140"><a href="#DeclareModelConditionParserUtility.parse_data_cond-140"><span class="linenos">140</span></a>                                <span class="n">py_cond</span> <span class="o">=</span> <span class="n">py_cond</span> <span class="o">+</span> <span class="s2">&quot; ==&quot;</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-141"><a href="#DeclareModelConditionParserUtility.parse_data_cond-141"><span class="linenos">141</span></a>                            <span class="n">tmp</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-142"><a href="#DeclareModelConditionParserUtility.parse_data_cond-142"><span class="linenos">142</span></a>                            <span class="k">while</span> <span class="n">cond</span> <span class="ow">and</span> <span class="ow">not</span> <span class="p">(</span><span class="n">cond</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;)&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">cond</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;and&#39;</span><span class="p">)</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-143"><a href="#DeclareModelConditionParserUtility.parse_data_cond-143"><span class="linenos">143</span></a>                                                <span class="ow">or</span> <span class="n">cond</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;or&#39;</span><span class="p">)):</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-144"><a href="#DeclareModelConditionParserUtility.parse_data_cond-144"><span class="linenos">144</span></a>                                <span class="n">w</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[\s()]+&#39;</span><span class="p">,</span> <span class="n">cond</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-145"><a href="#DeclareModelConditionParserUtility.parse_data_cond-145"><span class="linenos">145</span></a>                                <span class="n">cond</span> <span class="o">=</span> <span class="n">cond</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">w</span><span class="p">):]</span><span class="o">.</span><span class="n">lstrip</span><span class="p">()</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-146"><a href="#DeclareModelConditionParserUtility.parse_data_cond-146"><span class="linenos">146</span></a>                                <span class="n">tmp</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-147"><a href="#DeclareModelConditionParserUtility.parse_data_cond-147"><span class="linenos">147</span></a>                            <span class="n">attr</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tmp</span><span class="p">)</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-148"><a href="#DeclareModelConditionParserUtility.parse_data_cond-148"><span class="linenos">148</span></a>                            <span class="n">py_cond</span> <span class="o">+=</span> <span class="s1">&#39; &quot;&#39;</span> <span class="o">+</span> <span class="n">attr</span> <span class="o">+</span> <span class="s1">&#39;&quot;&#39;</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-149"><a href="#DeclareModelConditionParserUtility.parse_data_cond-149"><span class="linenos">149</span></a>                        <span class="k">elif</span> <span class="n">next_word</span> <span class="o">==</span> <span class="s2">&quot;=&quot;</span><span class="p">:</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-150"><a href="#DeclareModelConditionParserUtility.parse_data_cond-150"><span class="linenos">150</span></a>                            <span class="n">py_cond</span> <span class="o">=</span> <span class="n">py_cond</span> <span class="o">+</span> <span class="s2">&quot; ==&quot;</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-151"><a href="#DeclareModelConditionParserUtility.parse_data_cond-151"><span class="linenos">151</span></a>                        <span class="k">elif</span> <span class="n">next_word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;and&quot;</span> <span class="ow">or</span> <span class="n">next_word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;or&quot;</span><span class="p">:</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-152"><a href="#DeclareModelConditionParserUtility.parse_data_cond-152"><span class="linenos">152</span></a>                            <span class="n">py_cond</span> <span class="o">=</span> <span class="n">py_cond</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">next_word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-153"><a href="#DeclareModelConditionParserUtility.parse_data_cond-153"><span class="linenos">153</span></a>                        <span class="k">elif</span> <span class="n">next_word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;same&quot;</span><span class="p">:</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-154"><a href="#DeclareModelConditionParserUtility.parse_data_cond-154"><span class="linenos">154</span></a>                            <span class="n">tmp</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-155"><a href="#DeclareModelConditionParserUtility.parse_data_cond-155"><span class="linenos">155</span></a>                            <span class="k">while</span> <span class="n">cond</span> <span class="ow">and</span> <span class="ow">not</span> <span class="p">(</span><span class="n">cond</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;)&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">cond</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;and&#39;</span><span class="p">)</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-156"><a href="#DeclareModelConditionParserUtility.parse_data_cond-156"><span class="linenos">156</span></a>                                                <span class="ow">or</span> <span class="n">cond</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;or&#39;</span><span class="p">)):</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-157"><a href="#DeclareModelConditionParserUtility.parse_data_cond-157"><span class="linenos">157</span></a>                                <span class="n">w</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[\s()]+&#39;</span><span class="p">,</span> <span class="n">cond</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-158"><a href="#DeclareModelConditionParserUtility.parse_data_cond-158"><span class="linenos">158</span></a>                                <span class="n">cond</span> <span class="o">=</span> <span class="n">cond</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">w</span><span class="p">):]</span><span class="o">.</span><span class="n">lstrip</span><span class="p">()</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-159"><a href="#DeclareModelConditionParserUtility.parse_data_cond-159"><span class="linenos">159</span></a>                                <span class="n">tmp</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-160"><a href="#DeclareModelConditionParserUtility.parse_data_cond-160"><span class="linenos">160</span></a>                            <span class="n">attr</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tmp</span><span class="p">)</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-161"><a href="#DeclareModelConditionParserUtility.parse_data_cond-161"><span class="linenos">161</span></a>                            <span class="n">py_cond</span> <span class="o">=</span> <span class="n">py_cond</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">attr</span> <span class="o">+</span> <span class="s2">&quot; in A and &quot;</span> <span class="o">+</span> <span class="n">attr</span> <span class="o">+</span> <span class="s2">&quot; in T &quot;</span> \
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-162"><a href="#DeclareModelConditionParserUtility.parse_data_cond-162"><span class="linenos">162</span></a>                                      <span class="o">+</span> <span class="s1">&#39;and A[&quot;&#39;</span> <span class="o">+</span> <span class="n">attr</span> <span class="o">+</span> <span class="s1">&#39;&quot;] == T[&quot;&#39;</span> <span class="o">+</span> <span class="n">attr</span> <span class="o">+</span> <span class="s1">&#39;&quot;]&#39;</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-163"><a href="#DeclareModelConditionParserUtility.parse_data_cond-163"><span class="linenos">163</span></a>                        <span class="k">elif</span> <span class="n">next_word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;different&quot;</span><span class="p">:</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-164"><a href="#DeclareModelConditionParserUtility.parse_data_cond-164"><span class="linenos">164</span></a>                            <span class="n">tmp</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-165"><a href="#DeclareModelConditionParserUtility.parse_data_cond-165"><span class="linenos">165</span></a>                            <span class="k">while</span> <span class="n">cond</span> <span class="ow">and</span> <span class="ow">not</span> <span class="p">(</span><span class="n">cond</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;)&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">cond</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;and&#39;</span><span class="p">)</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-166"><a href="#DeclareModelConditionParserUtility.parse_data_cond-166"><span class="linenos">166</span></a>                                                <span class="ow">or</span> <span class="n">cond</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;or&#39;</span><span class="p">)):</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-167"><a href="#DeclareModelConditionParserUtility.parse_data_cond-167"><span class="linenos">167</span></a>                                <span class="n">w</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[\s()]+&#39;</span><span class="p">,</span> <span class="n">cond</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-168"><a href="#DeclareModelConditionParserUtility.parse_data_cond-168"><span class="linenos">168</span></a>                                <span class="n">cond</span> <span class="o">=</span> <span class="n">cond</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">w</span><span class="p">):]</span><span class="o">.</span><span class="n">lstrip</span><span class="p">()</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-169"><a href="#DeclareModelConditionParserUtility.parse_data_cond-169"><span class="linenos">169</span></a>                                <span class="n">tmp</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-170"><a href="#DeclareModelConditionParserUtility.parse_data_cond-170"><span class="linenos">170</span></a>                            <span class="n">attr</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tmp</span><span class="p">)</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-171"><a href="#DeclareModelConditionParserUtility.parse_data_cond-171"><span class="linenos">171</span></a>                            <span class="n">py_cond</span> <span class="o">=</span> <span class="n">py_cond</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">attr</span> <span class="o">+</span> <span class="s2">&quot; in A and &quot;</span> <span class="o">+</span> <span class="n">attr</span> <span class="o">+</span> <span class="s2">&quot; in T &quot;</span> \
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-172"><a href="#DeclareModelConditionParserUtility.parse_data_cond-172"><span class="linenos">172</span></a>                                      <span class="o">+</span> <span class="s1">&#39;and A[&quot;&#39;</span> <span class="o">+</span> <span class="n">attr</span> <span class="o">+</span> <span class="s1">&#39;&quot;] != T[&quot;&#39;</span> <span class="o">+</span> <span class="n">attr</span> <span class="o">+</span> <span class="s1">&#39;&quot;]&#39;</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-173"><a href="#DeclareModelConditionParserUtility.parse_data_cond-173"><span class="linenos">173</span></a>                        <span class="k">elif</span> <span class="n">next_word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;true&quot;</span><span class="p">:</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-174"><a href="#DeclareModelConditionParserUtility.parse_data_cond-174"><span class="linenos">174</span></a>                            <span class="n">py_cond</span> <span class="o">=</span> <span class="n">py_cond</span> <span class="o">+</span> <span class="s2">&quot; True&quot;</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-175"><a href="#DeclareModelConditionParserUtility.parse_data_cond-175"><span class="linenos">175</span></a>                        <span class="k">elif</span> <span class="n">next_word</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;false&quot;</span><span class="p">:</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-176"><a href="#DeclareModelConditionParserUtility.parse_data_cond-176"><span class="linenos">176</span></a>                            <span class="n">py_cond</span> <span class="o">=</span> <span class="n">py_cond</span> <span class="o">+</span> <span class="s2">&quot; False&quot;</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-177"><a href="#DeclareModelConditionParserUtility.parse_data_cond-177"><span class="linenos">177</span></a>                        <span class="k">else</span><span class="p">:</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-178"><a href="#DeclareModelConditionParserUtility.parse_data_cond-178"><span class="linenos">178</span></a>                            <span class="n">py_cond</span> <span class="o">=</span> <span class="n">py_cond</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">next_word</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-179"><a href="#DeclareModelConditionParserUtility.parse_data_cond-179"><span class="linenos">179</span></a>                    <span class="k">else</span><span class="p">:</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-180"><a href="#DeclareModelConditionParserUtility.parse_data_cond-180"><span class="linenos">180</span></a>                        <span class="n">end_idx</span> <span class="o">=</span> <span class="n">cond</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;)&#39;</span><span class="p">)</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-181"><a href="#DeclareModelConditionParserUtility.parse_data_cond-181"><span class="linenos">181</span></a>                        <span class="n">enum_set</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;,\s+&#39;</span><span class="p">,</span> <span class="n">cond</span><span class="p">[:</span><span class="n">end_idx</span><span class="p">])</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-182"><a href="#DeclareModelConditionParserUtility.parse_data_cond-182"><span class="linenos">182</span></a>                        <span class="n">enum_set</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">enum_set</span><span class="p">]</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-183"><a href="#DeclareModelConditionParserUtility.parse_data_cond-183"><span class="linenos">183</span></a>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-184"><a href="#DeclareModelConditionParserUtility.parse_data_cond-184"><span class="linenos">184</span></a>                        <span class="n">py_cond</span> <span class="o">=</span> <span class="n">py_cond</span> <span class="o">+</span> <span class="s1">&#39; &quot;&#39;</span> <span class="o">+</span> <span class="s1">&#39;&quot;, &quot;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">enum_set</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;&quot;&#39;</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-185"><a href="#DeclareModelConditionParserUtility.parse_data_cond-185"><span class="linenos">185</span></a>                        <span class="n">cond</span> <span class="o">=</span> <span class="n">cond</span><span class="p">[</span><span class="n">end_idx</span><span class="p">:]</span><span class="o">.</span><span class="n">lstrip</span><span class="p">()</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-186"><a href="#DeclareModelConditionParserUtility.parse_data_cond-186"><span class="linenos">186</span></a>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-187"><a href="#DeclareModelConditionParserUtility.parse_data_cond-187"><span class="linenos">187</span></a>            <span class="k">return</span> <span class="n">py_cond</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-188"><a href="#DeclareModelConditionParserUtility.parse_data_cond-188"><span class="linenos">188</span></a>        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
</span><span id="DeclareModelConditionParserUtility.parse_data_cond-189"><a href="#DeclareModelConditionParserUtility.parse_data_cond-189"><span class="linenos">189</span></a>            <span class="k">raise</span> <span class="ne">SyntaxError</span>
</span></pre></div>


    

                            </div>
                            <div id="DeclareModelConditionParserUtility.parse_time_cond" class="classattr">
                                        <input id="DeclareModelConditionParserUtility.parse_time_cond-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">parse_time_cond</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">condition</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DeclareModelConditionParserUtility.parse_time_cond-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareModelConditionParserUtility.parse_time_cond"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareModelConditionParserUtility.parse_time_cond-191"><a href="#DeclareModelConditionParserUtility.parse_time_cond-191"><span class="linenos">191</span></a>    <span class="k">def</span> <span class="nf">parse_time_cond</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">condition</span><span class="p">):</span>
</span><span id="DeclareModelConditionParserUtility.parse_time_cond-192"><a href="#DeclareModelConditionParserUtility.parse_time_cond-192"><span class="linenos">192</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="DeclareModelConditionParserUtility.parse_time_cond-193"><a href="#DeclareModelConditionParserUtility.parse_time_cond-193"><span class="linenos">193</span></a>            <span class="k">if</span> <span class="n">condition</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
</span><span id="DeclareModelConditionParserUtility.parse_time_cond-194"><a href="#DeclareModelConditionParserUtility.parse_time_cond-194"><span class="linenos">194</span></a>                <span class="n">condition</span> <span class="o">=</span> <span class="s2">&quot;True&quot;</span>
</span><span id="DeclareModelConditionParserUtility.parse_time_cond-195"><a href="#DeclareModelConditionParserUtility.parse_time_cond-195"><span class="linenos">195</span></a>                <span class="k">return</span> <span class="n">condition</span>
</span><span id="DeclareModelConditionParserUtility.parse_time_cond-196"><a href="#DeclareModelConditionParserUtility.parse_time_cond-196"><span class="linenos">196</span></a>            <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\s*,\s*&#39;</span><span class="p">,</span> <span class="n">condition</span><span class="o">.</span><span class="n">strip</span><span class="p">())[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;s&quot;</span><span class="p">:</span>
</span><span id="DeclareModelConditionParserUtility.parse_time_cond-197"><a href="#DeclareModelConditionParserUtility.parse_time_cond-197"><span class="linenos">197</span></a>                <span class="n">time_measure</span> <span class="o">=</span> <span class="s2">&quot;seconds&quot;</span>
</span><span id="DeclareModelConditionParserUtility.parse_time_cond-198"><a href="#DeclareModelConditionParserUtility.parse_time_cond-198"><span class="linenos">198</span></a>            <span class="k">elif</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\s*,\s*&#39;</span><span class="p">,</span> <span class="n">condition</span><span class="o">.</span><span class="n">strip</span><span class="p">())[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;m&quot;</span><span class="p">:</span>
</span><span id="DeclareModelConditionParserUtility.parse_time_cond-199"><a href="#DeclareModelConditionParserUtility.parse_time_cond-199"><span class="linenos">199</span></a>                <span class="n">time_measure</span> <span class="o">=</span> <span class="s2">&quot;minutes&quot;</span>
</span><span id="DeclareModelConditionParserUtility.parse_time_cond-200"><a href="#DeclareModelConditionParserUtility.parse_time_cond-200"><span class="linenos">200</span></a>            <span class="k">elif</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\s*,\s*&#39;</span><span class="p">,</span> <span class="n">condition</span><span class="o">.</span><span class="n">strip</span><span class="p">())[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;h&quot;</span><span class="p">:</span>
</span><span id="DeclareModelConditionParserUtility.parse_time_cond-201"><a href="#DeclareModelConditionParserUtility.parse_time_cond-201"><span class="linenos">201</span></a>                <span class="n">time_measure</span> <span class="o">=</span> <span class="s2">&quot;hours&quot;</span>
</span><span id="DeclareModelConditionParserUtility.parse_time_cond-202"><a href="#DeclareModelConditionParserUtility.parse_time_cond-202"><span class="linenos">202</span></a>            <span class="k">elif</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\s*,\s*&#39;</span><span class="p">,</span> <span class="n">condition</span><span class="o">.</span><span class="n">strip</span><span class="p">())[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;d&quot;</span><span class="p">:</span>
</span><span id="DeclareModelConditionParserUtility.parse_time_cond-203"><a href="#DeclareModelConditionParserUtility.parse_time_cond-203"><span class="linenos">203</span></a>                <span class="n">time_measure</span> <span class="o">=</span> <span class="s2">&quot;days&quot;</span>
</span><span id="DeclareModelConditionParserUtility.parse_time_cond-204"><a href="#DeclareModelConditionParserUtility.parse_time_cond-204"><span class="linenos">204</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="DeclareModelConditionParserUtility.parse_time_cond-205"><a href="#DeclareModelConditionParserUtility.parse_time_cond-205"><span class="linenos">205</span></a>                <span class="n">time_measure</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="DeclareModelConditionParserUtility.parse_time_cond-206"><a href="#DeclareModelConditionParserUtility.parse_time_cond-206"><span class="linenos">206</span></a>
</span><span id="DeclareModelConditionParserUtility.parse_time_cond-207"><a href="#DeclareModelConditionParserUtility.parse_time_cond-207"><span class="linenos">207</span></a>            <span class="n">min_td</span> <span class="o">=</span> <span class="s2">&quot;timedelta(&quot;</span> <span class="o">+</span> <span class="n">time_measure</span> <span class="o">+</span> <span class="s2">&quot;=float(&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">condition</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot;))&quot;</span>
</span><span id="DeclareModelConditionParserUtility.parse_time_cond-208"><a href="#DeclareModelConditionParserUtility.parse_time_cond-208"><span class="linenos">208</span></a>            <span class="n">max_td</span> <span class="o">=</span> <span class="s2">&quot;timedelta(&quot;</span> <span class="o">+</span> <span class="n">time_measure</span> <span class="o">+</span> <span class="s2">&quot;=float(&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">condition</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot;))&quot;</span>
</span><span id="DeclareModelConditionParserUtility.parse_time_cond-209"><a href="#DeclareModelConditionParserUtility.parse_time_cond-209"><span class="linenos">209</span></a>
</span><span id="DeclareModelConditionParserUtility.parse_time_cond-210"><a href="#DeclareModelConditionParserUtility.parse_time_cond-210"><span class="linenos">210</span></a>            <span class="n">condition</span> <span class="o">=</span> <span class="n">min_td</span> <span class="o">+</span> <span class="s1">&#39; &lt;= abs(A[&quot;time:timestamp&quot;] - T[&quot;time:timestamp&quot;]) &lt;= &#39;</span> <span class="o">+</span> <span class="n">max_td</span>
</span><span id="DeclareModelConditionParserUtility.parse_time_cond-211"><a href="#DeclareModelConditionParserUtility.parse_time_cond-211"><span class="linenos">211</span></a>            <span class="k">return</span> <span class="n">condition</span>
</span><span id="DeclareModelConditionParserUtility.parse_time_cond-212"><a href="#DeclareModelConditionParserUtility.parse_time_cond-212"><span class="linenos">212</span></a>
</span><span id="DeclareModelConditionParserUtility.parse_time_cond-213"><a href="#DeclareModelConditionParserUtility.parse_time_cond-213"><span class="linenos">213</span></a>        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
</span><span id="DeclareModelConditionParserUtility.parse_time_cond-214"><a href="#DeclareModelConditionParserUtility.parse_time_cond-214"><span class="linenos">214</span></a>            <span class="k">raise</span> <span class="ne">SyntaxError</span>
</span></pre></div>


    

                            </div>
                </section>
                <section id="DeclareModelAttributeType">
                            <input id="DeclareModelAttributeType-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">DeclareModelAttributeType</span><wbr>(<span class="base">builtins.str</span>, <span class="base">enum.Enum</span>):

                <label class="view-source-button" for="DeclareModelAttributeType-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareModelAttributeType"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareModelAttributeType-222"><a href="#DeclareModelAttributeType-222"><span class="linenos">222</span></a><span class="k">class</span> <span class="nc">DeclareModelAttributeType</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">Enum</span><span class="p">):</span>
</span><span id="DeclareModelAttributeType-223"><a href="#DeclareModelAttributeType-223"><span class="linenos">223</span></a>    <span class="n">INTEGER</span> <span class="o">=</span> <span class="s2">&quot;integer&quot;</span>
</span><span id="DeclareModelAttributeType-224"><a href="#DeclareModelAttributeType-224"><span class="linenos">224</span></a>    <span class="n">FLOAT</span> <span class="o">=</span> <span class="s2">&quot;float&quot;</span>
</span><span id="DeclareModelAttributeType-225"><a href="#DeclareModelAttributeType-225"><span class="linenos">225</span></a>    <span class="n">INTEGER_RANGE</span> <span class="o">=</span> <span class="s2">&quot;integer_range&quot;</span>
</span><span id="DeclareModelAttributeType-226"><a href="#DeclareModelAttributeType-226"><span class="linenos">226</span></a>    <span class="n">FLOAT_RANGE</span> <span class="o">=</span> <span class="s2">&quot;float_range&quot;</span>
</span><span id="DeclareModelAttributeType-227"><a href="#DeclareModelAttributeType-227"><span class="linenos">227</span></a>    <span class="n">ENUMERATION</span> <span class="o">=</span> <span class="s2">&quot;enumeration&quot;</span>
</span><span id="DeclareModelAttributeType-228"><a href="#DeclareModelAttributeType-228"><span class="linenos">228</span></a>
</span><span id="DeclareModelAttributeType-229"><a href="#DeclareModelAttributeType-229"><span class="linenos">229</span></a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="DeclareModelAttributeType-230"><a href="#DeclareModelAttributeType-230"><span class="linenos">230</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span>
</span><span id="DeclareModelAttributeType-231"><a href="#DeclareModelAttributeType-231"><span class="linenos">231</span></a>
</span><span id="DeclareModelAttributeType-232"><a href="#DeclareModelAttributeType-232"><span class="linenos">232</span></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="DeclareModelAttributeType-233"><a href="#DeclareModelAttributeType-233"><span class="linenos">233</span></a>        <span class="k">return</span> <span class="s2">&quot;</span><span class="se">\&quot;</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\&quot;</span><span class="s2">&quot;</span>
</span></pre></div>


            <div class="docstring"><p>An enumeration.</p>
</div>


                            <div id="DeclareModelAttributeType.INTEGER" class="classattr">
                                <div class="attr variable">
            <span class="name">INTEGER</span><span class="default_value"> = &#34;integer&#34;</span>

        
    </div>
    <a class="headerlink" href="#DeclareModelAttributeType.INTEGER"></a>
    
    

                            </div>
                            <div id="DeclareModelAttributeType.FLOAT" class="classattr">
                                <div class="attr variable">
            <span class="name">FLOAT</span><span class="default_value"> = &#34;float&#34;</span>

        
    </div>
    <a class="headerlink" href="#DeclareModelAttributeType.FLOAT"></a>
    
    

                            </div>
                            <div id="DeclareModelAttributeType.INTEGER_RANGE" class="classattr">
                                <div class="attr variable">
            <span class="name">INTEGER_RANGE</span><span class="default_value"> = &#34;integer_range&#34;</span>

        
    </div>
    <a class="headerlink" href="#DeclareModelAttributeType.INTEGER_RANGE"></a>
    
    

                            </div>
                            <div id="DeclareModelAttributeType.FLOAT_RANGE" class="classattr">
                                <div class="attr variable">
            <span class="name">FLOAT_RANGE</span><span class="default_value"> = &#34;float_range&#34;</span>

        
    </div>
    <a class="headerlink" href="#DeclareModelAttributeType.FLOAT_RANGE"></a>
    
    

                            </div>
                            <div id="DeclareModelAttributeType.ENUMERATION" class="classattr">
                                <div class="attr variable">
            <span class="name">ENUMERATION</span><span class="default_value"> = &#34;enumeration&#34;</span>

        
    </div>
    <a class="headerlink" href="#DeclareModelAttributeType.ENUMERATION"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>enum.Enum</dt>
                                <dd id="DeclareModelAttributeType.name" class="variable">name</dd>
                <dd id="DeclareModelAttributeType.value" class="variable">value</dd>

            </div>
            <div><dt>builtins.str</dt>
                                <dd id="DeclareModelAttributeType.encode" class="function">encode</dd>
                <dd id="DeclareModelAttributeType.replace" class="function">replace</dd>
                <dd id="DeclareModelAttributeType.split" class="function">split</dd>
                <dd id="DeclareModelAttributeType.rsplit" class="function">rsplit</dd>
                <dd id="DeclareModelAttributeType.join" class="function">join</dd>
                <dd id="DeclareModelAttributeType.capitalize" class="function">capitalize</dd>
                <dd id="DeclareModelAttributeType.casefold" class="function">casefold</dd>
                <dd id="DeclareModelAttributeType.title" class="function">title</dd>
                <dd id="DeclareModelAttributeType.center" class="function">center</dd>
                <dd id="DeclareModelAttributeType.count" class="function">count</dd>
                <dd id="DeclareModelAttributeType.expandtabs" class="function">expandtabs</dd>
                <dd id="DeclareModelAttributeType.find" class="function">find</dd>
                <dd id="DeclareModelAttributeType.partition" class="function">partition</dd>
                <dd id="DeclareModelAttributeType.index" class="function">index</dd>
                <dd id="DeclareModelAttributeType.ljust" class="function">ljust</dd>
                <dd id="DeclareModelAttributeType.lower" class="function">lower</dd>
                <dd id="DeclareModelAttributeType.lstrip" class="function">lstrip</dd>
                <dd id="DeclareModelAttributeType.rfind" class="function">rfind</dd>
                <dd id="DeclareModelAttributeType.rindex" class="function">rindex</dd>
                <dd id="DeclareModelAttributeType.rjust" class="function">rjust</dd>
                <dd id="DeclareModelAttributeType.rstrip" class="function">rstrip</dd>
                <dd id="DeclareModelAttributeType.rpartition" class="function">rpartition</dd>
                <dd id="DeclareModelAttributeType.splitlines" class="function">splitlines</dd>
                <dd id="DeclareModelAttributeType.strip" class="function">strip</dd>
                <dd id="DeclareModelAttributeType.swapcase" class="function">swapcase</dd>
                <dd id="DeclareModelAttributeType.translate" class="function">translate</dd>
                <dd id="DeclareModelAttributeType.upper" class="function">upper</dd>
                <dd id="DeclareModelAttributeType.startswith" class="function">startswith</dd>
                <dd id="DeclareModelAttributeType.endswith" class="function">endswith</dd>
                <dd id="DeclareModelAttributeType.isascii" class="function">isascii</dd>
                <dd id="DeclareModelAttributeType.islower" class="function">islower</dd>
                <dd id="DeclareModelAttributeType.isupper" class="function">isupper</dd>
                <dd id="DeclareModelAttributeType.istitle" class="function">istitle</dd>
                <dd id="DeclareModelAttributeType.isspace" class="function">isspace</dd>
                <dd id="DeclareModelAttributeType.isdecimal" class="function">isdecimal</dd>
                <dd id="DeclareModelAttributeType.isdigit" class="function">isdigit</dd>
                <dd id="DeclareModelAttributeType.isnumeric" class="function">isnumeric</dd>
                <dd id="DeclareModelAttributeType.isalpha" class="function">isalpha</dd>
                <dd id="DeclareModelAttributeType.isalnum" class="function">isalnum</dd>
                <dd id="DeclareModelAttributeType.isidentifier" class="function">isidentifier</dd>
                <dd id="DeclareModelAttributeType.isprintable" class="function">isprintable</dd>
                <dd id="DeclareModelAttributeType.zfill" class="function">zfill</dd>
                <dd id="DeclareModelAttributeType.format" class="function">format</dd>
                <dd id="DeclareModelAttributeType.format_map" class="function">format_map</dd>
                <dd id="DeclareModelAttributeType.maketrans" class="function">maketrans</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="DeclareModelEvent">
                            <input id="DeclareModelEvent-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">DeclareModelEvent</span><wbr>(<span class="base"><a href="../Utils/custom_utility_dict.html#CustomUtilityDict">src.declare4py.Utils.custom_utility_dict.CustomUtilityDict</a></span>):

                <label class="view-source-button" for="DeclareModelEvent-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareModelEvent"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareModelEvent-243"><a href="#DeclareModelEvent-243"><span class="linenos">243</span></a><span class="k">class</span> <span class="nc">DeclareModelEvent</span><span class="p">(</span><span class="n">CustomUtilityDict</span><span class="p">):</span>
</span><span id="DeclareModelEvent-244"><a href="#DeclareModelEvent-244"><span class="linenos">244</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="DeclareModelEvent-245"><a href="#DeclareModelEvent-245"><span class="linenos">245</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
</span><span id="DeclareModelEvent-246"><a href="#DeclareModelEvent-246"><span class="linenos">246</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>  <span class="c1"># name of the activity/fact</span>
</span><span id="DeclareModelEvent-247"><a href="#DeclareModelEvent-247"><span class="linenos">247</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">event_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>  <span class="c1"># type of fact, can be activity, trace.</span>
</span><span id="DeclareModelEvent-248"><a href="#DeclareModelEvent-248"><span class="linenos">248</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">attributes</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="DeclareModelEvent-249"><a href="#DeclareModelEvent-249"><span class="linenos">249</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">update_props</span><span class="p">()</span>
</span><span id="DeclareModelEvent-250"><a href="#DeclareModelEvent-250"><span class="linenos">250</span></a>
</span><span id="DeclareModelEvent-251"><a href="#DeclareModelEvent-251"><span class="linenos">251</span></a>    <span class="k">def</span> <span class="nf">update_props</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="DeclareModelEvent-252"><a href="#DeclareModelEvent-252"><span class="linenos">252</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">key_value</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
</span><span id="DeclareModelEvent-253"><a href="#DeclareModelEvent-253"><span class="linenos">253</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">key_value</span><span class="p">[</span><span class="s2">&quot;event_type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">event_type</span>
</span><span id="DeclareModelEvent-254"><a href="#DeclareModelEvent-254"><span class="linenos">254</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">key_value</span><span class="p">[</span><span class="s2">&quot;attributes&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">attributes</span>
</span></pre></div>


            <div class="docstring"><p>Custom DICT helper class: printable and serializable object</p>

<p>CustomUtilityDict is a subclass of the built-in dict class that adds several additional features:
It is printable and serializable using the json module.</p>

<p>It has an update_props() method, which is called automatically by the class whenever one of the dictionary methods
 is called. This method is marked as abstract, so it must be implemented by any subclass of CustomUtilityDict.
Example
Here is an example of how to use CustomUtilityDict:</p>

<p>```class MyCustomDict(CustomUtilityDict):
    def __init__(self):
        super().__init__()
        self.name: str = ""</p>

<pre><code>def update_props(self):
    self.key_value["name"] = self.name

my_dict = MyCustomDict()
my_dict["key1"] = "value1"
my_dict["key2"] = "value2"
</code></pre>

<p>```</p>
</div>


                            <div id="DeclareModelEvent.update_props" class="classattr">
                                        <input id="DeclareModelEvent.update_props-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">update_props</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DeclareModelEvent.update_props-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareModelEvent.update_props"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareModelEvent.update_props-251"><a href="#DeclareModelEvent.update_props-251"><span class="linenos">251</span></a>    <span class="k">def</span> <span class="nf">update_props</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="DeclareModelEvent.update_props-252"><a href="#DeclareModelEvent.update_props-252"><span class="linenos">252</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">key_value</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
</span><span id="DeclareModelEvent.update_props-253"><a href="#DeclareModelEvent.update_props-253"><span class="linenos">253</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">key_value</span><span class="p">[</span><span class="s2">&quot;event_type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">event_type</span>
</span><span id="DeclareModelEvent.update_props-254"><a href="#DeclareModelEvent.update_props-254"><span class="linenos">254</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">key_value</span><span class="p">[</span><span class="s2">&quot;attributes&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">attributes</span>
</span></pre></div>


            <div class="docstring"><p>Assign all the variables/properties in "self" object as key value pair.
So when you will print it, it will print the dictionary with values up to date.</p>

<p>I.e. if your model has some variables/properties:</p>

<pre><code>self.name: str = ""
self.event_type: str = ""
self.attributes: dict[str, dict] = {}
</code></pre>

<p>These properties should be added in the update_props method as follows in order to print all values</p>

<pre><code>self.key_value["name"] = self.name
self.key_value["event_type"] = self.event_type
self.key_value["attributes"] = self.attributes
</code></pre>

<h2 id="returns">Returns</h2>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="../Utils/custom_utility_dict.html#CustomUtilityDict">src.declare4py.Utils.custom_utility_dict.CustomUtilityDict</a></dt>
                                <dd id="DeclareModelEvent.to_json" class="function"><a href="../Utils/custom_utility_dict.html#CustomUtilityDict.to_json">to_json</a></dd>

            </div>
            <div><dt>builtins.dict</dt>
                                <dd id="DeclareModelEvent.get" class="function">get</dd>
                <dd id="DeclareModelEvent.setdefault" class="function">setdefault</dd>
                <dd id="DeclareModelEvent.pop" class="function">pop</dd>
                <dd id="DeclareModelEvent.popitem" class="function">popitem</dd>
                <dd id="DeclareModelEvent.keys" class="function">keys</dd>
                <dd id="DeclareModelEvent.items" class="function">items</dd>
                <dd id="DeclareModelEvent.values" class="function">values</dd>
                <dd id="DeclareModelEvent.update" class="function">update</dd>
                <dd id="DeclareModelEvent.fromkeys" class="function">fromkeys</dd>
                <dd id="DeclareModelEvent.clear" class="function">clear</dd>
                <dd id="DeclareModelEvent.copy" class="function">copy</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="DeclareModelTemplateDataModel">
                            <input id="DeclareModelTemplateDataModel-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">DeclareModelTemplateDataModel</span><wbr>(<span class="base"><a href="../Utils/custom_utility_dict.html#CustomUtilityDict">src.declare4py.Utils.custom_utility_dict.CustomUtilityDict</a></span>):

                <label class="view-source-button" for="DeclareModelTemplateDataModel-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareModelTemplateDataModel"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareModelTemplateDataModel-262"><a href="#DeclareModelTemplateDataModel-262"><span class="linenos">262</span></a><span class="k">class</span> <span class="nc">DeclareModelTemplateDataModel</span><span class="p">(</span><span class="n">CustomUtilityDict</span><span class="p">):</span>
</span><span id="DeclareModelTemplateDataModel-263"><a href="#DeclareModelTemplateDataModel-263"><span class="linenos">263</span></a>
</span><span id="DeclareModelTemplateDataModel-264"><a href="#DeclareModelTemplateDataModel-264"><span class="linenos">264</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="DeclareModelTemplateDataModel-265"><a href="#DeclareModelTemplateDataModel-265"><span class="linenos">265</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
</span><span id="DeclareModelTemplateDataModel-266"><a href="#DeclareModelTemplateDataModel-266"><span class="linenos">266</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">template</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">DeclareModelTemplate</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="DeclareModelTemplateDataModel-267"><a href="#DeclareModelTemplateDataModel-267"><span class="linenos">267</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">activities</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="DeclareModelTemplateDataModel-268"><a href="#DeclareModelTemplateDataModel-268"><span class="linenos">268</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">condition</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="DeclareModelTemplateDataModel-269"><a href="#DeclareModelTemplateDataModel-269"><span class="linenos">269</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">template_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="DeclareModelTemplateDataModel-270"><a href="#DeclareModelTemplateDataModel-270"><span class="linenos">270</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">template_line</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span>  <span class="c1"># Constraint lines</span>
</span><span id="DeclareModelTemplateDataModel-271"><a href="#DeclareModelTemplateDataModel-271"><span class="linenos">271</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">condition_line</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span>  <span class="c1"># |A.grade &lt; 2  | T.mark &gt; 2|1,5,s</span>
</span><span id="DeclareModelTemplateDataModel-272"><a href="#DeclareModelTemplateDataModel-272"><span class="linenos">272</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">violate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="DeclareModelTemplateDataModel-273"><a href="#DeclareModelTemplateDataModel-273"><span class="linenos">273</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">template_index_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="DeclareModelTemplateDataModel-274"><a href="#DeclareModelTemplateDataModel-274"><span class="linenos">274</span></a>
</span><span id="DeclareModelTemplateDataModel-275"><a href="#DeclareModelTemplateDataModel-275"><span class="linenos">275</span></a>    <span class="k">def</span> <span class="nf">get_conditions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="DeclareModelTemplateDataModel-276"><a href="#DeclareModelTemplateDataModel-276"><span class="linenos">276</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_active_condition</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_target_condition</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_time_condition</span><span class="p">()</span>
</span><span id="DeclareModelTemplateDataModel-277"><a href="#DeclareModelTemplateDataModel-277"><span class="linenos">277</span></a>
</span><span id="DeclareModelTemplateDataModel-278"><a href="#DeclareModelTemplateDataModel-278"><span class="linenos">278</span></a>    <span class="k">def</span> <span class="nf">get_active_condition</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="DeclareModelTemplateDataModel-279"><a href="#DeclareModelTemplateDataModel-279"><span class="linenos">279</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">condition</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="DeclareModelTemplateDataModel-280"><a href="#DeclareModelTemplateDataModel-280"><span class="linenos">280</span></a>            <span class="n">c</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">condition</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="DeclareModelTemplateDataModel-281"><a href="#DeclareModelTemplateDataModel-281"><span class="linenos">281</span></a>            <span class="k">return</span> <span class="n">c</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="kc">None</span>
</span><span id="DeclareModelTemplateDataModel-282"><a href="#DeclareModelTemplateDataModel-282"><span class="linenos">282</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span><span id="DeclareModelTemplateDataModel-283"><a href="#DeclareModelTemplateDataModel-283"><span class="linenos">283</span></a>
</span><span id="DeclareModelTemplateDataModel-284"><a href="#DeclareModelTemplateDataModel-284"><span class="linenos">284</span></a>    <span class="k">def</span> <span class="nf">get_target_condition</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="DeclareModelTemplateDataModel-285"><a href="#DeclareModelTemplateDataModel-285"><span class="linenos">285</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">condition</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="DeclareModelTemplateDataModel-286"><a href="#DeclareModelTemplateDataModel-286"><span class="linenos">286</span></a>            <span class="n">cond_at_1_idx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">condition</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</span><span id="DeclareModelTemplateDataModel-287"><a href="#DeclareModelTemplateDataModel-287"><span class="linenos">287</span></a>            <span class="n">time_int</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;^[\d.]+,?([\d.]+)?[,]?(s|m|d|h)$&quot;</span>
</span><span id="DeclareModelTemplateDataModel-288"><a href="#DeclareModelTemplateDataModel-288"><span class="linenos">288</span></a>            <span class="n">is_matched</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">time_int</span><span class="p">,</span> <span class="n">cond_at_1_idx</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">)</span>
</span><span id="DeclareModelTemplateDataModel-289"><a href="#DeclareModelTemplateDataModel-289"><span class="linenos">289</span></a>            <span class="k">if</span> <span class="n">is_matched</span><span class="p">:</span>
</span><span id="DeclareModelTemplateDataModel-290"><a href="#DeclareModelTemplateDataModel-290"><span class="linenos">290</span></a>                <span class="k">return</span> <span class="kc">None</span>
</span><span id="DeclareModelTemplateDataModel-291"><a href="#DeclareModelTemplateDataModel-291"><span class="linenos">291</span></a>            <span class="n">c</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">condition</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</span><span id="DeclareModelTemplateDataModel-292"><a href="#DeclareModelTemplateDataModel-292"><span class="linenos">292</span></a>            <span class="k">return</span> <span class="n">c</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="kc">None</span>
</span><span id="DeclareModelTemplateDataModel-293"><a href="#DeclareModelTemplateDataModel-293"><span class="linenos">293</span></a>            <span class="c1"># return self.condition[1]</span>
</span><span id="DeclareModelTemplateDataModel-294"><a href="#DeclareModelTemplateDataModel-294"><span class="linenos">294</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span><span id="DeclareModelTemplateDataModel-295"><a href="#DeclareModelTemplateDataModel-295"><span class="linenos">295</span></a>
</span><span id="DeclareModelTemplateDataModel-296"><a href="#DeclareModelTemplateDataModel-296"><span class="linenos">296</span></a>    <span class="k">def</span> <span class="nf">get_time_condition</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="DeclareModelTemplateDataModel-297"><a href="#DeclareModelTemplateDataModel-297"><span class="linenos">297</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">contains_interval_condition</span><span class="p">():</span>
</span><span id="DeclareModelTemplateDataModel-298"><a href="#DeclareModelTemplateDataModel-298"><span class="linenos">298</span></a>            <span class="n">c</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">condition</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
</span><span id="DeclareModelTemplateDataModel-299"><a href="#DeclareModelTemplateDataModel-299"><span class="linenos">299</span></a>            <span class="k">return</span> <span class="n">c</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="kc">None</span>
</span><span id="DeclareModelTemplateDataModel-300"><a href="#DeclareModelTemplateDataModel-300"><span class="linenos">300</span></a>            <span class="c1"># return self.condition[2]</span>
</span><span id="DeclareModelTemplateDataModel-301"><a href="#DeclareModelTemplateDataModel-301"><span class="linenos">301</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span><span id="DeclareModelTemplateDataModel-302"><a href="#DeclareModelTemplateDataModel-302"><span class="linenos">302</span></a>
</span><span id="DeclareModelTemplateDataModel-303"><a href="#DeclareModelTemplateDataModel-303"><span class="linenos">303</span></a>    <span class="k">def</span> <span class="nf">contains_interval_condition</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="DeclareModelTemplateDataModel-304"><a href="#DeclareModelTemplateDataModel-304"><span class="linenos">304</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">condition</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DeclareModelTemplateDataModel-305"><a href="#DeclareModelTemplateDataModel-305"><span class="linenos">305</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="DeclareModelTemplateDataModel-306"><a href="#DeclareModelTemplateDataModel-306"><span class="linenos">306</span></a>        <span class="n">len_</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">condition</span><span class="p">)</span>
</span><span id="DeclareModelTemplateDataModel-307"><a href="#DeclareModelTemplateDataModel-307"><span class="linenos">307</span></a>        <span class="k">if</span> <span class="n">len_</span> <span class="o">!=</span> <span class="mi">3</span><span class="p">:</span>
</span><span id="DeclareModelTemplateDataModel-308"><a href="#DeclareModelTemplateDataModel-308"><span class="linenos">308</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="DeclareModelTemplateDataModel-309"><a href="#DeclareModelTemplateDataModel-309"><span class="linenos">309</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="DeclareModelTemplateDataModel-310"><a href="#DeclareModelTemplateDataModel-310"><span class="linenos">310</span></a>        <span class="c1"># if self.condition_line is None:</span>
</span><span id="DeclareModelTemplateDataModel-311"><a href="#DeclareModelTemplateDataModel-311"><span class="linenos">311</span></a>        <span class="c1">#     return False</span>
</span><span id="DeclareModelTemplateDataModel-312"><a href="#DeclareModelTemplateDataModel-312"><span class="linenos">312</span></a>        <span class="c1"># parts = self.condition_line.strip(&quot;|&quot;).split(&quot;|&quot;)</span>
</span><span id="DeclareModelTemplateDataModel-313"><a href="#DeclareModelTemplateDataModel-313"><span class="linenos">313</span></a>        <span class="c1"># if len(parts) == 3:</span>
</span><span id="DeclareModelTemplateDataModel-314"><a href="#DeclareModelTemplateDataModel-314"><span class="linenos">314</span></a>        <span class="c1">#     time_int = r&quot;^[\d.]+,?([\d.]+)?[,]?(s|m|d|h)$&quot;</span>
</span><span id="DeclareModelTemplateDataModel-315"><a href="#DeclareModelTemplateDataModel-315"><span class="linenos">315</span></a>        <span class="c1">#     return re.search(time, parts, re.IGNORECASE)</span>
</span><span id="DeclareModelTemplateDataModel-316"><a href="#DeclareModelTemplateDataModel-316"><span class="linenos">316</span></a>        <span class="c1"># return False</span>
</span><span id="DeclareModelTemplateDataModel-317"><a href="#DeclareModelTemplateDataModel-317"><span class="linenos">317</span></a>
</span><span id="DeclareModelTemplateDataModel-318"><a href="#DeclareModelTemplateDataModel-318"><span class="linenos">318</span></a>    <span class="k">def</span> <span class="nf">set_conditions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cond_str</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="DeclareModelTemplateDataModel-319"><a href="#DeclareModelTemplateDataModel-319"><span class="linenos">319</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DeclareModelTemplateDataModel-320"><a href="#DeclareModelTemplateDataModel-320"><span class="linenos">320</span></a><span class="sd">        set the cond_str</span>
</span><span id="DeclareModelTemplateDataModel-321"><a href="#DeclareModelTemplateDataModel-321"><span class="linenos">321</span></a><span class="sd">        Parameters</span>
</span><span id="DeclareModelTemplateDataModel-322"><a href="#DeclareModelTemplateDataModel-322"><span class="linenos">322</span></a><span class="sd">        ----------</span>
</span><span id="DeclareModelTemplateDataModel-323"><a href="#DeclareModelTemplateDataModel-323"><span class="linenos">323</span></a><span class="sd">        cond_str: substring after Teample[x,y] from line &quot;Teample[x,y] |...|...|..&quot;. thus, cond_str= |...|...|..</span>
</span><span id="DeclareModelTemplateDataModel-324"><a href="#DeclareModelTemplateDataModel-324"><span class="linenos">324</span></a>
</span><span id="DeclareModelTemplateDataModel-325"><a href="#DeclareModelTemplateDataModel-325"><span class="linenos">325</span></a><span class="sd">        Returns</span>
</span><span id="DeclareModelTemplateDataModel-326"><a href="#DeclareModelTemplateDataModel-326"><span class="linenos">326</span></a><span class="sd">        -------</span>
</span><span id="DeclareModelTemplateDataModel-327"><a href="#DeclareModelTemplateDataModel-327"><span class="linenos">327</span></a>
</span><span id="DeclareModelTemplateDataModel-328"><a href="#DeclareModelTemplateDataModel-328"><span class="linenos">328</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DeclareModelTemplateDataModel-329"><a href="#DeclareModelTemplateDataModel-329"><span class="linenos">329</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">condition_line</span> <span class="o">=</span> <span class="n">cond_str</span>
</span><span id="DeclareModelTemplateDataModel-330"><a href="#DeclareModelTemplateDataModel-330"><span class="linenos">330</span></a>        <span class="n">conditions</span> <span class="o">=</span> <span class="n">cond_str</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot;|&quot;</span><span class="p">)</span>
</span><span id="DeclareModelTemplateDataModel-331"><a href="#DeclareModelTemplateDataModel-331"><span class="linenos">331</span></a>        <span class="n">conds_list</span> <span class="o">=</span> <span class="n">conditions</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;|&quot;</span><span class="p">)</span>
</span><span id="DeclareModelTemplateDataModel-332"><a href="#DeclareModelTemplateDataModel-332"><span class="linenos">332</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">condition</span> <span class="o">=</span> <span class="p">[</span><span class="n">cl</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">cl</span> <span class="ow">in</span> <span class="n">conds_list</span><span class="p">]</span>
</span><span id="DeclareModelTemplateDataModel-333"><a href="#DeclareModelTemplateDataModel-333"><span class="linenos">333</span></a>
</span><span id="DeclareModelTemplateDataModel-334"><a href="#DeclareModelTemplateDataModel-334"><span class="linenos">334</span></a>    <span class="k">def</span> <span class="nf">update_props</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="DeclareModelTemplateDataModel-335"><a href="#DeclareModelTemplateDataModel-335"><span class="linenos">335</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DeclareModelTemplateDataModel-336"><a href="#DeclareModelTemplateDataModel-336"><span class="linenos">336</span></a><span class="sd">        Updates the _dict, so it has updated values when any dict op is occurred</span>
</span><span id="DeclareModelTemplateDataModel-337"><a href="#DeclareModelTemplateDataModel-337"><span class="linenos">337</span></a><span class="sd">        Returns</span>
</span><span id="DeclareModelTemplateDataModel-338"><a href="#DeclareModelTemplateDataModel-338"><span class="linenos">338</span></a><span class="sd">        -------</span>
</span><span id="DeclareModelTemplateDataModel-339"><a href="#DeclareModelTemplateDataModel-339"><span class="linenos">339</span></a>
</span><span id="DeclareModelTemplateDataModel-340"><a href="#DeclareModelTemplateDataModel-340"><span class="linenos">340</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DeclareModelTemplateDataModel-341"><a href="#DeclareModelTemplateDataModel-341"><span class="linenos">341</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">key_value</span><span class="p">[</span><span class="s2">&quot;template&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">template</span>
</span><span id="DeclareModelTemplateDataModel-342"><a href="#DeclareModelTemplateDataModel-342"><span class="linenos">342</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">key_value</span><span class="p">[</span><span class="s2">&quot;activities&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">activities</span>
</span><span id="DeclareModelTemplateDataModel-343"><a href="#DeclareModelTemplateDataModel-343"><span class="linenos">343</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">key_value</span><span class="p">[</span><span class="s2">&quot;condition&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">condition</span>
</span><span id="DeclareModelTemplateDataModel-344"><a href="#DeclareModelTemplateDataModel-344"><span class="linenos">344</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">key_value</span><span class="p">[</span><span class="s2">&quot;template_name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">template_name</span>
</span><span id="DeclareModelTemplateDataModel-345"><a href="#DeclareModelTemplateDataModel-345"><span class="linenos">345</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">key_value</span><span class="p">[</span><span class="s2">&quot;template_name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">template_name</span>
</span><span id="DeclareModelTemplateDataModel-346"><a href="#DeclareModelTemplateDataModel-346"><span class="linenos">346</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">key_value</span><span class="p">[</span><span class="s2">&quot;violate&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">violate</span>
</span><span id="DeclareModelTemplateDataModel-347"><a href="#DeclareModelTemplateDataModel-347"><span class="linenos">347</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">key_value</span><span class="p">[</span><span class="s2">&quot;condition_line&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">condition_line</span>
</span></pre></div>


            <div class="docstring"><p>Custom DICT helper class: printable and serializable object</p>

<p>CustomUtilityDict is a subclass of the built-in dict class that adds several additional features:
It is printable and serializable using the json module.</p>

<p>It has an update_props() method, which is called automatically by the class whenever one of the dictionary methods
 is called. This method is marked as abstract, so it must be implemented by any subclass of CustomUtilityDict.
Example
Here is an example of how to use CustomUtilityDict:</p>

<p>```class MyCustomDict(CustomUtilityDict):
    def __init__(self):
        super().__init__()
        self.name: str = ""</p>

<pre><code>def update_props(self):
    self.key_value["name"] = self.name

my_dict = MyCustomDict()
my_dict["key1"] = "value1"
my_dict["key2"] = "value2"
</code></pre>

<p>```</p>
</div>


                            <div id="DeclareModelTemplateDataModel.get_conditions" class="classattr">
                                        <input id="DeclareModelTemplateDataModel.get_conditions-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_conditions</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DeclareModelTemplateDataModel.get_conditions-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareModelTemplateDataModel.get_conditions"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareModelTemplateDataModel.get_conditions-275"><a href="#DeclareModelTemplateDataModel.get_conditions-275"><span class="linenos">275</span></a>    <span class="k">def</span> <span class="nf">get_conditions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="DeclareModelTemplateDataModel.get_conditions-276"><a href="#DeclareModelTemplateDataModel.get_conditions-276"><span class="linenos">276</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_active_condition</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_target_condition</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_time_condition</span><span class="p">()</span>
</span></pre></div>


    

                            </div>
                            <div id="DeclareModelTemplateDataModel.get_active_condition" class="classattr">
                                        <input id="DeclareModelTemplateDataModel.get_active_condition-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_active_condition</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DeclareModelTemplateDataModel.get_active_condition-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareModelTemplateDataModel.get_active_condition"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareModelTemplateDataModel.get_active_condition-278"><a href="#DeclareModelTemplateDataModel.get_active_condition-278"><span class="linenos">278</span></a>    <span class="k">def</span> <span class="nf">get_active_condition</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="DeclareModelTemplateDataModel.get_active_condition-279"><a href="#DeclareModelTemplateDataModel.get_active_condition-279"><span class="linenos">279</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">condition</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="DeclareModelTemplateDataModel.get_active_condition-280"><a href="#DeclareModelTemplateDataModel.get_active_condition-280"><span class="linenos">280</span></a>            <span class="n">c</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">condition</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="DeclareModelTemplateDataModel.get_active_condition-281"><a href="#DeclareModelTemplateDataModel.get_active_condition-281"><span class="linenos">281</span></a>            <span class="k">return</span> <span class="n">c</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="kc">None</span>
</span><span id="DeclareModelTemplateDataModel.get_active_condition-282"><a href="#DeclareModelTemplateDataModel.get_active_condition-282"><span class="linenos">282</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span></pre></div>


    

                            </div>
                            <div id="DeclareModelTemplateDataModel.get_target_condition" class="classattr">
                                        <input id="DeclareModelTemplateDataModel.get_target_condition-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_target_condition</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DeclareModelTemplateDataModel.get_target_condition-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareModelTemplateDataModel.get_target_condition"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareModelTemplateDataModel.get_target_condition-284"><a href="#DeclareModelTemplateDataModel.get_target_condition-284"><span class="linenos">284</span></a>    <span class="k">def</span> <span class="nf">get_target_condition</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="DeclareModelTemplateDataModel.get_target_condition-285"><a href="#DeclareModelTemplateDataModel.get_target_condition-285"><span class="linenos">285</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">condition</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="DeclareModelTemplateDataModel.get_target_condition-286"><a href="#DeclareModelTemplateDataModel.get_target_condition-286"><span class="linenos">286</span></a>            <span class="n">cond_at_1_idx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">condition</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</span><span id="DeclareModelTemplateDataModel.get_target_condition-287"><a href="#DeclareModelTemplateDataModel.get_target_condition-287"><span class="linenos">287</span></a>            <span class="n">time_int</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;^[\d.]+,?([\d.]+)?[,]?(s|m|d|h)$&quot;</span>
</span><span id="DeclareModelTemplateDataModel.get_target_condition-288"><a href="#DeclareModelTemplateDataModel.get_target_condition-288"><span class="linenos">288</span></a>            <span class="n">is_matched</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">time_int</span><span class="p">,</span> <span class="n">cond_at_1_idx</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">)</span>
</span><span id="DeclareModelTemplateDataModel.get_target_condition-289"><a href="#DeclareModelTemplateDataModel.get_target_condition-289"><span class="linenos">289</span></a>            <span class="k">if</span> <span class="n">is_matched</span><span class="p">:</span>
</span><span id="DeclareModelTemplateDataModel.get_target_condition-290"><a href="#DeclareModelTemplateDataModel.get_target_condition-290"><span class="linenos">290</span></a>                <span class="k">return</span> <span class="kc">None</span>
</span><span id="DeclareModelTemplateDataModel.get_target_condition-291"><a href="#DeclareModelTemplateDataModel.get_target_condition-291"><span class="linenos">291</span></a>            <span class="n">c</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">condition</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</span><span id="DeclareModelTemplateDataModel.get_target_condition-292"><a href="#DeclareModelTemplateDataModel.get_target_condition-292"><span class="linenos">292</span></a>            <span class="k">return</span> <span class="n">c</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="kc">None</span>
</span><span id="DeclareModelTemplateDataModel.get_target_condition-293"><a href="#DeclareModelTemplateDataModel.get_target_condition-293"><span class="linenos">293</span></a>            <span class="c1"># return self.condition[1]</span>
</span><span id="DeclareModelTemplateDataModel.get_target_condition-294"><a href="#DeclareModelTemplateDataModel.get_target_condition-294"><span class="linenos">294</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span></pre></div>


    

                            </div>
                            <div id="DeclareModelTemplateDataModel.get_time_condition" class="classattr">
                                        <input id="DeclareModelTemplateDataModel.get_time_condition-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_time_condition</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DeclareModelTemplateDataModel.get_time_condition-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareModelTemplateDataModel.get_time_condition"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareModelTemplateDataModel.get_time_condition-296"><a href="#DeclareModelTemplateDataModel.get_time_condition-296"><span class="linenos">296</span></a>    <span class="k">def</span> <span class="nf">get_time_condition</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="DeclareModelTemplateDataModel.get_time_condition-297"><a href="#DeclareModelTemplateDataModel.get_time_condition-297"><span class="linenos">297</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">contains_interval_condition</span><span class="p">():</span>
</span><span id="DeclareModelTemplateDataModel.get_time_condition-298"><a href="#DeclareModelTemplateDataModel.get_time_condition-298"><span class="linenos">298</span></a>            <span class="n">c</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">condition</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
</span><span id="DeclareModelTemplateDataModel.get_time_condition-299"><a href="#DeclareModelTemplateDataModel.get_time_condition-299"><span class="linenos">299</span></a>            <span class="k">return</span> <span class="n">c</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="kc">None</span>
</span><span id="DeclareModelTemplateDataModel.get_time_condition-300"><a href="#DeclareModelTemplateDataModel.get_time_condition-300"><span class="linenos">300</span></a>            <span class="c1"># return self.condition[2]</span>
</span><span id="DeclareModelTemplateDataModel.get_time_condition-301"><a href="#DeclareModelTemplateDataModel.get_time_condition-301"><span class="linenos">301</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span></pre></div>


    

                            </div>
                            <div id="DeclareModelTemplateDataModel.contains_interval_condition" class="classattr">
                                        <input id="DeclareModelTemplateDataModel.contains_interval_condition-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">contains_interval_condition</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>

                <label class="view-source-button" for="DeclareModelTemplateDataModel.contains_interval_condition-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareModelTemplateDataModel.contains_interval_condition"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareModelTemplateDataModel.contains_interval_condition-303"><a href="#DeclareModelTemplateDataModel.contains_interval_condition-303"><span class="linenos">303</span></a>    <span class="k">def</span> <span class="nf">contains_interval_condition</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="DeclareModelTemplateDataModel.contains_interval_condition-304"><a href="#DeclareModelTemplateDataModel.contains_interval_condition-304"><span class="linenos">304</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">condition</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DeclareModelTemplateDataModel.contains_interval_condition-305"><a href="#DeclareModelTemplateDataModel.contains_interval_condition-305"><span class="linenos">305</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="DeclareModelTemplateDataModel.contains_interval_condition-306"><a href="#DeclareModelTemplateDataModel.contains_interval_condition-306"><span class="linenos">306</span></a>        <span class="n">len_</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">condition</span><span class="p">)</span>
</span><span id="DeclareModelTemplateDataModel.contains_interval_condition-307"><a href="#DeclareModelTemplateDataModel.contains_interval_condition-307"><span class="linenos">307</span></a>        <span class="k">if</span> <span class="n">len_</span> <span class="o">!=</span> <span class="mi">3</span><span class="p">:</span>
</span><span id="DeclareModelTemplateDataModel.contains_interval_condition-308"><a href="#DeclareModelTemplateDataModel.contains_interval_condition-308"><span class="linenos">308</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="DeclareModelTemplateDataModel.contains_interval_condition-309"><a href="#DeclareModelTemplateDataModel.contains_interval_condition-309"><span class="linenos">309</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="DeclareModelTemplateDataModel.contains_interval_condition-310"><a href="#DeclareModelTemplateDataModel.contains_interval_condition-310"><span class="linenos">310</span></a>        <span class="c1"># if self.condition_line is None:</span>
</span><span id="DeclareModelTemplateDataModel.contains_interval_condition-311"><a href="#DeclareModelTemplateDataModel.contains_interval_condition-311"><span class="linenos">311</span></a>        <span class="c1">#     return False</span>
</span><span id="DeclareModelTemplateDataModel.contains_interval_condition-312"><a href="#DeclareModelTemplateDataModel.contains_interval_condition-312"><span class="linenos">312</span></a>        <span class="c1"># parts = self.condition_line.strip(&quot;|&quot;).split(&quot;|&quot;)</span>
</span><span id="DeclareModelTemplateDataModel.contains_interval_condition-313"><a href="#DeclareModelTemplateDataModel.contains_interval_condition-313"><span class="linenos">313</span></a>        <span class="c1"># if len(parts) == 3:</span>
</span><span id="DeclareModelTemplateDataModel.contains_interval_condition-314"><a href="#DeclareModelTemplateDataModel.contains_interval_condition-314"><span class="linenos">314</span></a>        <span class="c1">#     time_int = r&quot;^[\d.]+,?([\d.]+)?[,]?(s|m|d|h)$&quot;</span>
</span><span id="DeclareModelTemplateDataModel.contains_interval_condition-315"><a href="#DeclareModelTemplateDataModel.contains_interval_condition-315"><span class="linenos">315</span></a>        <span class="c1">#     return re.search(time, parts, re.IGNORECASE)</span>
</span><span id="DeclareModelTemplateDataModel.contains_interval_condition-316"><a href="#DeclareModelTemplateDataModel.contains_interval_condition-316"><span class="linenos">316</span></a>        <span class="c1"># return False</span>
</span></pre></div>


    

                            </div>
                            <div id="DeclareModelTemplateDataModel.set_conditions" class="classattr">
                                        <input id="DeclareModelTemplateDataModel.set_conditions-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_conditions</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">cond_str</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DeclareModelTemplateDataModel.set_conditions-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareModelTemplateDataModel.set_conditions"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareModelTemplateDataModel.set_conditions-318"><a href="#DeclareModelTemplateDataModel.set_conditions-318"><span class="linenos">318</span></a>    <span class="k">def</span> <span class="nf">set_conditions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cond_str</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="DeclareModelTemplateDataModel.set_conditions-319"><a href="#DeclareModelTemplateDataModel.set_conditions-319"><span class="linenos">319</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DeclareModelTemplateDataModel.set_conditions-320"><a href="#DeclareModelTemplateDataModel.set_conditions-320"><span class="linenos">320</span></a><span class="sd">        set the cond_str</span>
</span><span id="DeclareModelTemplateDataModel.set_conditions-321"><a href="#DeclareModelTemplateDataModel.set_conditions-321"><span class="linenos">321</span></a><span class="sd">        Parameters</span>
</span><span id="DeclareModelTemplateDataModel.set_conditions-322"><a href="#DeclareModelTemplateDataModel.set_conditions-322"><span class="linenos">322</span></a><span class="sd">        ----------</span>
</span><span id="DeclareModelTemplateDataModel.set_conditions-323"><a href="#DeclareModelTemplateDataModel.set_conditions-323"><span class="linenos">323</span></a><span class="sd">        cond_str: substring after Teample[x,y] from line &quot;Teample[x,y] |...|...|..&quot;. thus, cond_str= |...|...|..</span>
</span><span id="DeclareModelTemplateDataModel.set_conditions-324"><a href="#DeclareModelTemplateDataModel.set_conditions-324"><span class="linenos">324</span></a>
</span><span id="DeclareModelTemplateDataModel.set_conditions-325"><a href="#DeclareModelTemplateDataModel.set_conditions-325"><span class="linenos">325</span></a><span class="sd">        Returns</span>
</span><span id="DeclareModelTemplateDataModel.set_conditions-326"><a href="#DeclareModelTemplateDataModel.set_conditions-326"><span class="linenos">326</span></a><span class="sd">        -------</span>
</span><span id="DeclareModelTemplateDataModel.set_conditions-327"><a href="#DeclareModelTemplateDataModel.set_conditions-327"><span class="linenos">327</span></a>
</span><span id="DeclareModelTemplateDataModel.set_conditions-328"><a href="#DeclareModelTemplateDataModel.set_conditions-328"><span class="linenos">328</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DeclareModelTemplateDataModel.set_conditions-329"><a href="#DeclareModelTemplateDataModel.set_conditions-329"><span class="linenos">329</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">condition_line</span> <span class="o">=</span> <span class="n">cond_str</span>
</span><span id="DeclareModelTemplateDataModel.set_conditions-330"><a href="#DeclareModelTemplateDataModel.set_conditions-330"><span class="linenos">330</span></a>        <span class="n">conditions</span> <span class="o">=</span> <span class="n">cond_str</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot;|&quot;</span><span class="p">)</span>
</span><span id="DeclareModelTemplateDataModel.set_conditions-331"><a href="#DeclareModelTemplateDataModel.set_conditions-331"><span class="linenos">331</span></a>        <span class="n">conds_list</span> <span class="o">=</span> <span class="n">conditions</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;|&quot;</span><span class="p">)</span>
</span><span id="DeclareModelTemplateDataModel.set_conditions-332"><a href="#DeclareModelTemplateDataModel.set_conditions-332"><span class="linenos">332</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">condition</span> <span class="o">=</span> <span class="p">[</span><span class="n">cl</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">cl</span> <span class="ow">in</span> <span class="n">conds_list</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>set the cond_str</p>

<h2 id="parameters">Parameters</h2>

<p>cond_str: substring after Teample[x,y] from line "Teample[x,y] |...|...|..". thus, cond_str= |...|...|..</p>

<h2 id="returns">Returns</h2>
</div>


                            </div>
                            <div id="DeclareModelTemplateDataModel.update_props" class="classattr">
                                        <input id="DeclareModelTemplateDataModel.update_props-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">update_props</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DeclareModelTemplateDataModel.update_props-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareModelTemplateDataModel.update_props"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareModelTemplateDataModel.update_props-334"><a href="#DeclareModelTemplateDataModel.update_props-334"><span class="linenos">334</span></a>    <span class="k">def</span> <span class="nf">update_props</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="DeclareModelTemplateDataModel.update_props-335"><a href="#DeclareModelTemplateDataModel.update_props-335"><span class="linenos">335</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DeclareModelTemplateDataModel.update_props-336"><a href="#DeclareModelTemplateDataModel.update_props-336"><span class="linenos">336</span></a><span class="sd">        Updates the _dict, so it has updated values when any dict op is occurred</span>
</span><span id="DeclareModelTemplateDataModel.update_props-337"><a href="#DeclareModelTemplateDataModel.update_props-337"><span class="linenos">337</span></a><span class="sd">        Returns</span>
</span><span id="DeclareModelTemplateDataModel.update_props-338"><a href="#DeclareModelTemplateDataModel.update_props-338"><span class="linenos">338</span></a><span class="sd">        -------</span>
</span><span id="DeclareModelTemplateDataModel.update_props-339"><a href="#DeclareModelTemplateDataModel.update_props-339"><span class="linenos">339</span></a>
</span><span id="DeclareModelTemplateDataModel.update_props-340"><a href="#DeclareModelTemplateDataModel.update_props-340"><span class="linenos">340</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DeclareModelTemplateDataModel.update_props-341"><a href="#DeclareModelTemplateDataModel.update_props-341"><span class="linenos">341</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">key_value</span><span class="p">[</span><span class="s2">&quot;template&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">template</span>
</span><span id="DeclareModelTemplateDataModel.update_props-342"><a href="#DeclareModelTemplateDataModel.update_props-342"><span class="linenos">342</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">key_value</span><span class="p">[</span><span class="s2">&quot;activities&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">activities</span>
</span><span id="DeclareModelTemplateDataModel.update_props-343"><a href="#DeclareModelTemplateDataModel.update_props-343"><span class="linenos">343</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">key_value</span><span class="p">[</span><span class="s2">&quot;condition&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">condition</span>
</span><span id="DeclareModelTemplateDataModel.update_props-344"><a href="#DeclareModelTemplateDataModel.update_props-344"><span class="linenos">344</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">key_value</span><span class="p">[</span><span class="s2">&quot;template_name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">template_name</span>
</span><span id="DeclareModelTemplateDataModel.update_props-345"><a href="#DeclareModelTemplateDataModel.update_props-345"><span class="linenos">345</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">key_value</span><span class="p">[</span><span class="s2">&quot;template_name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">template_name</span>
</span><span id="DeclareModelTemplateDataModel.update_props-346"><a href="#DeclareModelTemplateDataModel.update_props-346"><span class="linenos">346</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">key_value</span><span class="p">[</span><span class="s2">&quot;violate&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">violate</span>
</span><span id="DeclareModelTemplateDataModel.update_props-347"><a href="#DeclareModelTemplateDataModel.update_props-347"><span class="linenos">347</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">key_value</span><span class="p">[</span><span class="s2">&quot;condition_line&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">condition_line</span>
</span></pre></div>


            <div class="docstring"><p>Updates the _dict, so it has updated values when any dict op is occurred</p>

<h2 id="returns">Returns</h2>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="../Utils/custom_utility_dict.html#CustomUtilityDict">src.declare4py.Utils.custom_utility_dict.CustomUtilityDict</a></dt>
                                <dd id="DeclareModelTemplateDataModel.to_json" class="function"><a href="../Utils/custom_utility_dict.html#CustomUtilityDict.to_json">to_json</a></dd>

            </div>
            <div><dt>builtins.dict</dt>
                                <dd id="DeclareModelTemplateDataModel.get" class="function">get</dd>
                <dd id="DeclareModelTemplateDataModel.setdefault" class="function">setdefault</dd>
                <dd id="DeclareModelTemplateDataModel.pop" class="function">pop</dd>
                <dd id="DeclareModelTemplateDataModel.popitem" class="function">popitem</dd>
                <dd id="DeclareModelTemplateDataModel.keys" class="function">keys</dd>
                <dd id="DeclareModelTemplateDataModel.items" class="function">items</dd>
                <dd id="DeclareModelTemplateDataModel.values" class="function">values</dd>
                <dd id="DeclareModelTemplateDataModel.update" class="function">update</dd>
                <dd id="DeclareModelTemplateDataModel.fromkeys" class="function">fromkeys</dd>
                <dd id="DeclareModelTemplateDataModel.clear" class="function">clear</dd>
                <dd id="DeclareModelTemplateDataModel.copy" class="function">copy</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="DeclareParsedDataModel">
                            <input id="DeclareParsedDataModel-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">DeclareParsedDataModel</span><wbr>(<span class="base"><a href="../Utils/custom_utility_dict.html#CustomUtilityDict">src.declare4py.Utils.custom_utility_dict.CustomUtilityDict</a></span>):

                <label class="view-source-button" for="DeclareParsedDataModel-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareParsedDataModel"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareParsedDataModel-356"><a href="#DeclareParsedDataModel-356"><span class="linenos">356</span></a><span class="k">class</span> <span class="nc">DeclareParsedDataModel</span><span class="p">(</span><span class="n">CustomUtilityDict</span><span class="p">):</span>
</span><span id="DeclareParsedDataModel-357"><a href="#DeclareParsedDataModel-357"><span class="linenos">357</span></a>
</span><span id="DeclareParsedDataModel-358"><a href="#DeclareParsedDataModel-358"><span class="linenos">358</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="DeclareParsedDataModel-359"><a href="#DeclareParsedDataModel-359"><span class="linenos">359</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
</span><span id="DeclareParsedDataModel-360"><a href="#DeclareParsedDataModel-360"><span class="linenos">360</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">events</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">DeclareModelEvent</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="DeclareParsedDataModel-361"><a href="#DeclareParsedDataModel-361"><span class="linenos">361</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">attributes_list</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="DeclareParsedDataModel-362"><a href="#DeclareParsedDataModel-362"><span class="linenos">362</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">template_constraints</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="DeclareParsedDataModel-363"><a href="#DeclareParsedDataModel-363"><span class="linenos">363</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">templates</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">DeclareModelTemplateDataModel</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="DeclareParsedDataModel-364"><a href="#DeclareParsedDataModel-364"><span class="linenos">364</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">encoded_model</span><span class="p">:</span> <span class="n">DeclareModelCoder</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="DeclareParsedDataModel-365"><a href="#DeclareParsedDataModel-365"><span class="linenos">365</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">encoder</span><span class="p">:</span> <span class="n">DeclareModelCoder</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="DeclareParsedDataModel-366"><a href="#DeclareParsedDataModel-366"><span class="linenos">366</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">update_props</span><span class="p">()</span>
</span><span id="DeclareParsedDataModel-367"><a href="#DeclareParsedDataModel-367"><span class="linenos">367</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">total_templates</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="DeclareParsedDataModel-368"><a href="#DeclareParsedDataModel-368"><span class="linenos">368</span></a>
</span><span id="DeclareParsedDataModel-369"><a href="#DeclareParsedDataModel-369"><span class="linenos">369</span></a>    <span class="k">def</span> <span class="nf">add_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">event_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel-370"><a href="#DeclareParsedDataModel-370"><span class="linenos">370</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DeclareParsedDataModel-371"><a href="#DeclareParsedDataModel-371"><span class="linenos">371</span></a><span class="sd">        Add an event to events dictionary if not exists yet.</span>
</span><span id="DeclareParsedDataModel-372"><a href="#DeclareParsedDataModel-372"><span class="linenos">372</span></a>
</span><span id="DeclareParsedDataModel-373"><a href="#DeclareParsedDataModel-373"><span class="linenos">373</span></a><span class="sd">        Parameters</span>
</span><span id="DeclareParsedDataModel-374"><a href="#DeclareParsedDataModel-374"><span class="linenos">374</span></a><span class="sd">        ----------</span>
</span><span id="DeclareParsedDataModel-375"><a href="#DeclareParsedDataModel-375"><span class="linenos">375</span></a><span class="sd">        name  the name of event or activity</span>
</span><span id="DeclareParsedDataModel-376"><a href="#DeclareParsedDataModel-376"><span class="linenos">376</span></a><span class="sd">        event_type  the type of the event, generally its &quot;activity&quot;</span>
</span><span id="DeclareParsedDataModel-377"><a href="#DeclareParsedDataModel-377"><span class="linenos">377</span></a>
</span><span id="DeclareParsedDataModel-378"><a href="#DeclareParsedDataModel-378"><span class="linenos">378</span></a><span class="sd">        Returns</span>
</span><span id="DeclareParsedDataModel-379"><a href="#DeclareParsedDataModel-379"><span class="linenos">379</span></a><span class="sd">        -------</span>
</span><span id="DeclareParsedDataModel-380"><a href="#DeclareParsedDataModel-380"><span class="linenos">380</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DeclareParsedDataModel-381"><a href="#DeclareParsedDataModel-381"><span class="linenos">381</span></a>
</span><span id="DeclareParsedDataModel-382"><a href="#DeclareParsedDataModel-382"><span class="linenos">382</span></a>        <span class="n">event_name</span><span class="p">,</span> <span class="n">event_type</span> <span class="o">=</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">event_type</span><span class="p">)</span>
</span><span id="DeclareParsedDataModel-383"><a href="#DeclareParsedDataModel-383"><span class="linenos">383</span></a>        <span class="k">if</span> <span class="n">event_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">events</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel-384"><a href="#DeclareParsedDataModel-384"><span class="linenos">384</span></a>            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Multiple times the same activity [</span><span class="si">{</span><span class="n">event_name</span><span class="si">}</span><span class="s2">] is declared&quot;</span><span class="p">)</span>
</span><span id="DeclareParsedDataModel-385"><a href="#DeclareParsedDataModel-385"><span class="linenos">385</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">events</span><span class="p">[</span><span class="n">event_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">DeclareModelEvent</span><span class="p">()</span>
</span><span id="DeclareParsedDataModel-386"><a href="#DeclareParsedDataModel-386"><span class="linenos">386</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">events</span><span class="p">[</span><span class="n">event_name</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">event_name</span>
</span><span id="DeclareParsedDataModel-387"><a href="#DeclareParsedDataModel-387"><span class="linenos">387</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">events</span><span class="p">[</span><span class="n">event_name</span><span class="p">]</span><span class="o">.</span><span class="n">event_type</span> <span class="o">=</span> <span class="n">event_type</span>
</span><span id="DeclareParsedDataModel-388"><a href="#DeclareParsedDataModel-388"><span class="linenos">388</span></a>
</span><span id="DeclareParsedDataModel-389"><a href="#DeclareParsedDataModel-389"><span class="linenos">389</span></a>    <span class="k">def</span> <span class="nf">add_attribute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">attr_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="DeclareParsedDataModel-390"><a href="#DeclareParsedDataModel-390"><span class="linenos">390</span></a>        <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="DeclareParsedDataModel-391"><a href="#DeclareParsedDataModel-391"><span class="linenos">391</span></a><span class="s2">        Add the bounded attribute to the event/activity</span>
</span><span id="DeclareParsedDataModel-392"><a href="#DeclareParsedDataModel-392"><span class="linenos">392</span></a>
</span><span id="DeclareParsedDataModel-393"><a href="#DeclareParsedDataModel-393"><span class="linenos">393</span></a><span class="s2">        Parameters</span>
</span><span id="DeclareParsedDataModel-394"><a href="#DeclareParsedDataModel-394"><span class="linenos">394</span></a><span class="s2">        ----------</span>
</span><span id="DeclareParsedDataModel-395"><a href="#DeclareParsedDataModel-395"><span class="linenos">395</span></a><span class="s2">        event_name: the name of event that for which the </span><span class="si">{</span><span class="n">attr_name</span><span class="si">}</span><span class="s2"> is bounded to.</span>
</span><span id="DeclareParsedDataModel-396"><a href="#DeclareParsedDataModel-396"><span class="linenos">396</span></a><span class="s2">        attr_name: attribute name</span>
</span><span id="DeclareParsedDataModel-397"><a href="#DeclareParsedDataModel-397"><span class="linenos">397</span></a><span class="s2">        Returns</span>
</span><span id="DeclareParsedDataModel-398"><a href="#DeclareParsedDataModel-398"><span class="linenos">398</span></a><span class="s2">        -------</span>
</span><span id="DeclareParsedDataModel-399"><a href="#DeclareParsedDataModel-399"><span class="linenos">399</span></a>
</span><span id="DeclareParsedDataModel-400"><a href="#DeclareParsedDataModel-400"><span class="linenos">400</span></a><span class="s2">        &quot;&quot;&quot;</span>
</span><span id="DeclareParsedDataModel-401"><a href="#DeclareParsedDataModel-401"><span class="linenos">401</span></a>        <span class="k">if</span> <span class="n">event_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">events</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel-402"><a href="#DeclareParsedDataModel-402"><span class="linenos">402</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unable to find the event or activity </span><span class="si">{</span><span class="n">event_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="DeclareParsedDataModel-403"><a href="#DeclareParsedDataModel-403"><span class="linenos">403</span></a>        <span class="n">dme</span><span class="p">:</span> <span class="n">DeclareModelEvent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">events</span><span class="p">[</span><span class="n">event_name</span><span class="p">]</span>
</span><span id="DeclareParsedDataModel-404"><a href="#DeclareParsedDataModel-404"><span class="linenos">404</span></a>        <span class="n">attrs</span> <span class="o">=</span> <span class="n">dme</span><span class="o">.</span><span class="n">attributes</span>
</span><span id="DeclareParsedDataModel-405"><a href="#DeclareParsedDataModel-405"><span class="linenos">405</span></a>        <span class="k">if</span> <span class="n">attrs</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel-406"><a href="#DeclareParsedDataModel-406"><span class="linenos">406</span></a>            <span class="n">attrs</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="DeclareParsedDataModel-407"><a href="#DeclareParsedDataModel-407"><span class="linenos">407</span></a>            <span class="n">dme</span><span class="o">.</span><span class="n">attributes</span> <span class="o">=</span> <span class="n">attrs</span>
</span><span id="DeclareParsedDataModel-408"><a href="#DeclareParsedDataModel-408"><span class="linenos">408</span></a>        <span class="k">if</span> <span class="n">attr_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">attributes_list</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel-409"><a href="#DeclareParsedDataModel-409"><span class="linenos">409</span></a>            <span class="n">attrs</span><span class="p">[</span><span class="n">attr_name</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">attributes_list</span><span class="p">[</span><span class="n">attr_name</span><span class="p">]</span>  <span class="c1"># saving the same reference. Same attr cannot have two values</span>
</span><span id="DeclareParsedDataModel-410"><a href="#DeclareParsedDataModel-410"><span class="linenos">410</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel-411"><a href="#DeclareParsedDataModel-411"><span class="linenos">411</span></a>            <span class="n">attrs</span><span class="p">[</span><span class="n">attr_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;value_type&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">}</span>
</span><span id="DeclareParsedDataModel-412"><a href="#DeclareParsedDataModel-412"><span class="linenos">412</span></a>
</span><span id="DeclareParsedDataModel-413"><a href="#DeclareParsedDataModel-413"><span class="linenos">413</span></a>        <span class="k">if</span> <span class="n">attr_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">attributes_list</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel-414"><a href="#DeclareParsedDataModel-414"><span class="linenos">414</span></a>            <span class="c1"># we save the reference of attributes in separate list</span>
</span><span id="DeclareParsedDataModel-415"><a href="#DeclareParsedDataModel-415"><span class="linenos">415</span></a>            <span class="c1"># for improving computation</span>
</span><span id="DeclareParsedDataModel-416"><a href="#DeclareParsedDataModel-416"><span class="linenos">416</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">attributes_list</span><span class="p">[</span><span class="n">attr_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">attrs</span><span class="p">[</span><span class="n">attr_name</span><span class="p">]</span>
</span><span id="DeclareParsedDataModel-417"><a href="#DeclareParsedDataModel-417"><span class="linenos">417</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">attributes_list</span><span class="p">[</span><span class="n">attr_name</span><span class="p">][</span><span class="s2">&quot;events_attached&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">event_name</span><span class="p">]</span>
</span><span id="DeclareParsedDataModel-418"><a href="#DeclareParsedDataModel-418"><span class="linenos">418</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel-419"><a href="#DeclareParsedDataModel-419"><span class="linenos">419</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">attributes_list</span><span class="p">[</span><span class="n">attr_name</span><span class="p">][</span><span class="s2">&quot;events_attached&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">event_name</span><span class="p">)</span>
</span><span id="DeclareParsedDataModel-420"><a href="#DeclareParsedDataModel-420"><span class="linenos">420</span></a>
</span><span id="DeclareParsedDataModel-421"><a href="#DeclareParsedDataModel-421"><span class="linenos">421</span></a>    <span class="k">def</span> <span class="nf">add_attribute_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attr_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">attr_type</span><span class="p">:</span> <span class="n">DeclareModelAttributeType</span><span class="p">,</span> <span class="n">attr_value</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="DeclareParsedDataModel-422"><a href="#DeclareParsedDataModel-422"><span class="linenos">422</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DeclareParsedDataModel-423"><a href="#DeclareParsedDataModel-423"><span class="linenos">423</span></a><span class="sd">        Adding the attribute information</span>
</span><span id="DeclareParsedDataModel-424"><a href="#DeclareParsedDataModel-424"><span class="linenos">424</span></a><span class="sd">        Parameters</span>
</span><span id="DeclareParsedDataModel-425"><a href="#DeclareParsedDataModel-425"><span class="linenos">425</span></a><span class="sd">        ----------</span>
</span><span id="DeclareParsedDataModel-426"><a href="#DeclareParsedDataModel-426"><span class="linenos">426</span></a><span class="sd">        attr_name: str</span>
</span><span id="DeclareParsedDataModel-427"><a href="#DeclareParsedDataModel-427"><span class="linenos">427</span></a><span class="sd">        attr_type: DeclareModelAttributeType</span>
</span><span id="DeclareParsedDataModel-428"><a href="#DeclareParsedDataModel-428"><span class="linenos">428</span></a><span class="sd">        attr_value: str</span>
</span><span id="DeclareParsedDataModel-429"><a href="#DeclareParsedDataModel-429"><span class="linenos">429</span></a>
</span><span id="DeclareParsedDataModel-430"><a href="#DeclareParsedDataModel-430"><span class="linenos">430</span></a><span class="sd">        Returns</span>
</span><span id="DeclareParsedDataModel-431"><a href="#DeclareParsedDataModel-431"><span class="linenos">431</span></a><span class="sd">        -------</span>
</span><span id="DeclareParsedDataModel-432"><a href="#DeclareParsedDataModel-432"><span class="linenos">432</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DeclareParsedDataModel-433"><a href="#DeclareParsedDataModel-433"><span class="linenos">433</span></a>        <span class="k">if</span> <span class="n">attr_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">attributes_list</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel-434"><a href="#DeclareParsedDataModel-434"><span class="linenos">434</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unable to find attribute </span><span class="si">{</span><span class="n">attr_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="DeclareParsedDataModel-435"><a href="#DeclareParsedDataModel-435"><span class="linenos">435</span></a>        <span class="n">attribute</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">attributes_list</span><span class="p">[</span><span class="n">attr_name</span><span class="p">]</span>
</span><span id="DeclareParsedDataModel-436"><a href="#DeclareParsedDataModel-436"><span class="linenos">436</span></a>        <span class="n">attribute</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">attr_value</span>
</span><span id="DeclareParsedDataModel-437"><a href="#DeclareParsedDataModel-437"><span class="linenos">437</span></a>        <span class="n">attribute</span><span class="p">[</span><span class="s2">&quot;value_type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">attr_type</span>
</span><span id="DeclareParsedDataModel-438"><a href="#DeclareParsedDataModel-438"><span class="linenos">438</span></a>        <span class="k">if</span> <span class="n">attr_type</span> <span class="o">==</span> <span class="n">DeclareModelAttributeType</span><span class="o">.</span><span class="n">FLOAT</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel-439"><a href="#DeclareParsedDataModel-439"><span class="linenos">439</span></a>            <span class="n">frm</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">attr_value</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>  <span class="c1"># 10.587  # attribute[&quot;range_precision&quot;] = len(frm[1])</span>
</span><span id="DeclareParsedDataModel-440"><a href="#DeclareParsedDataModel-440"><span class="linenos">440</span></a>            <span class="n">precision</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">frm</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="DeclareParsedDataModel-441"><a href="#DeclareParsedDataModel-441"><span class="linenos">441</span></a>            <span class="n">attribute</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="mi">10</span> <span class="o">**</span> <span class="n">precision</span><span class="p">)</span> <span class="o">*</span> <span class="n">frm</span><span class="p">)</span>
</span><span id="DeclareParsedDataModel-442"><a href="#DeclareParsedDataModel-442"><span class="linenos">442</span></a>            <span class="n">attribute</span><span class="p">[</span><span class="s2">&quot;range_precision&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">precision</span>
</span><span id="DeclareParsedDataModel-443"><a href="#DeclareParsedDataModel-443"><span class="linenos">443</span></a>        <span class="k">elif</span> <span class="n">attr_type</span> <span class="o">==</span> <span class="n">DeclareModelAttributeType</span><span class="o">.</span><span class="n">INTEGER</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel-444"><a href="#DeclareParsedDataModel-444"><span class="linenos">444</span></a>            <span class="n">attribute</span><span class="p">[</span><span class="s2">&quot;range_precision&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="DeclareParsedDataModel-445"><a href="#DeclareParsedDataModel-445"><span class="linenos">445</span></a>
</span><span id="DeclareParsedDataModel-446"><a href="#DeclareParsedDataModel-446"><span class="linenos">446</span></a>        <span class="k">if</span> <span class="n">attr_type</span> <span class="o">==</span> <span class="n">DeclareModelAttributeType</span><span class="o">.</span><span class="n">FLOAT_RANGE</span> <span class="ow">or</span> <span class="n">attr_type</span> <span class="o">==</span> <span class="n">DeclareModelAttributeType</span><span class="o">.</span><span class="n">INTEGER_RANGE</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel-447"><a href="#DeclareParsedDataModel-447"><span class="linenos">447</span></a>            <span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;( \d+.?\d*)( and )?(\d+.?\d*)&quot;</span><span class="p">)</span>
</span><span id="DeclareParsedDataModel-448"><a href="#DeclareParsedDataModel-448"><span class="linenos">448</span></a>            <span class="n">match</span> <span class="o">=</span> <span class="n">pattern</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">attr_value</span><span class="p">)</span>
</span><span id="DeclareParsedDataModel-449"><a href="#DeclareParsedDataModel-449"><span class="linenos">449</span></a>            <span class="c1"># Extract the float values</span>
</span><span id="DeclareParsedDataModel-450"><a href="#DeclareParsedDataModel-450"><span class="linenos">450</span></a>            <span class="k">if</span> <span class="n">match</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel-451"><a href="#DeclareParsedDataModel-451"><span class="linenos">451</span></a>                <span class="p">(</span><span class="n">val1</span><span class="p">,</span> <span class="n">val2</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="DeclareParsedDataModel-452"><a href="#DeclareParsedDataModel-452"><span class="linenos">452</span></a>                <span class="k">if</span> <span class="n">attr_type</span> <span class="o">==</span> <span class="n">DeclareModelAttributeType</span><span class="o">.</span><span class="n">INTEGER_RANGE</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel-453"><a href="#DeclareParsedDataModel-453"><span class="linenos">453</span></a>                    <span class="n">val1</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">match</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
</span><span id="DeclareParsedDataModel-454"><a href="#DeclareParsedDataModel-454"><span class="linenos">454</span></a>                    <span class="n">val2</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">match</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">])</span>
</span><span id="DeclareParsedDataModel-455"><a href="#DeclareParsedDataModel-455"><span class="linenos">455</span></a>                    <span class="n">attribute</span><span class="p">[</span><span class="s2">&quot;range_precision&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="DeclareParsedDataModel-456"><a href="#DeclareParsedDataModel-456"><span class="linenos">456</span></a>                <span class="k">if</span> <span class="n">attr_type</span> <span class="o">==</span> <span class="n">DeclareModelAttributeType</span><span class="o">.</span><span class="n">FLOAT_RANGE</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel-457"><a href="#DeclareParsedDataModel-457"><span class="linenos">457</span></a>                    <span class="n">v</span> <span class="o">=</span> <span class="n">attr_value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;float between&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;and&quot;</span><span class="p">,</span> <span class="s2">&quot;---&quot;</span><span class="p">)</span>
</span><span id="DeclareParsedDataModel-458"><a href="#DeclareParsedDataModel-458"><span class="linenos">458</span></a>                    <span class="n">v</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; --- &quot;</span><span class="p">)</span>
</span><span id="DeclareParsedDataModel-459"><a href="#DeclareParsedDataModel-459"><span class="linenos">459</span></a>                    <span class="c1"># val1 = float(match[0][0])</span>
</span><span id="DeclareParsedDataModel-460"><a href="#DeclareParsedDataModel-460"><span class="linenos">460</span></a>                    <span class="c1"># val2 = float(match[0][2])</span>
</span><span id="DeclareParsedDataModel-461"><a href="#DeclareParsedDataModel-461"><span class="linenos">461</span></a>                    <span class="n">val1</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</span><span id="DeclareParsedDataModel-462"><a href="#DeclareParsedDataModel-462"><span class="linenos">462</span></a>                    <span class="n">val2</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="DeclareParsedDataModel-463"><a href="#DeclareParsedDataModel-463"><span class="linenos">463</span></a>                    <span class="n">attribute</span><span class="p">[</span><span class="s2">&quot;range_precision&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_float_biggest_precision</span><span class="p">(</span><span class="n">val1</span><span class="p">,</span> <span class="n">val2</span><span class="p">)</span>
</span><span id="DeclareParsedDataModel-464"><a href="#DeclareParsedDataModel-464"><span class="linenos">464</span></a>                <span class="n">attribute</span><span class="p">[</span><span class="s2">&quot;from&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">val1</span>
</span><span id="DeclareParsedDataModel-465"><a href="#DeclareParsedDataModel-465"><span class="linenos">465</span></a>                <span class="n">attribute</span><span class="p">[</span><span class="s2">&quot;to&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">val2</span>
</span><span id="DeclareParsedDataModel-466"><a href="#DeclareParsedDataModel-466"><span class="linenos">466</span></a>
</span><span id="DeclareParsedDataModel-467"><a href="#DeclareParsedDataModel-467"><span class="linenos">467</span></a>    <span class="k">def</span> <span class="nf">get_float_biggest_precision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">v1</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">v2</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel-468"><a href="#DeclareParsedDataModel-468"><span class="linenos">468</span></a>        <span class="n">decimal_len_list</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="DeclareParsedDataModel-469"><a href="#DeclareParsedDataModel-469"><span class="linenos">469</span></a>        <span class="n">precision</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="DeclareParsedDataModel-470"><a href="#DeclareParsedDataModel-470"><span class="linenos">470</span></a>        <span class="n">frm</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">v1</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>  <span class="c1"># 10.587</span>
</span><span id="DeclareParsedDataModel-471"><a href="#DeclareParsedDataModel-471"><span class="linenos">471</span></a>        <span class="n">til</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">v2</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>  <span class="c1"># 3.587</span>
</span><span id="DeclareParsedDataModel-472"><a href="#DeclareParsedDataModel-472"><span class="linenos">472</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">frm</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel-473"><a href="#DeclareParsedDataModel-473"><span class="linenos">473</span></a>            <span class="n">precision</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">frm</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>  <span class="c1"># frm[1] = 587 and length would be 3</span>
</span><span id="DeclareParsedDataModel-474"><a href="#DeclareParsedDataModel-474"><span class="linenos">474</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">til</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel-475"><a href="#DeclareParsedDataModel-475"><span class="linenos">475</span></a>            <span class="n">precision</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">til</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="n">precision</span><span class="p">)</span>
</span><span id="DeclareParsedDataModel-476"><a href="#DeclareParsedDataModel-476"><span class="linenos">476</span></a>        <span class="n">decimal_len_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">precision</span><span class="p">)</span>
</span><span id="DeclareParsedDataModel-477"><a href="#DeclareParsedDataModel-477"><span class="linenos">477</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">decimal_len_list</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel-478"><a href="#DeclareParsedDataModel-478"><span class="linenos">478</span></a>            <span class="k">return</span> <span class="mi">0</span>
</span><span id="DeclareParsedDataModel-479"><a href="#DeclareParsedDataModel-479"><span class="linenos">479</span></a>        <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">decimal_len_list</span><span class="p">)</span>
</span><span id="DeclareParsedDataModel-480"><a href="#DeclareParsedDataModel-480"><span class="linenos">480</span></a>
</span><span id="DeclareParsedDataModel-481"><a href="#DeclareParsedDataModel-481"><span class="linenos">481</span></a>    <span class="k">def</span> <span class="nf">add_template</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">template</span><span class="p">:</span> <span class="n">DeclareModelTemplate</span><span class="p">,</span> <span class="n">cardinality</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">template_idx</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="DeclareParsedDataModel-482"><a href="#DeclareParsedDataModel-482"><span class="linenos">482</span></a>        <span class="n">templt</span> <span class="o">=</span> <span class="n">DeclareModelTemplateDataModel</span><span class="p">()</span>
</span><span id="DeclareParsedDataModel-483"><a href="#DeclareParsedDataModel-483"><span class="linenos">483</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">templates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">templt</span><span class="p">)</span>
</span><span id="DeclareParsedDataModel-484"><a href="#DeclareParsedDataModel-484"><span class="linenos">484</span></a>        <span class="n">templt</span><span class="o">.</span><span class="n">template</span> <span class="o">=</span> <span class="n">template</span>
</span><span id="DeclareParsedDataModel-485"><a href="#DeclareParsedDataModel-485"><span class="linenos">485</span></a>        <span class="n">templt</span><span class="o">.</span><span class="n">template_name</span> <span class="o">=</span> <span class="n">template</span><span class="o">.</span><span class="n">templ_str</span>
</span><span id="DeclareParsedDataModel-486"><a href="#DeclareParsedDataModel-486"><span class="linenos">486</span></a>        <span class="n">templt</span><span class="o">.</span><span class="n">template_line</span> <span class="o">=</span> <span class="n">line</span>
</span><span id="DeclareParsedDataModel-487"><a href="#DeclareParsedDataModel-487"><span class="linenos">487</span></a>        <span class="n">templt</span><span class="o">.</span><span class="n">template_index_id</span> <span class="o">=</span> <span class="n">template_idx</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">total_templates</span>
</span><span id="DeclareParsedDataModel-488"><a href="#DeclareParsedDataModel-488"><span class="linenos">488</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">total_templates</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">total_templates</span> <span class="o">+</span> <span class="mi">1</span>
</span><span id="DeclareParsedDataModel-489"><a href="#DeclareParsedDataModel-489"><span class="linenos">489</span></a>        <span class="k">if</span> <span class="n">template</span><span class="o">.</span><span class="n">supports_cardinality</span> <span class="ow">and</span> <span class="nb">int</span><span class="p">(</span><span class="n">cardinality</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel-490"><a href="#DeclareParsedDataModel-490"><span class="linenos">490</span></a>            <span class="n">templt</span><span class="o">.</span><span class="n">template_name</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="n">cardinality</span><span class="p">)</span>
</span><span id="DeclareParsedDataModel-491"><a href="#DeclareParsedDataModel-491"><span class="linenos">491</span></a>        <span class="n">compiler</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;^(.*)\[(.*)\]\s*(.*)$&quot;</span><span class="p">)</span>
</span><span id="DeclareParsedDataModel-492"><a href="#DeclareParsedDataModel-492"><span class="linenos">492</span></a>        <span class="n">al</span> <span class="o">=</span> <span class="n">compiler</span><span class="o">.</span><span class="n">fullmatch</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
</span><span id="DeclareParsedDataModel-493"><a href="#DeclareParsedDataModel-493"><span class="linenos">493</span></a>        <span class="k">if</span> <span class="n">al</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel-494"><a href="#DeclareParsedDataModel-494"><span class="linenos">494</span></a>            <span class="k">return</span>
</span><span id="DeclareParsedDataModel-495"><a href="#DeclareParsedDataModel-495"><span class="linenos">495</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">al</span><span class="o">.</span><span class="n">group</span><span class="p">())</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel-496"><a href="#DeclareParsedDataModel-496"><span class="linenos">496</span></a>            <span class="n">events</span> <span class="o">=</span> <span class="n">al</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>  <span class="c1"># A, B</span>
</span><span id="DeclareParsedDataModel-497"><a href="#DeclareParsedDataModel-497"><span class="linenos">497</span></a>            <span class="n">events</span> <span class="o">=</span> <span class="p">[</span><span class="n">e</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">events</span><span class="p">]</span>  <span class="c1"># [A, B]</span>
</span><span id="DeclareParsedDataModel-498"><a href="#DeclareParsedDataModel-498"><span class="linenos">498</span></a>            <span class="n">templt</span><span class="o">.</span><span class="n">activities</span> <span class="o">=</span> <span class="n">events</span>
</span><span id="DeclareParsedDataModel-499"><a href="#DeclareParsedDataModel-499"><span class="linenos">499</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">al</span><span class="o">.</span><span class="n">group</span><span class="p">())</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel-500"><a href="#DeclareParsedDataModel-500"><span class="linenos">500</span></a>            <span class="n">conditions</span> <span class="o">=</span> <span class="n">al</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="DeclareParsedDataModel-501"><a href="#DeclareParsedDataModel-501"><span class="linenos">501</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">conditions</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel-502"><a href="#DeclareParsedDataModel-502"><span class="linenos">502</span></a>                <span class="k">return</span>
</span><span id="DeclareParsedDataModel-503"><a href="#DeclareParsedDataModel-503"><span class="linenos">503</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">conditions</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">conditions</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;|&quot;</span><span class="p">):</span>
</span><span id="DeclareParsedDataModel-504"><a href="#DeclareParsedDataModel-504"><span class="linenos">504</span></a>                <span class="k">raise</span> <span class="ne">SyntaxError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unable to parse template </span><span class="si">{</span><span class="n">template</span><span class="o">.</span><span class="n">templ_str</span><span class="si">}</span><span class="s2">&#39;s conditions.&quot;</span>
</span><span id="DeclareParsedDataModel-505"><a href="#DeclareParsedDataModel-505"><span class="linenos">505</span></a>                                  <span class="sa">f</span><span class="s2">&quot; Conditions should start with </span><span class="se">\&quot;</span><span class="s2">|</span><span class="se">\&quot;</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="DeclareParsedDataModel-506"><a href="#DeclareParsedDataModel-506"><span class="linenos">506</span></a>            <span class="n">templt</span><span class="o">.</span><span class="n">condition_line</span> <span class="o">=</span> <span class="n">conditions</span>
</span><span id="DeclareParsedDataModel-507"><a href="#DeclareParsedDataModel-507"><span class="linenos">507</span></a>            <span class="n">conditions</span> <span class="o">=</span> <span class="n">conditions</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot;|&quot;</span><span class="p">)</span>
</span><span id="DeclareParsedDataModel-508"><a href="#DeclareParsedDataModel-508"><span class="linenos">508</span></a>            <span class="n">conds_list</span> <span class="o">=</span> <span class="n">conditions</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;|&quot;</span><span class="p">)</span>
</span><span id="DeclareParsedDataModel-509"><a href="#DeclareParsedDataModel-509"><span class="linenos">509</span></a>            <span class="n">templt</span><span class="o">.</span><span class="n">condition</span> <span class="o">=</span> <span class="p">[</span><span class="n">cl</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">cl</span> <span class="ow">in</span> <span class="n">conds_list</span><span class="p">]</span>
</span><span id="DeclareParsedDataModel-510"><a href="#DeclareParsedDataModel-510"><span class="linenos">510</span></a>            <span class="n">conds_len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">conds_list</span><span class="p">)</span>
</span><span id="DeclareParsedDataModel-511"><a href="#DeclareParsedDataModel-511"><span class="linenos">511</span></a>            <span class="k">if</span> <span class="n">conds_len</span> <span class="o">&gt;</span> <span class="mi">3</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel-512"><a href="#DeclareParsedDataModel-512"><span class="linenos">512</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unable to parse the line due to the exceeds conditions (&gt; 3)&quot;</span><span class="p">)</span>
</span><span id="DeclareParsedDataModel-513"><a href="#DeclareParsedDataModel-513"><span class="linenos">513</span></a>
</span><span id="DeclareParsedDataModel-514"><a href="#DeclareParsedDataModel-514"><span class="linenos">514</span></a>    <span class="k">def</span> <span class="nf">update_props</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="DeclareParsedDataModel-515"><a href="#DeclareParsedDataModel-515"><span class="linenos">515</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DeclareParsedDataModel-516"><a href="#DeclareParsedDataModel-516"><span class="linenos">516</span></a><span class="sd">        Updates the _dict, so it has updated values when any dict op is occurred</span>
</span><span id="DeclareParsedDataModel-517"><a href="#DeclareParsedDataModel-517"><span class="linenos">517</span></a><span class="sd">        Returns</span>
</span><span id="DeclareParsedDataModel-518"><a href="#DeclareParsedDataModel-518"><span class="linenos">518</span></a><span class="sd">        -------</span>
</span><span id="DeclareParsedDataModel-519"><a href="#DeclareParsedDataModel-519"><span class="linenos">519</span></a>
</span><span id="DeclareParsedDataModel-520"><a href="#DeclareParsedDataModel-520"><span class="linenos">520</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DeclareParsedDataModel-521"><a href="#DeclareParsedDataModel-521"><span class="linenos">521</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">key_value</span><span class="p">[</span><span class="s2">&quot;events&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">events</span>
</span><span id="DeclareParsedDataModel-522"><a href="#DeclareParsedDataModel-522"><span class="linenos">522</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">key_value</span><span class="p">[</span><span class="s2">&quot;attributes_list&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">attributes_list</span>
</span><span id="DeclareParsedDataModel-523"><a href="#DeclareParsedDataModel-523"><span class="linenos">523</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">key_value</span><span class="p">[</span><span class="s2">&quot;template_constraints&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">template_constraints</span>
</span><span id="DeclareParsedDataModel-524"><a href="#DeclareParsedDataModel-524"><span class="linenos">524</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">key_value</span><span class="p">[</span><span class="s2">&quot;templates&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">templates</span>
</span><span id="DeclareParsedDataModel-525"><a href="#DeclareParsedDataModel-525"><span class="linenos">525</span></a>
</span><span id="DeclareParsedDataModel-526"><a href="#DeclareParsedDataModel-526"><span class="linenos">526</span></a>    <span class="k">def</span> <span class="nf">encode</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DeclareParsedDataModel</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel-527"><a href="#DeclareParsedDataModel-527"><span class="linenos">527</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoded_model</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel-528"><a href="#DeclareParsedDataModel-528"><span class="linenos">528</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">encoded_model</span> <span class="o">=</span> <span class="n">DeclareModelCoder</span><span class="p">()</span>
</span><span id="DeclareParsedDataModel-529"><a href="#DeclareParsedDataModel-529"><span class="linenos">529</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoded_model</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="DeclareParsedDataModel-530"><a href="#DeclareParsedDataModel-530"><span class="linenos">530</span></a>
</span><span id="DeclareParsedDataModel-531"><a href="#DeclareParsedDataModel-531"><span class="linenos">531</span></a>    <span class="k">def</span> <span class="nf">decode_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel-532"><a href="#DeclareParsedDataModel-532"><span class="linenos">532</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoded_model</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel-533"><a href="#DeclareParsedDataModel-533"><span class="linenos">533</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">encoded_model</span> <span class="o">=</span> <span class="n">DeclareModelCoder</span><span class="p">()</span>
</span><span id="DeclareParsedDataModel-534"><a href="#DeclareParsedDataModel-534"><span class="linenos">534</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoded_model</span><span class="o">.</span><span class="n">decode_value</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Custom DICT helper class: printable and serializable object</p>

<p>CustomUtilityDict is a subclass of the built-in dict class that adds several additional features:
It is printable and serializable using the json module.</p>

<p>It has an update_props() method, which is called automatically by the class whenever one of the dictionary methods
 is called. This method is marked as abstract, so it must be implemented by any subclass of CustomUtilityDict.
Example
Here is an example of how to use CustomUtilityDict:</p>

<p>```class MyCustomDict(CustomUtilityDict):
    def __init__(self):
        super().__init__()
        self.name: str = ""</p>

<pre><code>def update_props(self):
    self.key_value["name"] = self.name

my_dict = MyCustomDict()
my_dict["key1"] = "value1"
my_dict["key2"] = "value2"
</code></pre>

<p>```</p>
</div>


                            <div id="DeclareParsedDataModel.add_event" class="classattr">
                                        <input id="DeclareParsedDataModel.add_event-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">add_event</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">name</span><span class="p">:</span> <span class="nb">str</span>, </span><span class="param"><span class="n">event_type</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="DeclareParsedDataModel.add_event-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareParsedDataModel.add_event"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareParsedDataModel.add_event-369"><a href="#DeclareParsedDataModel.add_event-369"><span class="linenos">369</span></a>    <span class="k">def</span> <span class="nf">add_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">event_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel.add_event-370"><a href="#DeclareParsedDataModel.add_event-370"><span class="linenos">370</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DeclareParsedDataModel.add_event-371"><a href="#DeclareParsedDataModel.add_event-371"><span class="linenos">371</span></a><span class="sd">        Add an event to events dictionary if not exists yet.</span>
</span><span id="DeclareParsedDataModel.add_event-372"><a href="#DeclareParsedDataModel.add_event-372"><span class="linenos">372</span></a>
</span><span id="DeclareParsedDataModel.add_event-373"><a href="#DeclareParsedDataModel.add_event-373"><span class="linenos">373</span></a><span class="sd">        Parameters</span>
</span><span id="DeclareParsedDataModel.add_event-374"><a href="#DeclareParsedDataModel.add_event-374"><span class="linenos">374</span></a><span class="sd">        ----------</span>
</span><span id="DeclareParsedDataModel.add_event-375"><a href="#DeclareParsedDataModel.add_event-375"><span class="linenos">375</span></a><span class="sd">        name  the name of event or activity</span>
</span><span id="DeclareParsedDataModel.add_event-376"><a href="#DeclareParsedDataModel.add_event-376"><span class="linenos">376</span></a><span class="sd">        event_type  the type of the event, generally its &quot;activity&quot;</span>
</span><span id="DeclareParsedDataModel.add_event-377"><a href="#DeclareParsedDataModel.add_event-377"><span class="linenos">377</span></a>
</span><span id="DeclareParsedDataModel.add_event-378"><a href="#DeclareParsedDataModel.add_event-378"><span class="linenos">378</span></a><span class="sd">        Returns</span>
</span><span id="DeclareParsedDataModel.add_event-379"><a href="#DeclareParsedDataModel.add_event-379"><span class="linenos">379</span></a><span class="sd">        -------</span>
</span><span id="DeclareParsedDataModel.add_event-380"><a href="#DeclareParsedDataModel.add_event-380"><span class="linenos">380</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DeclareParsedDataModel.add_event-381"><a href="#DeclareParsedDataModel.add_event-381"><span class="linenos">381</span></a>
</span><span id="DeclareParsedDataModel.add_event-382"><a href="#DeclareParsedDataModel.add_event-382"><span class="linenos">382</span></a>        <span class="n">event_name</span><span class="p">,</span> <span class="n">event_type</span> <span class="o">=</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">event_type</span><span class="p">)</span>
</span><span id="DeclareParsedDataModel.add_event-383"><a href="#DeclareParsedDataModel.add_event-383"><span class="linenos">383</span></a>        <span class="k">if</span> <span class="n">event_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">events</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel.add_event-384"><a href="#DeclareParsedDataModel.add_event-384"><span class="linenos">384</span></a>            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Multiple times the same activity [</span><span class="si">{</span><span class="n">event_name</span><span class="si">}</span><span class="s2">] is declared&quot;</span><span class="p">)</span>
</span><span id="DeclareParsedDataModel.add_event-385"><a href="#DeclareParsedDataModel.add_event-385"><span class="linenos">385</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">events</span><span class="p">[</span><span class="n">event_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">DeclareModelEvent</span><span class="p">()</span>
</span><span id="DeclareParsedDataModel.add_event-386"><a href="#DeclareParsedDataModel.add_event-386"><span class="linenos">386</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">events</span><span class="p">[</span><span class="n">event_name</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">event_name</span>
</span><span id="DeclareParsedDataModel.add_event-387"><a href="#DeclareParsedDataModel.add_event-387"><span class="linenos">387</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">events</span><span class="p">[</span><span class="n">event_name</span><span class="p">]</span><span class="o">.</span><span class="n">event_type</span> <span class="o">=</span> <span class="n">event_type</span>
</span></pre></div>


            <div class="docstring"><p>Add an event to events dictionary if not exists yet.</p>

<h2 id="parameters">Parameters</h2>

<p>name  the name of event or activity
event_type  the type of the event, generally its "activity"</p>

<h2 id="returns">Returns</h2>
</div>


                            </div>
                            <div id="DeclareParsedDataModel.add_attribute" class="classattr">
                                        <input id="DeclareParsedDataModel.add_attribute-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">add_attribute</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">event_name</span><span class="p">:</span> <span class="nb">str</span>, </span><span class="param"><span class="n">attr_name</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DeclareParsedDataModel.add_attribute-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareParsedDataModel.add_attribute"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareParsedDataModel.add_attribute-389"><a href="#DeclareParsedDataModel.add_attribute-389"><span class="linenos">389</span></a>    <span class="k">def</span> <span class="nf">add_attribute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">attr_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="DeclareParsedDataModel.add_attribute-390"><a href="#DeclareParsedDataModel.add_attribute-390"><span class="linenos">390</span></a>        <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="DeclareParsedDataModel.add_attribute-391"><a href="#DeclareParsedDataModel.add_attribute-391"><span class="linenos">391</span></a><span class="s2">        Add the bounded attribute to the event/activity</span>
</span><span id="DeclareParsedDataModel.add_attribute-392"><a href="#DeclareParsedDataModel.add_attribute-392"><span class="linenos">392</span></a>
</span><span id="DeclareParsedDataModel.add_attribute-393"><a href="#DeclareParsedDataModel.add_attribute-393"><span class="linenos">393</span></a><span class="s2">        Parameters</span>
</span><span id="DeclareParsedDataModel.add_attribute-394"><a href="#DeclareParsedDataModel.add_attribute-394"><span class="linenos">394</span></a><span class="s2">        ----------</span>
</span><span id="DeclareParsedDataModel.add_attribute-395"><a href="#DeclareParsedDataModel.add_attribute-395"><span class="linenos">395</span></a><span class="s2">        event_name: the name of event that for which the </span><span class="si">{</span><span class="n">attr_name</span><span class="si">}</span><span class="s2"> is bounded to.</span>
</span><span id="DeclareParsedDataModel.add_attribute-396"><a href="#DeclareParsedDataModel.add_attribute-396"><span class="linenos">396</span></a><span class="s2">        attr_name: attribute name</span>
</span><span id="DeclareParsedDataModel.add_attribute-397"><a href="#DeclareParsedDataModel.add_attribute-397"><span class="linenos">397</span></a><span class="s2">        Returns</span>
</span><span id="DeclareParsedDataModel.add_attribute-398"><a href="#DeclareParsedDataModel.add_attribute-398"><span class="linenos">398</span></a><span class="s2">        -------</span>
</span><span id="DeclareParsedDataModel.add_attribute-399"><a href="#DeclareParsedDataModel.add_attribute-399"><span class="linenos">399</span></a>
</span><span id="DeclareParsedDataModel.add_attribute-400"><a href="#DeclareParsedDataModel.add_attribute-400"><span class="linenos">400</span></a><span class="s2">        &quot;&quot;&quot;</span>
</span><span id="DeclareParsedDataModel.add_attribute-401"><a href="#DeclareParsedDataModel.add_attribute-401"><span class="linenos">401</span></a>        <span class="k">if</span> <span class="n">event_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">events</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel.add_attribute-402"><a href="#DeclareParsedDataModel.add_attribute-402"><span class="linenos">402</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unable to find the event or activity </span><span class="si">{</span><span class="n">event_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="DeclareParsedDataModel.add_attribute-403"><a href="#DeclareParsedDataModel.add_attribute-403"><span class="linenos">403</span></a>        <span class="n">dme</span><span class="p">:</span> <span class="n">DeclareModelEvent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">events</span><span class="p">[</span><span class="n">event_name</span><span class="p">]</span>
</span><span id="DeclareParsedDataModel.add_attribute-404"><a href="#DeclareParsedDataModel.add_attribute-404"><span class="linenos">404</span></a>        <span class="n">attrs</span> <span class="o">=</span> <span class="n">dme</span><span class="o">.</span><span class="n">attributes</span>
</span><span id="DeclareParsedDataModel.add_attribute-405"><a href="#DeclareParsedDataModel.add_attribute-405"><span class="linenos">405</span></a>        <span class="k">if</span> <span class="n">attrs</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel.add_attribute-406"><a href="#DeclareParsedDataModel.add_attribute-406"><span class="linenos">406</span></a>            <span class="n">attrs</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="DeclareParsedDataModel.add_attribute-407"><a href="#DeclareParsedDataModel.add_attribute-407"><span class="linenos">407</span></a>            <span class="n">dme</span><span class="o">.</span><span class="n">attributes</span> <span class="o">=</span> <span class="n">attrs</span>
</span><span id="DeclareParsedDataModel.add_attribute-408"><a href="#DeclareParsedDataModel.add_attribute-408"><span class="linenos">408</span></a>        <span class="k">if</span> <span class="n">attr_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">attributes_list</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel.add_attribute-409"><a href="#DeclareParsedDataModel.add_attribute-409"><span class="linenos">409</span></a>            <span class="n">attrs</span><span class="p">[</span><span class="n">attr_name</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">attributes_list</span><span class="p">[</span><span class="n">attr_name</span><span class="p">]</span>  <span class="c1"># saving the same reference. Same attr cannot have two values</span>
</span><span id="DeclareParsedDataModel.add_attribute-410"><a href="#DeclareParsedDataModel.add_attribute-410"><span class="linenos">410</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel.add_attribute-411"><a href="#DeclareParsedDataModel.add_attribute-411"><span class="linenos">411</span></a>            <span class="n">attrs</span><span class="p">[</span><span class="n">attr_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;value_type&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">}</span>
</span><span id="DeclareParsedDataModel.add_attribute-412"><a href="#DeclareParsedDataModel.add_attribute-412"><span class="linenos">412</span></a>
</span><span id="DeclareParsedDataModel.add_attribute-413"><a href="#DeclareParsedDataModel.add_attribute-413"><span class="linenos">413</span></a>        <span class="k">if</span> <span class="n">attr_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">attributes_list</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel.add_attribute-414"><a href="#DeclareParsedDataModel.add_attribute-414"><span class="linenos">414</span></a>            <span class="c1"># we save the reference of attributes in separate list</span>
</span><span id="DeclareParsedDataModel.add_attribute-415"><a href="#DeclareParsedDataModel.add_attribute-415"><span class="linenos">415</span></a>            <span class="c1"># for improving computation</span>
</span><span id="DeclareParsedDataModel.add_attribute-416"><a href="#DeclareParsedDataModel.add_attribute-416"><span class="linenos">416</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">attributes_list</span><span class="p">[</span><span class="n">attr_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">attrs</span><span class="p">[</span><span class="n">attr_name</span><span class="p">]</span>
</span><span id="DeclareParsedDataModel.add_attribute-417"><a href="#DeclareParsedDataModel.add_attribute-417"><span class="linenos">417</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">attributes_list</span><span class="p">[</span><span class="n">attr_name</span><span class="p">][</span><span class="s2">&quot;events_attached&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">event_name</span><span class="p">]</span>
</span><span id="DeclareParsedDataModel.add_attribute-418"><a href="#DeclareParsedDataModel.add_attribute-418"><span class="linenos">418</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel.add_attribute-419"><a href="#DeclareParsedDataModel.add_attribute-419"><span class="linenos">419</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">attributes_list</span><span class="p">[</span><span class="n">attr_name</span><span class="p">][</span><span class="s2">&quot;events_attached&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">event_name</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="DeclareParsedDataModel.add_attribute_value" class="classattr">
                                        <input id="DeclareParsedDataModel.add_attribute_value-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">add_attribute_value</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">attr_name</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">attr_type</span><span class="p">:</span> <span class="n"><a href="#DeclareModelAttributeType">src.declare4py.ProcessModels.DeclareModel.DeclareModelAttributeType</a></span>,</span><span class="param">	<span class="n">attr_value</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DeclareParsedDataModel.add_attribute_value-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareParsedDataModel.add_attribute_value"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareParsedDataModel.add_attribute_value-421"><a href="#DeclareParsedDataModel.add_attribute_value-421"><span class="linenos">421</span></a>    <span class="k">def</span> <span class="nf">add_attribute_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attr_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">attr_type</span><span class="p">:</span> <span class="n">DeclareModelAttributeType</span><span class="p">,</span> <span class="n">attr_value</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="DeclareParsedDataModel.add_attribute_value-422"><a href="#DeclareParsedDataModel.add_attribute_value-422"><span class="linenos">422</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DeclareParsedDataModel.add_attribute_value-423"><a href="#DeclareParsedDataModel.add_attribute_value-423"><span class="linenos">423</span></a><span class="sd">        Adding the attribute information</span>
</span><span id="DeclareParsedDataModel.add_attribute_value-424"><a href="#DeclareParsedDataModel.add_attribute_value-424"><span class="linenos">424</span></a><span class="sd">        Parameters</span>
</span><span id="DeclareParsedDataModel.add_attribute_value-425"><a href="#DeclareParsedDataModel.add_attribute_value-425"><span class="linenos">425</span></a><span class="sd">        ----------</span>
</span><span id="DeclareParsedDataModel.add_attribute_value-426"><a href="#DeclareParsedDataModel.add_attribute_value-426"><span class="linenos">426</span></a><span class="sd">        attr_name: str</span>
</span><span id="DeclareParsedDataModel.add_attribute_value-427"><a href="#DeclareParsedDataModel.add_attribute_value-427"><span class="linenos">427</span></a><span class="sd">        attr_type: DeclareModelAttributeType</span>
</span><span id="DeclareParsedDataModel.add_attribute_value-428"><a href="#DeclareParsedDataModel.add_attribute_value-428"><span class="linenos">428</span></a><span class="sd">        attr_value: str</span>
</span><span id="DeclareParsedDataModel.add_attribute_value-429"><a href="#DeclareParsedDataModel.add_attribute_value-429"><span class="linenos">429</span></a>
</span><span id="DeclareParsedDataModel.add_attribute_value-430"><a href="#DeclareParsedDataModel.add_attribute_value-430"><span class="linenos">430</span></a><span class="sd">        Returns</span>
</span><span id="DeclareParsedDataModel.add_attribute_value-431"><a href="#DeclareParsedDataModel.add_attribute_value-431"><span class="linenos">431</span></a><span class="sd">        -------</span>
</span><span id="DeclareParsedDataModel.add_attribute_value-432"><a href="#DeclareParsedDataModel.add_attribute_value-432"><span class="linenos">432</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DeclareParsedDataModel.add_attribute_value-433"><a href="#DeclareParsedDataModel.add_attribute_value-433"><span class="linenos">433</span></a>        <span class="k">if</span> <span class="n">attr_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">attributes_list</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel.add_attribute_value-434"><a href="#DeclareParsedDataModel.add_attribute_value-434"><span class="linenos">434</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unable to find attribute </span><span class="si">{</span><span class="n">attr_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="DeclareParsedDataModel.add_attribute_value-435"><a href="#DeclareParsedDataModel.add_attribute_value-435"><span class="linenos">435</span></a>        <span class="n">attribute</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">attributes_list</span><span class="p">[</span><span class="n">attr_name</span><span class="p">]</span>
</span><span id="DeclareParsedDataModel.add_attribute_value-436"><a href="#DeclareParsedDataModel.add_attribute_value-436"><span class="linenos">436</span></a>        <span class="n">attribute</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">attr_value</span>
</span><span id="DeclareParsedDataModel.add_attribute_value-437"><a href="#DeclareParsedDataModel.add_attribute_value-437"><span class="linenos">437</span></a>        <span class="n">attribute</span><span class="p">[</span><span class="s2">&quot;value_type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">attr_type</span>
</span><span id="DeclareParsedDataModel.add_attribute_value-438"><a href="#DeclareParsedDataModel.add_attribute_value-438"><span class="linenos">438</span></a>        <span class="k">if</span> <span class="n">attr_type</span> <span class="o">==</span> <span class="n">DeclareModelAttributeType</span><span class="o">.</span><span class="n">FLOAT</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel.add_attribute_value-439"><a href="#DeclareParsedDataModel.add_attribute_value-439"><span class="linenos">439</span></a>            <span class="n">frm</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">attr_value</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>  <span class="c1"># 10.587  # attribute[&quot;range_precision&quot;] = len(frm[1])</span>
</span><span id="DeclareParsedDataModel.add_attribute_value-440"><a href="#DeclareParsedDataModel.add_attribute_value-440"><span class="linenos">440</span></a>            <span class="n">precision</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">frm</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="DeclareParsedDataModel.add_attribute_value-441"><a href="#DeclareParsedDataModel.add_attribute_value-441"><span class="linenos">441</span></a>            <span class="n">attribute</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="mi">10</span> <span class="o">**</span> <span class="n">precision</span><span class="p">)</span> <span class="o">*</span> <span class="n">frm</span><span class="p">)</span>
</span><span id="DeclareParsedDataModel.add_attribute_value-442"><a href="#DeclareParsedDataModel.add_attribute_value-442"><span class="linenos">442</span></a>            <span class="n">attribute</span><span class="p">[</span><span class="s2">&quot;range_precision&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">precision</span>
</span><span id="DeclareParsedDataModel.add_attribute_value-443"><a href="#DeclareParsedDataModel.add_attribute_value-443"><span class="linenos">443</span></a>        <span class="k">elif</span> <span class="n">attr_type</span> <span class="o">==</span> <span class="n">DeclareModelAttributeType</span><span class="o">.</span><span class="n">INTEGER</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel.add_attribute_value-444"><a href="#DeclareParsedDataModel.add_attribute_value-444"><span class="linenos">444</span></a>            <span class="n">attribute</span><span class="p">[</span><span class="s2">&quot;range_precision&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="DeclareParsedDataModel.add_attribute_value-445"><a href="#DeclareParsedDataModel.add_attribute_value-445"><span class="linenos">445</span></a>
</span><span id="DeclareParsedDataModel.add_attribute_value-446"><a href="#DeclareParsedDataModel.add_attribute_value-446"><span class="linenos">446</span></a>        <span class="k">if</span> <span class="n">attr_type</span> <span class="o">==</span> <span class="n">DeclareModelAttributeType</span><span class="o">.</span><span class="n">FLOAT_RANGE</span> <span class="ow">or</span> <span class="n">attr_type</span> <span class="o">==</span> <span class="n">DeclareModelAttributeType</span><span class="o">.</span><span class="n">INTEGER_RANGE</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel.add_attribute_value-447"><a href="#DeclareParsedDataModel.add_attribute_value-447"><span class="linenos">447</span></a>            <span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;( \d+.?\d*)( and )?(\d+.?\d*)&quot;</span><span class="p">)</span>
</span><span id="DeclareParsedDataModel.add_attribute_value-448"><a href="#DeclareParsedDataModel.add_attribute_value-448"><span class="linenos">448</span></a>            <span class="n">match</span> <span class="o">=</span> <span class="n">pattern</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">attr_value</span><span class="p">)</span>
</span><span id="DeclareParsedDataModel.add_attribute_value-449"><a href="#DeclareParsedDataModel.add_attribute_value-449"><span class="linenos">449</span></a>            <span class="c1"># Extract the float values</span>
</span><span id="DeclareParsedDataModel.add_attribute_value-450"><a href="#DeclareParsedDataModel.add_attribute_value-450"><span class="linenos">450</span></a>            <span class="k">if</span> <span class="n">match</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel.add_attribute_value-451"><a href="#DeclareParsedDataModel.add_attribute_value-451"><span class="linenos">451</span></a>                <span class="p">(</span><span class="n">val1</span><span class="p">,</span> <span class="n">val2</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="DeclareParsedDataModel.add_attribute_value-452"><a href="#DeclareParsedDataModel.add_attribute_value-452"><span class="linenos">452</span></a>                <span class="k">if</span> <span class="n">attr_type</span> <span class="o">==</span> <span class="n">DeclareModelAttributeType</span><span class="o">.</span><span class="n">INTEGER_RANGE</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel.add_attribute_value-453"><a href="#DeclareParsedDataModel.add_attribute_value-453"><span class="linenos">453</span></a>                    <span class="n">val1</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">match</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
</span><span id="DeclareParsedDataModel.add_attribute_value-454"><a href="#DeclareParsedDataModel.add_attribute_value-454"><span class="linenos">454</span></a>                    <span class="n">val2</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">match</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">])</span>
</span><span id="DeclareParsedDataModel.add_attribute_value-455"><a href="#DeclareParsedDataModel.add_attribute_value-455"><span class="linenos">455</span></a>                    <span class="n">attribute</span><span class="p">[</span><span class="s2">&quot;range_precision&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="DeclareParsedDataModel.add_attribute_value-456"><a href="#DeclareParsedDataModel.add_attribute_value-456"><span class="linenos">456</span></a>                <span class="k">if</span> <span class="n">attr_type</span> <span class="o">==</span> <span class="n">DeclareModelAttributeType</span><span class="o">.</span><span class="n">FLOAT_RANGE</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel.add_attribute_value-457"><a href="#DeclareParsedDataModel.add_attribute_value-457"><span class="linenos">457</span></a>                    <span class="n">v</span> <span class="o">=</span> <span class="n">attr_value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;float between&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;and&quot;</span><span class="p">,</span> <span class="s2">&quot;---&quot;</span><span class="p">)</span>
</span><span id="DeclareParsedDataModel.add_attribute_value-458"><a href="#DeclareParsedDataModel.add_attribute_value-458"><span class="linenos">458</span></a>                    <span class="n">v</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; --- &quot;</span><span class="p">)</span>
</span><span id="DeclareParsedDataModel.add_attribute_value-459"><a href="#DeclareParsedDataModel.add_attribute_value-459"><span class="linenos">459</span></a>                    <span class="c1"># val1 = float(match[0][0])</span>
</span><span id="DeclareParsedDataModel.add_attribute_value-460"><a href="#DeclareParsedDataModel.add_attribute_value-460"><span class="linenos">460</span></a>                    <span class="c1"># val2 = float(match[0][2])</span>
</span><span id="DeclareParsedDataModel.add_attribute_value-461"><a href="#DeclareParsedDataModel.add_attribute_value-461"><span class="linenos">461</span></a>                    <span class="n">val1</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</span><span id="DeclareParsedDataModel.add_attribute_value-462"><a href="#DeclareParsedDataModel.add_attribute_value-462"><span class="linenos">462</span></a>                    <span class="n">val2</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="DeclareParsedDataModel.add_attribute_value-463"><a href="#DeclareParsedDataModel.add_attribute_value-463"><span class="linenos">463</span></a>                    <span class="n">attribute</span><span class="p">[</span><span class="s2">&quot;range_precision&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_float_biggest_precision</span><span class="p">(</span><span class="n">val1</span><span class="p">,</span> <span class="n">val2</span><span class="p">)</span>
</span><span id="DeclareParsedDataModel.add_attribute_value-464"><a href="#DeclareParsedDataModel.add_attribute_value-464"><span class="linenos">464</span></a>                <span class="n">attribute</span><span class="p">[</span><span class="s2">&quot;from&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">val1</span>
</span><span id="DeclareParsedDataModel.add_attribute_value-465"><a href="#DeclareParsedDataModel.add_attribute_value-465"><span class="linenos">465</span></a>                <span class="n">attribute</span><span class="p">[</span><span class="s2">&quot;to&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">val2</span>
</span></pre></div>


            <div class="docstring"><p>Adding the attribute information</p>

<h2 id="parameters">Parameters</h2>

<p>attr_name: str
attr_type: DeclareModelAttributeType
attr_value: str</p>

<h2 id="returns">Returns</h2>
</div>


                            </div>
                            <div id="DeclareParsedDataModel.get_float_biggest_precision" class="classattr">
                                        <input id="DeclareParsedDataModel.get_float_biggest_precision-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_float_biggest_precision</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">v1</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">v2</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="nb">int</span>:</span></span>

                <label class="view-source-button" for="DeclareParsedDataModel.get_float_biggest_precision-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareParsedDataModel.get_float_biggest_precision"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareParsedDataModel.get_float_biggest_precision-467"><a href="#DeclareParsedDataModel.get_float_biggest_precision-467"><span class="linenos">467</span></a>    <span class="k">def</span> <span class="nf">get_float_biggest_precision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">v1</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">v2</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel.get_float_biggest_precision-468"><a href="#DeclareParsedDataModel.get_float_biggest_precision-468"><span class="linenos">468</span></a>        <span class="n">decimal_len_list</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="DeclareParsedDataModel.get_float_biggest_precision-469"><a href="#DeclareParsedDataModel.get_float_biggest_precision-469"><span class="linenos">469</span></a>        <span class="n">precision</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="DeclareParsedDataModel.get_float_biggest_precision-470"><a href="#DeclareParsedDataModel.get_float_biggest_precision-470"><span class="linenos">470</span></a>        <span class="n">frm</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">v1</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>  <span class="c1"># 10.587</span>
</span><span id="DeclareParsedDataModel.get_float_biggest_precision-471"><a href="#DeclareParsedDataModel.get_float_biggest_precision-471"><span class="linenos">471</span></a>        <span class="n">til</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">v2</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>  <span class="c1"># 3.587</span>
</span><span id="DeclareParsedDataModel.get_float_biggest_precision-472"><a href="#DeclareParsedDataModel.get_float_biggest_precision-472"><span class="linenos">472</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">frm</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel.get_float_biggest_precision-473"><a href="#DeclareParsedDataModel.get_float_biggest_precision-473"><span class="linenos">473</span></a>            <span class="n">precision</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">frm</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>  <span class="c1"># frm[1] = 587 and length would be 3</span>
</span><span id="DeclareParsedDataModel.get_float_biggest_precision-474"><a href="#DeclareParsedDataModel.get_float_biggest_precision-474"><span class="linenos">474</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">til</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel.get_float_biggest_precision-475"><a href="#DeclareParsedDataModel.get_float_biggest_precision-475"><span class="linenos">475</span></a>            <span class="n">precision</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">til</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="n">precision</span><span class="p">)</span>
</span><span id="DeclareParsedDataModel.get_float_biggest_precision-476"><a href="#DeclareParsedDataModel.get_float_biggest_precision-476"><span class="linenos">476</span></a>        <span class="n">decimal_len_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">precision</span><span class="p">)</span>
</span><span id="DeclareParsedDataModel.get_float_biggest_precision-477"><a href="#DeclareParsedDataModel.get_float_biggest_precision-477"><span class="linenos">477</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">decimal_len_list</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel.get_float_biggest_precision-478"><a href="#DeclareParsedDataModel.get_float_biggest_precision-478"><span class="linenos">478</span></a>            <span class="k">return</span> <span class="mi">0</span>
</span><span id="DeclareParsedDataModel.get_float_biggest_precision-479"><a href="#DeclareParsedDataModel.get_float_biggest_precision-479"><span class="linenos">479</span></a>        <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">decimal_len_list</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="DeclareParsedDataModel.add_template" class="classattr">
                                        <input id="DeclareParsedDataModel.add_template-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">add_template</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">line</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">template</span><span class="p">:</span> <span class="n"><a href="#DeclareModelTemplate">src.declare4py.ProcessModels.DeclareModel.DeclareModelTemplate</a></span>,</span><span class="param">	<span class="n">cardinality</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">template_idx</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DeclareParsedDataModel.add_template-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareParsedDataModel.add_template"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareParsedDataModel.add_template-481"><a href="#DeclareParsedDataModel.add_template-481"><span class="linenos">481</span></a>    <span class="k">def</span> <span class="nf">add_template</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">template</span><span class="p">:</span> <span class="n">DeclareModelTemplate</span><span class="p">,</span> <span class="n">cardinality</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">template_idx</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="DeclareParsedDataModel.add_template-482"><a href="#DeclareParsedDataModel.add_template-482"><span class="linenos">482</span></a>        <span class="n">templt</span> <span class="o">=</span> <span class="n">DeclareModelTemplateDataModel</span><span class="p">()</span>
</span><span id="DeclareParsedDataModel.add_template-483"><a href="#DeclareParsedDataModel.add_template-483"><span class="linenos">483</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">templates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">templt</span><span class="p">)</span>
</span><span id="DeclareParsedDataModel.add_template-484"><a href="#DeclareParsedDataModel.add_template-484"><span class="linenos">484</span></a>        <span class="n">templt</span><span class="o">.</span><span class="n">template</span> <span class="o">=</span> <span class="n">template</span>
</span><span id="DeclareParsedDataModel.add_template-485"><a href="#DeclareParsedDataModel.add_template-485"><span class="linenos">485</span></a>        <span class="n">templt</span><span class="o">.</span><span class="n">template_name</span> <span class="o">=</span> <span class="n">template</span><span class="o">.</span><span class="n">templ_str</span>
</span><span id="DeclareParsedDataModel.add_template-486"><a href="#DeclareParsedDataModel.add_template-486"><span class="linenos">486</span></a>        <span class="n">templt</span><span class="o">.</span><span class="n">template_line</span> <span class="o">=</span> <span class="n">line</span>
</span><span id="DeclareParsedDataModel.add_template-487"><a href="#DeclareParsedDataModel.add_template-487"><span class="linenos">487</span></a>        <span class="n">templt</span><span class="o">.</span><span class="n">template_index_id</span> <span class="o">=</span> <span class="n">template_idx</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">total_templates</span>
</span><span id="DeclareParsedDataModel.add_template-488"><a href="#DeclareParsedDataModel.add_template-488"><span class="linenos">488</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">total_templates</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">total_templates</span> <span class="o">+</span> <span class="mi">1</span>
</span><span id="DeclareParsedDataModel.add_template-489"><a href="#DeclareParsedDataModel.add_template-489"><span class="linenos">489</span></a>        <span class="k">if</span> <span class="n">template</span><span class="o">.</span><span class="n">supports_cardinality</span> <span class="ow">and</span> <span class="nb">int</span><span class="p">(</span><span class="n">cardinality</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel.add_template-490"><a href="#DeclareParsedDataModel.add_template-490"><span class="linenos">490</span></a>            <span class="n">templt</span><span class="o">.</span><span class="n">template_name</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="n">cardinality</span><span class="p">)</span>
</span><span id="DeclareParsedDataModel.add_template-491"><a href="#DeclareParsedDataModel.add_template-491"><span class="linenos">491</span></a>        <span class="n">compiler</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;^(.*)\[(.*)\]\s*(.*)$&quot;</span><span class="p">)</span>
</span><span id="DeclareParsedDataModel.add_template-492"><a href="#DeclareParsedDataModel.add_template-492"><span class="linenos">492</span></a>        <span class="n">al</span> <span class="o">=</span> <span class="n">compiler</span><span class="o">.</span><span class="n">fullmatch</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
</span><span id="DeclareParsedDataModel.add_template-493"><a href="#DeclareParsedDataModel.add_template-493"><span class="linenos">493</span></a>        <span class="k">if</span> <span class="n">al</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel.add_template-494"><a href="#DeclareParsedDataModel.add_template-494"><span class="linenos">494</span></a>            <span class="k">return</span>
</span><span id="DeclareParsedDataModel.add_template-495"><a href="#DeclareParsedDataModel.add_template-495"><span class="linenos">495</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">al</span><span class="o">.</span><span class="n">group</span><span class="p">())</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel.add_template-496"><a href="#DeclareParsedDataModel.add_template-496"><span class="linenos">496</span></a>            <span class="n">events</span> <span class="o">=</span> <span class="n">al</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>  <span class="c1"># A, B</span>
</span><span id="DeclareParsedDataModel.add_template-497"><a href="#DeclareParsedDataModel.add_template-497"><span class="linenos">497</span></a>            <span class="n">events</span> <span class="o">=</span> <span class="p">[</span><span class="n">e</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">events</span><span class="p">]</span>  <span class="c1"># [A, B]</span>
</span><span id="DeclareParsedDataModel.add_template-498"><a href="#DeclareParsedDataModel.add_template-498"><span class="linenos">498</span></a>            <span class="n">templt</span><span class="o">.</span><span class="n">activities</span> <span class="o">=</span> <span class="n">events</span>
</span><span id="DeclareParsedDataModel.add_template-499"><a href="#DeclareParsedDataModel.add_template-499"><span class="linenos">499</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">al</span><span class="o">.</span><span class="n">group</span><span class="p">())</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel.add_template-500"><a href="#DeclareParsedDataModel.add_template-500"><span class="linenos">500</span></a>            <span class="n">conditions</span> <span class="o">=</span> <span class="n">al</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="DeclareParsedDataModel.add_template-501"><a href="#DeclareParsedDataModel.add_template-501"><span class="linenos">501</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">conditions</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel.add_template-502"><a href="#DeclareParsedDataModel.add_template-502"><span class="linenos">502</span></a>                <span class="k">return</span>
</span><span id="DeclareParsedDataModel.add_template-503"><a href="#DeclareParsedDataModel.add_template-503"><span class="linenos">503</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">conditions</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">conditions</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;|&quot;</span><span class="p">):</span>
</span><span id="DeclareParsedDataModel.add_template-504"><a href="#DeclareParsedDataModel.add_template-504"><span class="linenos">504</span></a>                <span class="k">raise</span> <span class="ne">SyntaxError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unable to parse template </span><span class="si">{</span><span class="n">template</span><span class="o">.</span><span class="n">templ_str</span><span class="si">}</span><span class="s2">&#39;s conditions.&quot;</span>
</span><span id="DeclareParsedDataModel.add_template-505"><a href="#DeclareParsedDataModel.add_template-505"><span class="linenos">505</span></a>                                  <span class="sa">f</span><span class="s2">&quot; Conditions should start with </span><span class="se">\&quot;</span><span class="s2">|</span><span class="se">\&quot;</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="DeclareParsedDataModel.add_template-506"><a href="#DeclareParsedDataModel.add_template-506"><span class="linenos">506</span></a>            <span class="n">templt</span><span class="o">.</span><span class="n">condition_line</span> <span class="o">=</span> <span class="n">conditions</span>
</span><span id="DeclareParsedDataModel.add_template-507"><a href="#DeclareParsedDataModel.add_template-507"><span class="linenos">507</span></a>            <span class="n">conditions</span> <span class="o">=</span> <span class="n">conditions</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot;|&quot;</span><span class="p">)</span>
</span><span id="DeclareParsedDataModel.add_template-508"><a href="#DeclareParsedDataModel.add_template-508"><span class="linenos">508</span></a>            <span class="n">conds_list</span> <span class="o">=</span> <span class="n">conditions</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;|&quot;</span><span class="p">)</span>
</span><span id="DeclareParsedDataModel.add_template-509"><a href="#DeclareParsedDataModel.add_template-509"><span class="linenos">509</span></a>            <span class="n">templt</span><span class="o">.</span><span class="n">condition</span> <span class="o">=</span> <span class="p">[</span><span class="n">cl</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">cl</span> <span class="ow">in</span> <span class="n">conds_list</span><span class="p">]</span>
</span><span id="DeclareParsedDataModel.add_template-510"><a href="#DeclareParsedDataModel.add_template-510"><span class="linenos">510</span></a>            <span class="n">conds_len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">conds_list</span><span class="p">)</span>
</span><span id="DeclareParsedDataModel.add_template-511"><a href="#DeclareParsedDataModel.add_template-511"><span class="linenos">511</span></a>            <span class="k">if</span> <span class="n">conds_len</span> <span class="o">&gt;</span> <span class="mi">3</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel.add_template-512"><a href="#DeclareParsedDataModel.add_template-512"><span class="linenos">512</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unable to parse the line due to the exceeds conditions (&gt; 3)&quot;</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="DeclareParsedDataModel.update_props" class="classattr">
                                        <input id="DeclareParsedDataModel.update_props-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">update_props</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DeclareParsedDataModel.update_props-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareParsedDataModel.update_props"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareParsedDataModel.update_props-514"><a href="#DeclareParsedDataModel.update_props-514"><span class="linenos">514</span></a>    <span class="k">def</span> <span class="nf">update_props</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="DeclareParsedDataModel.update_props-515"><a href="#DeclareParsedDataModel.update_props-515"><span class="linenos">515</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DeclareParsedDataModel.update_props-516"><a href="#DeclareParsedDataModel.update_props-516"><span class="linenos">516</span></a><span class="sd">        Updates the _dict, so it has updated values when any dict op is occurred</span>
</span><span id="DeclareParsedDataModel.update_props-517"><a href="#DeclareParsedDataModel.update_props-517"><span class="linenos">517</span></a><span class="sd">        Returns</span>
</span><span id="DeclareParsedDataModel.update_props-518"><a href="#DeclareParsedDataModel.update_props-518"><span class="linenos">518</span></a><span class="sd">        -------</span>
</span><span id="DeclareParsedDataModel.update_props-519"><a href="#DeclareParsedDataModel.update_props-519"><span class="linenos">519</span></a>
</span><span id="DeclareParsedDataModel.update_props-520"><a href="#DeclareParsedDataModel.update_props-520"><span class="linenos">520</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DeclareParsedDataModel.update_props-521"><a href="#DeclareParsedDataModel.update_props-521"><span class="linenos">521</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">key_value</span><span class="p">[</span><span class="s2">&quot;events&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">events</span>
</span><span id="DeclareParsedDataModel.update_props-522"><a href="#DeclareParsedDataModel.update_props-522"><span class="linenos">522</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">key_value</span><span class="p">[</span><span class="s2">&quot;attributes_list&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">attributes_list</span>
</span><span id="DeclareParsedDataModel.update_props-523"><a href="#DeclareParsedDataModel.update_props-523"><span class="linenos">523</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">key_value</span><span class="p">[</span><span class="s2">&quot;template_constraints&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">template_constraints</span>
</span><span id="DeclareParsedDataModel.update_props-524"><a href="#DeclareParsedDataModel.update_props-524"><span class="linenos">524</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">key_value</span><span class="p">[</span><span class="s2">&quot;templates&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">templates</span>
</span></pre></div>


            <div class="docstring"><p>Updates the _dict, so it has updated values when any dict op is occurred</p>

<h2 id="returns">Returns</h2>
</div>


                            </div>
                            <div id="DeclareParsedDataModel.encode" class="classattr">
                                        <input id="DeclareParsedDataModel.encode-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">encode</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n"><a href="#DeclareParsedDataModel">src.declare4py.ProcessModels.DeclareModel.DeclareParsedDataModel</a></span>:</span></span>

                <label class="view-source-button" for="DeclareParsedDataModel.encode-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareParsedDataModel.encode"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareParsedDataModel.encode-526"><a href="#DeclareParsedDataModel.encode-526"><span class="linenos">526</span></a>    <span class="k">def</span> <span class="nf">encode</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DeclareParsedDataModel</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel.encode-527"><a href="#DeclareParsedDataModel.encode-527"><span class="linenos">527</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoded_model</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel.encode-528"><a href="#DeclareParsedDataModel.encode-528"><span class="linenos">528</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">encoded_model</span> <span class="o">=</span> <span class="n">DeclareModelCoder</span><span class="p">()</span>
</span><span id="DeclareParsedDataModel.encode-529"><a href="#DeclareParsedDataModel.encode-529"><span class="linenos">529</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoded_model</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="DeclareParsedDataModel.decode_value" class="classattr">
                                        <input id="DeclareParsedDataModel.decode_value-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">decode_value</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">name</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="nb">str</span>:</span></span>

                <label class="view-source-button" for="DeclareParsedDataModel.decode_value-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareParsedDataModel.decode_value"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareParsedDataModel.decode_value-531"><a href="#DeclareParsedDataModel.decode_value-531"><span class="linenos">531</span></a>    <span class="k">def</span> <span class="nf">decode_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel.decode_value-532"><a href="#DeclareParsedDataModel.decode_value-532"><span class="linenos">532</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoded_model</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DeclareParsedDataModel.decode_value-533"><a href="#DeclareParsedDataModel.decode_value-533"><span class="linenos">533</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">encoded_model</span> <span class="o">=</span> <span class="n">DeclareModelCoder</span><span class="p">()</span>
</span><span id="DeclareParsedDataModel.decode_value-534"><a href="#DeclareParsedDataModel.decode_value-534"><span class="linenos">534</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoded_model</span><span class="o">.</span><span class="n">decode_value</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="../Utils/custom_utility_dict.html#CustomUtilityDict">src.declare4py.Utils.custom_utility_dict.CustomUtilityDict</a></dt>
                                <dd id="DeclareParsedDataModel.to_json" class="function"><a href="../Utils/custom_utility_dict.html#CustomUtilityDict.to_json">to_json</a></dd>

            </div>
            <div><dt>builtins.dict</dt>
                                <dd id="DeclareParsedDataModel.get" class="function">get</dd>
                <dd id="DeclareParsedDataModel.setdefault" class="function">setdefault</dd>
                <dd id="DeclareParsedDataModel.pop" class="function">pop</dd>
                <dd id="DeclareParsedDataModel.popitem" class="function">popitem</dd>
                <dd id="DeclareParsedDataModel.keys" class="function">keys</dd>
                <dd id="DeclareParsedDataModel.items" class="function">items</dd>
                <dd id="DeclareParsedDataModel.values" class="function">values</dd>
                <dd id="DeclareParsedDataModel.update" class="function">update</dd>
                <dd id="DeclareParsedDataModel.fromkeys" class="function">fromkeys</dd>
                <dd id="DeclareParsedDataModel.clear" class="function">clear</dd>
                <dd id="DeclareParsedDataModel.copy" class="function">copy</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="DeclareModelCoder">
                            <input id="DeclareModelCoder-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">DeclareModelCoder</span>:

                <label class="view-source-button" for="DeclareModelCoder-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareModelCoder"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareModelCoder-537"><a href="#DeclareModelCoder-537"><span class="linenos">537</span></a><span class="k">class</span> <span class="nc">DeclareModelCoder</span><span class="p">:</span>
</span><span id="DeclareModelCoder-538"><a href="#DeclareModelCoder-538"><span class="linenos">538</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="DeclareModelCoder-539"><a href="#DeclareModelCoder-539"><span class="linenos">539</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">encoded_dict</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="DeclareModelCoder-540"><a href="#DeclareModelCoder-540"><span class="linenos">540</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">:</span> <span class="n">DeclareParsedDataModel</span>
</span><span id="DeclareModelCoder-541"><a href="#DeclareModelCoder-541"><span class="linenos">541</span></a>
</span><span id="DeclareModelCoder-542"><a href="#DeclareModelCoder-542"><span class="linenos">542</span></a>    <span class="k">def</span> <span class="nf">encode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dpm_orig</span><span class="p">:</span> <span class="n">DeclareParsedDataModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DeclareParsedDataModel</span><span class="p">:</span>
</span><span id="DeclareModelCoder-543"><a href="#DeclareModelCoder-543"><span class="linenos">543</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">encoded_dict</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="DeclareModelCoder-544"><a href="#DeclareModelCoder-544"><span class="linenos">544</span></a>        <span class="n">dpm</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">dpm_orig</span><span class="p">)</span>  <span class="c1"># TODO: check this. to void to get messed with reference/pointers</span>
</span><span id="DeclareModelCoder-545"><a href="#DeclareModelCoder-545"><span class="linenos">545</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">DeclareParsedDataModel</span><span class="p">()</span>
</span><span id="DeclareModelCoder-546"><a href="#DeclareModelCoder-546"><span class="linenos">546</span></a>        <span class="k">for</span> <span class="n">event_name</span><span class="p">,</span> <span class="n">event_obj</span> <span class="ow">in</span> <span class="n">dpm</span><span class="o">.</span><span class="n">events</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="DeclareModelCoder-547"><a href="#DeclareModelCoder-547"><span class="linenos">547</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">events</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">encode_event_name</span><span class="p">(</span><span class="n">event_name</span><span class="p">)]</span> <span class="o">=</span> <span class="n">event_obj</span>
</span><span id="DeclareModelCoder-548"><a href="#DeclareModelCoder-548"><span class="linenos">548</span></a>            <span class="k">for</span> <span class="n">prop</span> <span class="ow">in</span> <span class="n">event_obj</span><span class="p">:</span>
</span><span id="DeclareModelCoder-549"><a href="#DeclareModelCoder-549"><span class="linenos">549</span></a>                <span class="k">if</span> <span class="n">prop</span> <span class="o">==</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span>
</span><span id="DeclareModelCoder-550"><a href="#DeclareModelCoder-550"><span class="linenos">550</span></a>                    <span class="n">event_obj</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">encode_event_name</span><span class="p">(</span><span class="n">event_name</span><span class="p">)</span>
</span><span id="DeclareModelCoder-551"><a href="#DeclareModelCoder-551"><span class="linenos">551</span></a>                <span class="k">if</span> <span class="n">prop</span> <span class="o">==</span> <span class="s2">&quot;event_type&quot;</span><span class="p">:</span>
</span><span id="DeclareModelCoder-552"><a href="#DeclareModelCoder-552"><span class="linenos">552</span></a>                    <span class="n">event_obj</span><span class="o">.</span><span class="n">event_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">encode_event_type</span><span class="p">(</span><span class="n">event_obj</span><span class="p">[</span><span class="n">prop</span><span class="p">])</span>
</span><span id="DeclareModelCoder-553"><a href="#DeclareModelCoder-553"><span class="linenos">553</span></a>                <span class="k">if</span> <span class="n">prop</span> <span class="o">==</span> <span class="s2">&quot;attributes&quot;</span><span class="p">:</span>
</span><span id="DeclareModelCoder-554"><a href="#DeclareModelCoder-554"><span class="linenos">554</span></a>                    <span class="n">event_obj</span><span class="o">.</span><span class="n">attributes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">encode_attributes_list</span><span class="p">(</span><span class="n">event_obj</span><span class="p">[</span><span class="s2">&quot;attributes&quot;</span><span class="p">])</span>
</span><span id="DeclareModelCoder-555"><a href="#DeclareModelCoder-555"><span class="linenos">555</span></a>        <span class="c1"># self.encode_attributes_list(dpm.attributes_list)</span>
</span><span id="DeclareModelCoder-556"><a href="#DeclareModelCoder-556"><span class="linenos">556</span></a>
</span><span id="DeclareModelCoder-557"><a href="#DeclareModelCoder-557"><span class="linenos">557</span></a>        <span class="c1"># self.model.templates = copy.deepcopy(dpm_orig.templates)</span>
</span><span id="DeclareModelCoder-558"><a href="#DeclareModelCoder-558"><span class="linenos">558</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">templates</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="DeclareModelCoder-559"><a href="#DeclareModelCoder-559"><span class="linenos">559</span></a>        <span class="k">for</span> <span class="n">tmpl</span> <span class="ow">in</span> <span class="n">dpm_orig</span><span class="o">.</span><span class="n">templates</span><span class="p">:</span>
</span><span id="DeclareModelCoder-560"><a href="#DeclareModelCoder-560"><span class="linenos">560</span></a>            <span class="n">template</span> <span class="o">=</span> <span class="n">DeclareModelTemplateDataModel</span><span class="p">()</span>
</span><span id="DeclareModelCoder-561"><a href="#DeclareModelCoder-561"><span class="linenos">561</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">templates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">template</span><span class="p">)</span>
</span><span id="DeclareModelCoder-562"><a href="#DeclareModelCoder-562"><span class="linenos">562</span></a>            <span class="n">template</span><span class="o">.</span><span class="n">template_name</span> <span class="o">=</span> <span class="n">tmpl</span><span class="p">[</span><span class="s2">&quot;template_name&quot;</span><span class="p">]</span>
</span><span id="DeclareModelCoder-563"><a href="#DeclareModelCoder-563"><span class="linenos">563</span></a>            <span class="n">template</span><span class="o">.</span><span class="n">template</span> <span class="o">=</span> <span class="n">tmpl</span><span class="p">[</span><span class="s2">&quot;template&quot;</span><span class="p">]</span>
</span><span id="DeclareModelCoder-564"><a href="#DeclareModelCoder-564"><span class="linenos">564</span></a>            <span class="n">template</span><span class="o">.</span><span class="n">activities</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">encode_str_list</span><span class="p">(</span><span class="n">tmpl</span><span class="p">[</span><span class="s2">&quot;activities&quot;</span><span class="p">])</span>
</span><span id="DeclareModelCoder-565"><a href="#DeclareModelCoder-565"><span class="linenos">565</span></a>            <span class="n">a</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">tm</span> <span class="o">=</span> <span class="n">tmpl</span><span class="o">.</span><span class="n">get_conditions</span><span class="p">()</span>
</span><span id="DeclareModelCoder-566"><a href="#DeclareModelCoder-566"><span class="linenos">566</span></a>            <span class="n">encoded_conditions</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="DeclareModelCoder-567"><a href="#DeclareModelCoder-567"><span class="linenos">567</span></a>            <span class="k">if</span> <span class="n">a</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DeclareModelCoder-568"><a href="#DeclareModelCoder-568"><span class="linenos">568</span></a>                <span class="c1"># c = self.parsed_condition(&quot;A.grade &gt; 10 and A.name in (x, y)  or A.grade &lt; 3 and A.name in (z, v)</span>
</span><span id="DeclareModelCoder-569"><a href="#DeclareModelCoder-569"><span class="linenos">569</span></a>                <span class="c1"># or A.name not in (4, 2, 6)&quot;)</span>
</span><span id="DeclareModelCoder-570"><a href="#DeclareModelCoder-570"><span class="linenos">570</span></a>                <span class="c1"># c = self.parsed_condition(&quot;A.grade &gt; 10 and A.name in (x, y) or A.name in (z, v) T.type &gt; 78 or &quot;</span>
</span><span id="DeclareModelCoder-571"><a href="#DeclareModelCoder-571"><span class="linenos">571</span></a>                <span class="c1"># &quot;t.nae is memo and (T.InfectionSuspected is true) AND&quot;</span>
</span><span id="DeclareModelCoder-572"><a href="#DeclareModelCoder-572"><span class="linenos">572</span></a>                <span class="c1">#                           &quot; (T.SIRSCriteria2OrMore is true) AND (T.DiagnosticECG is true) &quot;)</span>
</span><span id="DeclareModelCoder-573"><a href="#DeclareModelCoder-573"><span class="linenos">573</span></a>                <span class="n">encoded_conditions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parsed_condition</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
</span><span id="DeclareModelCoder-574"><a href="#DeclareModelCoder-574"><span class="linenos">574</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="DeclareModelCoder-575"><a href="#DeclareModelCoder-575"><span class="linenos">575</span></a>                <span class="n">encoded_conditions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="DeclareModelCoder-576"><a href="#DeclareModelCoder-576"><span class="linenos">576</span></a>            <span class="k">if</span> <span class="n">t</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DeclareModelCoder-577"><a href="#DeclareModelCoder-577"><span class="linenos">577</span></a>                <span class="n">encoded_conditions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parsed_condition</span><span class="p">(</span><span class="n">t</span><span class="p">))</span>
</span><span id="DeclareModelCoder-578"><a href="#DeclareModelCoder-578"><span class="linenos">578</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="DeclareModelCoder-579"><a href="#DeclareModelCoder-579"><span class="linenos">579</span></a>                <span class="n">encoded_conditions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="DeclareModelCoder-580"><a href="#DeclareModelCoder-580"><span class="linenos">580</span></a>            <span class="k">if</span> <span class="n">tm</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DeclareModelCoder-581"><a href="#DeclareModelCoder-581"><span class="linenos">581</span></a>                <span class="n">encoded_conditions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tm</span><span class="p">)</span>
</span><span id="DeclareModelCoder-582"><a href="#DeclareModelCoder-582"><span class="linenos">582</span></a>            <span class="n">template</span><span class="o">.</span><span class="n">condition</span> <span class="o">=</span> <span class="n">encoded_conditions</span>
</span><span id="DeclareModelCoder-583"><a href="#DeclareModelCoder-583"><span class="linenos">583</span></a>            <span class="n">template</span><span class="o">.</span><span class="n">violate</span> <span class="o">=</span> <span class="n">tmpl</span><span class="o">.</span><span class="n">violate</span>
</span><span id="DeclareModelCoder-584"><a href="#DeclareModelCoder-584"><span class="linenos">584</span></a>            <span class="n">template</span><span class="o">.</span><span class="n">template_index_id</span> <span class="o">=</span> <span class="n">tmpl</span><span class="o">.</span><span class="n">template_index_id</span>
</span><span id="DeclareModelCoder-585"><a href="#DeclareModelCoder-585"><span class="linenos">585</span></a>            <span class="n">template</span><span class="o">.</span><span class="n">condition_line</span> <span class="o">=</span> <span class="s2">&quot;| &quot;</span> <span class="o">+</span> <span class="s2">&quot; | &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">encoded_conditions</span><span class="p">)</span>
</span><span id="DeclareModelCoder-586"><a href="#DeclareModelCoder-586"><span class="linenos">586</span></a>            <span class="n">a</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">template</span><span class="o">.</span><span class="n">activities</span><span class="p">)</span>
</span><span id="DeclareModelCoder-587"><a href="#DeclareModelCoder-587"><span class="linenos">587</span></a>            <span class="n">template</span><span class="o">.</span><span class="n">template_line</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">template</span><span class="o">.</span><span class="n">template_name</span><span class="si">}</span><span class="s2">[</span><span class="si">{</span><span class="n">a</span><span class="si">}</span><span class="s2">] </span><span class="si">{</span><span class="n">template</span><span class="o">.</span><span class="n">condition_line</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="DeclareModelCoder-588"><a href="#DeclareModelCoder-588"><span class="linenos">588</span></a>
</span><span id="DeclareModelCoder-589"><a href="#DeclareModelCoder-589"><span class="linenos">589</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span>
</span><span id="DeclareModelCoder-590"><a href="#DeclareModelCoder-590"><span class="linenos">590</span></a>
</span><span id="DeclareModelCoder-591"><a href="#DeclareModelCoder-591"><span class="linenos">591</span></a>    <span class="k">def</span> <span class="nf">encode_attributes_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attr_list</span><span class="p">:</span> <span class="n">Dict</span><span class="p">):</span>
</span><span id="DeclareModelCoder-592"><a href="#DeclareModelCoder-592"><span class="linenos">592</span></a>        <span class="n">d</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="DeclareModelCoder-593"><a href="#DeclareModelCoder-593"><span class="linenos">593</span></a>        <span class="k">for</span> <span class="n">attr_name</span><span class="p">,</span> <span class="n">attr_obj</span> <span class="ow">in</span> <span class="n">attr_list</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="DeclareModelCoder-594"><a href="#DeclareModelCoder-594"><span class="linenos">594</span></a>            <span class="n">e_attr_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">encode_value</span><span class="p">(</span><span class="n">attr_name</span><span class="p">)</span>
</span><span id="DeclareModelCoder-595"><a href="#DeclareModelCoder-595"><span class="linenos">595</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">attributes_list</span><span class="p">[</span><span class="n">e_attr_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">attr_obj</span>
</span><span id="DeclareModelCoder-596"><a href="#DeclareModelCoder-596"><span class="linenos">596</span></a>            <span class="n">d</span><span class="p">[</span><span class="n">e_attr_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="DeclareModelCoder-597"><a href="#DeclareModelCoder-597"><span class="linenos">597</span></a>            <span class="k">if</span> <span class="n">attr_obj</span><span class="p">[</span><span class="s1">&#39;value_type&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="n">DeclareModelAttributeType</span><span class="o">.</span><span class="n">ENUMERATION</span><span class="p">:</span>
</span><span id="DeclareModelCoder-598"><a href="#DeclareModelCoder-598"><span class="linenos">598</span></a>                <span class="n">attr_obj</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">encode_enum_list</span><span class="p">(</span><span class="n">attr_obj</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">])</span>
</span><span id="DeclareModelCoder-599"><a href="#DeclareModelCoder-599"><span class="linenos">599</span></a>            <span class="k">if</span> <span class="s1">&#39;events_attached&#39;</span> <span class="ow">in</span> <span class="n">attr_obj</span><span class="p">:</span>
</span><span id="DeclareModelCoder-600"><a href="#DeclareModelCoder-600"><span class="linenos">600</span></a>                <span class="n">attr_obj</span><span class="p">[</span><span class="s1">&#39;events_attached&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">encode_str_list</span><span class="p">(</span><span class="n">attr_obj</span><span class="p">[</span><span class="s1">&#39;events_attached&#39;</span><span class="p">])</span>
</span><span id="DeclareModelCoder-601"><a href="#DeclareModelCoder-601"><span class="linenos">601</span></a>            <span class="n">d</span><span class="p">[</span><span class="n">e_attr_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">attr_obj</span>
</span><span id="DeclareModelCoder-602"><a href="#DeclareModelCoder-602"><span class="linenos">602</span></a>        <span class="k">return</span> <span class="n">d</span>
</span><span id="DeclareModelCoder-603"><a href="#DeclareModelCoder-603"><span class="linenos">603</span></a>
</span><span id="DeclareModelCoder-604"><a href="#DeclareModelCoder-604"><span class="linenos">604</span></a>    <span class="k">def</span> <span class="nf">parsed_condition</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">string</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="DeclareModelCoder-605"><a href="#DeclareModelCoder-605"><span class="linenos">605</span></a>        <span class="n">string</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\)&#39;</span><span class="p">,</span> <span class="s1">&#39; ) &#39;</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>
</span><span id="DeclareModelCoder-606"><a href="#DeclareModelCoder-606"><span class="linenos">606</span></a>        <span class="n">string</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\(&#39;</span><span class="p">,</span> <span class="s1">&#39; ( &#39;</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>
</span><span id="DeclareModelCoder-607"><a href="#DeclareModelCoder-607"><span class="linenos">607</span></a>        <span class="n">string</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="DeclareModelCoder-608"><a href="#DeclareModelCoder-608"><span class="linenos">608</span></a>        <span class="n">string</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s1">&#39; +&#39;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>
</span><span id="DeclareModelCoder-609"><a href="#DeclareModelCoder-609"><span class="linenos">609</span></a>        <span class="n">string</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s1">&#39;is not&#39;</span><span class="p">,</span> <span class="s1">&#39;is_not&#39;</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>
</span><span id="DeclareModelCoder-610"><a href="#DeclareModelCoder-610"><span class="linenos">610</span></a>        <span class="n">string</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s1">&#39;not in&#39;</span><span class="p">,</span> <span class="s1">&#39;not_in&#39;</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>
</span><span id="DeclareModelCoder-611"><a href="#DeclareModelCoder-611"><span class="linenos">611</span></a>        <span class="n">string</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s1">&#39; *&gt; *&#39;</span><span class="p">,</span> <span class="s1">&#39;&gt;&#39;</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>
</span><span id="DeclareModelCoder-612"><a href="#DeclareModelCoder-612"><span class="linenos">612</span></a>        <span class="n">string</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s1">&#39; *&lt; *&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;&#39;</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>
</span><span id="DeclareModelCoder-613"><a href="#DeclareModelCoder-613"><span class="linenos">613</span></a>        <span class="n">string</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s1">&#39; *= *&#39;</span><span class="p">,</span> <span class="s1">&#39;=&#39;</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>
</span><span id="DeclareModelCoder-614"><a href="#DeclareModelCoder-614"><span class="linenos">614</span></a>        <span class="n">string</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s1">&#39; *&lt;= *&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;=&#39;</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>
</span><span id="DeclareModelCoder-615"><a href="#DeclareModelCoder-615"><span class="linenos">615</span></a>        <span class="n">string</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s1">&#39; *&gt;= *&#39;</span><span class="p">,</span> <span class="s1">&#39;&gt;=&#39;</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>
</span><span id="DeclareModelCoder-616"><a href="#DeclareModelCoder-616"><span class="linenos">616</span></a>        <span class="n">form_list</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
</span><span id="DeclareModelCoder-617"><a href="#DeclareModelCoder-617"><span class="linenos">617</span></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">form_list</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
</span><span id="DeclareModelCoder-618"><a href="#DeclareModelCoder-618"><span class="linenos">618</span></a>            <span class="n">el</span> <span class="o">=</span> <span class="n">form_list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</span><span id="DeclareModelCoder-619"><a href="#DeclareModelCoder-619"><span class="linenos">619</span></a>            <span class="k">if</span> <span class="n">el</span> <span class="o">==</span> <span class="s1">&#39;in&#39;</span> <span class="ow">or</span> <span class="n">el</span> <span class="o">==</span> <span class="s1">&#39;not_in&#39;</span><span class="p">:</span>
</span><span id="DeclareModelCoder-620"><a href="#DeclareModelCoder-620"><span class="linenos">620</span></a>                <span class="n">end_index</span> <span class="o">=</span> <span class="n">form_list</span><span class="p">[</span><span class="n">i</span><span class="p">:]</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s1">&#39;)&#39;</span><span class="p">)</span>
</span><span id="DeclareModelCoder-621"><a href="#DeclareModelCoder-621"><span class="linenos">621</span></a>                <span class="n">start_index</span> <span class="o">=</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span>
</span><span id="DeclareModelCoder-622"><a href="#DeclareModelCoder-622"><span class="linenos">622</span></a>                <span class="n">end_index</span> <span class="o">=</span> <span class="n">end_index</span> <span class="o">+</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>
</span><span id="DeclareModelCoder-623"><a href="#DeclareModelCoder-623"><span class="linenos">623</span></a>                <span class="n">form_list</span><span class="p">[</span><span class="n">start_index</span><span class="p">:</span><span class="n">end_index</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">form_list</span><span class="p">[</span><span class="n">start_index</span><span class="p">:</span><span class="n">end_index</span><span class="p">])]</span>
</span><span id="DeclareModelCoder-624"><a href="#DeclareModelCoder-624"><span class="linenos">624</span></a>            <span class="k">elif</span> <span class="n">el</span> <span class="o">==</span> <span class="s1">&#39;is&#39;</span> <span class="ow">or</span> <span class="n">el</span> <span class="o">==</span> <span class="s1">&#39;is_not&#39;</span><span class="p">:</span>
</span><span id="DeclareModelCoder-625"><a href="#DeclareModelCoder-625"><span class="linenos">625</span></a>                <span class="n">start_index</span> <span class="o">=</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span>
</span><span id="DeclareModelCoder-626"><a href="#DeclareModelCoder-626"><span class="linenos">626</span></a>                <span class="n">end_index</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">2</span>
</span><span id="DeclareModelCoder-627"><a href="#DeclareModelCoder-627"><span class="linenos">627</span></a>                <span class="n">form_list</span><span class="p">[</span><span class="n">start_index</span><span class="p">:</span><span class="n">end_index</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">form_list</span><span class="p">[</span><span class="n">start_index</span><span class="p">:</span><span class="n">end_index</span><span class="p">])]</span>
</span><span id="DeclareModelCoder-628"><a href="#DeclareModelCoder-628"><span class="linenos">628</span></a>        <span class="n">keywords</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;and&#39;</span><span class="p">,</span> <span class="s1">&#39;or&#39;</span><span class="p">,</span> <span class="s1">&#39;(&#39;</span><span class="p">,</span> <span class="s1">&#39;)&#39;</span><span class="p">,</span> <span class="s1">&#39;is&#39;</span><span class="p">,</span> <span class="s1">&#39;same&#39;</span><span class="p">,</span> <span class="s1">&#39;different&#39;</span><span class="p">}</span>
</span><span id="DeclareModelCoder-629"><a href="#DeclareModelCoder-629"><span class="linenos">629</span></a>        <span class="n">idx</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="DeclareModelCoder-630"><a href="#DeclareModelCoder-630"><span class="linenos">630</span></a>        <span class="k">for</span> <span class="n">cond_chunk</span> <span class="ow">in</span> <span class="n">form_list</span><span class="p">:</span>
</span><span id="DeclareModelCoder-631"><a href="#DeclareModelCoder-631"><span class="linenos">631</span></a>            <span class="n">idx</span> <span class="o">=</span> <span class="n">idx</span> <span class="o">+</span> <span class="mi">1</span>
</span><span id="DeclareModelCoder-632"><a href="#DeclareModelCoder-632"><span class="linenos">632</span></a>            <span class="k">if</span> <span class="n">cond_chunk</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="n">keywords</span><span class="p">:</span>
</span><span id="DeclareModelCoder-633"><a href="#DeclareModelCoder-633"><span class="linenos">633</span></a>                <span class="k">continue</span>
</span><span id="DeclareModelCoder-634"><a href="#DeclareModelCoder-634"><span class="linenos">634</span></a>            <span class="k">elif</span> <span class="n">cond_chunk</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;not_in&quot;</span><span class="p">:</span>
</span><span id="DeclareModelCoder-635"><a href="#DeclareModelCoder-635"><span class="linenos">635</span></a>                <span class="n">form_list</span><span class="p">[</span><span class="n">idx</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;not in&quot;</span>
</span><span id="DeclareModelCoder-636"><a href="#DeclareModelCoder-636"><span class="linenos">636</span></a>            <span class="k">elif</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^[AaTt]\.&#39;</span><span class="p">,</span> <span class="n">cond_chunk</span><span class="p">):</span>  <span class="c1"># A.grade&gt;10</span>
</span><span id="DeclareModelCoder-637"><a href="#DeclareModelCoder-637"><span class="linenos">637</span></a>                <span class="n">found</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;([AaTt]\.([\w:,]+))&quot;</span><span class="p">,</span> <span class="n">cond_chunk</span><span class="p">,</span>
</span><span id="DeclareModelCoder-638"><a href="#DeclareModelCoder-638"><span class="linenos">638</span></a>                                   <span class="n">flags</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">UNICODE</span> <span class="o">|</span> <span class="n">re</span><span class="o">.</span><span class="n">MULTILINE</span><span class="p">)</span>  <span class="c1"># finds from A.grade&gt;10 =&gt; A.grade and grade</span>
</span><span id="DeclareModelCoder-639"><a href="#DeclareModelCoder-639"><span class="linenos">639</span></a>                <span class="k">if</span> <span class="n">found</span><span class="p">:</span>  <span class="c1"># [(&#39;A.grade&#39;, &#39;grade&#39;), (&#39;A.mark&#39;, &#39;mark&#39;)]</span>
</span><span id="DeclareModelCoder-640"><a href="#DeclareModelCoder-640"><span class="linenos">640</span></a>                    <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">found</span><span class="p">:</span>
</span><span id="DeclareModelCoder-641"><a href="#DeclareModelCoder-641"><span class="linenos">641</span></a>                        <span class="n">act_tar_cond</span><span class="p">,</span> <span class="n">attr</span> <span class="o">=</span> <span class="n">f</span>
</span><span id="DeclareModelCoder-642"><a href="#DeclareModelCoder-642"><span class="linenos">642</span></a>                        <span class="n">ct</span> <span class="o">=</span> <span class="n">act_tar_cond</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># condition_type: A or T</span>
</span><span id="DeclareModelCoder-643"><a href="#DeclareModelCoder-643"><span class="linenos">643</span></a>                        <span class="n">attr_encoded</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">encode_value</span><span class="p">(</span><span class="n">attr</span><span class="p">)</span>
</span><span id="DeclareModelCoder-644"><a href="#DeclareModelCoder-644"><span class="linenos">644</span></a>                        <span class="n">form_list</span><span class="p">[</span><span class="n">idx</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">cond_chunk</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">ct</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="n">attr</span><span class="p">,</span> <span class="n">ct</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="n">attr_encoded</span><span class="p">)</span>
</span><span id="DeclareModelCoder-645"><a href="#DeclareModelCoder-645"><span class="linenos">645</span></a>                <span class="n">cond_chunk</span> <span class="o">=</span> <span class="n">form_list</span><span class="p">[</span><span class="n">idx</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
</span><span id="DeclareModelCoder-646"><a href="#DeclareModelCoder-646"><span class="linenos">646</span></a>                <span class="n">cond_chunk_split</span> <span class="o">=</span> <span class="n">cond_chunk</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>  <span class="c1"># A.name in ( z, v )</span>
</span><span id="DeclareModelCoder-647"><a href="#DeclareModelCoder-647"><span class="linenos">647</span></a>                <span class="k">if</span> <span class="s2">&quot;is&quot;</span> <span class="ow">in</span> <span class="n">cond_chunk_split</span><span class="p">:</span>
</span><span id="DeclareModelCoder-648"><a href="#DeclareModelCoder-648"><span class="linenos">648</span></a>                    <span class="n">cond_chunk</span> <span class="o">=</span> <span class="n">cond_chunk</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;  &quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="DeclareModelCoder-649"><a href="#DeclareModelCoder-649"><span class="linenos">649</span></a>                    <span class="n">val</span> <span class="o">=</span> <span class="n">cond_chunk</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; is &quot;</span><span class="p">)</span>  <span class="c1"># case: T.InfectionSuspected is xyz</span>
</span><span id="DeclareModelCoder-650"><a href="#DeclareModelCoder-650"><span class="linenos">650</span></a>                    <span class="n">val0</span> <span class="o">=</span> <span class="n">val</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># &quot;T.InfectionSuspected&quot;</span>
</span><span id="DeclareModelCoder-651"><a href="#DeclareModelCoder-651"><span class="linenos">651</span></a>                    <span class="n">val1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">encode_value</span><span class="p">(</span><span class="n">val</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>  <span class="c1"># &quot;xyz&quot;</span>
</span><span id="DeclareModelCoder-652"><a href="#DeclareModelCoder-652"><span class="linenos">652</span></a>                    <span class="n">cond_chunk</span> <span class="o">=</span> <span class="n">val0</span> <span class="o">+</span> <span class="s2">&quot; is &quot;</span> <span class="o">+</span> <span class="n">val1</span>
</span><span id="DeclareModelCoder-653"><a href="#DeclareModelCoder-653"><span class="linenos">653</span></a>                    <span class="n">form_list</span><span class="p">[</span><span class="n">idx</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">cond_chunk</span>
</span><span id="DeclareModelCoder-654"><a href="#DeclareModelCoder-654"><span class="linenos">654</span></a>                <span class="k">elif</span> <span class="s2">&quot;not_in&quot;</span> <span class="ow">in</span> <span class="n">cond_chunk_split</span><span class="p">:</span>
</span><span id="DeclareModelCoder-655"><a href="#DeclareModelCoder-655"><span class="linenos">655</span></a>                    <span class="n">cond_chunk</span> <span class="o">=</span> <span class="n">cond_chunk</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;  &quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="DeclareModelCoder-656"><a href="#DeclareModelCoder-656"><span class="linenos">656</span></a>                    <span class="n">val</span> <span class="o">=</span> <span class="n">cond_chunk</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; not_in &quot;</span><span class="p">)</span>  <span class="c1"># case: A.name not in ( z, v )</span>
</span><span id="DeclareModelCoder-657"><a href="#DeclareModelCoder-657"><span class="linenos">657</span></a>                    <span class="n">val1</span> <span class="o">=</span> <span class="n">val</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;(&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;)&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>  <span class="c1"># &quot;z, v&quot;</span>
</span><span id="DeclareModelCoder-658"><a href="#DeclareModelCoder-658"><span class="linenos">658</span></a>                    <span class="n">val1</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">val1</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)]</span>  <span class="c1"># [&quot;z&quot;, &quot;v&quot;]</span>
</span><span id="DeclareModelCoder-659"><a href="#DeclareModelCoder-659"><span class="linenos">659</span></a>                    <span class="n">items</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="DeclareModelCoder-660"><a href="#DeclareModelCoder-660"><span class="linenos">660</span></a>                    <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">val1</span><span class="p">:</span>
</span><span id="DeclareModelCoder-661"><a href="#DeclareModelCoder-661"><span class="linenos">661</span></a>                        <span class="n">items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">encode_value</span><span class="p">(</span><span class="n">v</span><span class="p">))</span>
</span><span id="DeclareModelCoder-662"><a href="#DeclareModelCoder-662"><span class="linenos">662</span></a>                    <span class="n">val1</span> <span class="o">=</span> <span class="s2">&quot;(&quot;</span> <span class="o">+</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">items</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span>
</span><span id="DeclareModelCoder-663"><a href="#DeclareModelCoder-663"><span class="linenos">663</span></a>                    <span class="n">cond_chunk</span> <span class="o">=</span> <span class="n">val</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot; not in &quot;</span> <span class="o">+</span> <span class="n">val1</span>
</span><span id="DeclareModelCoder-664"><a href="#DeclareModelCoder-664"><span class="linenos">664</span></a>                    <span class="n">form_list</span><span class="p">[</span><span class="n">idx</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">cond_chunk</span>
</span><span id="DeclareModelCoder-665"><a href="#DeclareModelCoder-665"><span class="linenos">665</span></a>                <span class="k">elif</span> <span class="s2">&quot;in&quot;</span> <span class="ow">in</span> <span class="n">cond_chunk_split</span><span class="p">:</span>
</span><span id="DeclareModelCoder-666"><a href="#DeclareModelCoder-666"><span class="linenos">666</span></a>                    <span class="n">cond_chunk</span> <span class="o">=</span> <span class="n">cond_chunk</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;  &quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="DeclareModelCoder-667"><a href="#DeclareModelCoder-667"><span class="linenos">667</span></a>                    <span class="n">val</span> <span class="o">=</span> <span class="n">cond_chunk</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; in &quot;</span><span class="p">)</span>  <span class="c1"># case: A.name in ( z, v )</span>
</span><span id="DeclareModelCoder-668"><a href="#DeclareModelCoder-668"><span class="linenos">668</span></a>                    <span class="n">val1</span> <span class="o">=</span> <span class="n">val</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;(&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;)&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>  <span class="c1"># &quot;z, v&quot;</span>
</span><span id="DeclareModelCoder-669"><a href="#DeclareModelCoder-669"><span class="linenos">669</span></a>                    <span class="n">val1</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">val1</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)]</span>  <span class="c1"># [&quot;z&quot;, &quot;v&quot;]</span>
</span><span id="DeclareModelCoder-670"><a href="#DeclareModelCoder-670"><span class="linenos">670</span></a>                    <span class="n">items</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="DeclareModelCoder-671"><a href="#DeclareModelCoder-671"><span class="linenos">671</span></a>                    <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">val1</span><span class="p">:</span>
</span><span id="DeclareModelCoder-672"><a href="#DeclareModelCoder-672"><span class="linenos">672</span></a>                        <span class="n">items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">encode_value</span><span class="p">(</span><span class="n">v</span><span class="p">))</span>
</span><span id="DeclareModelCoder-673"><a href="#DeclareModelCoder-673"><span class="linenos">673</span></a>                    <span class="n">val1</span> <span class="o">=</span> <span class="s2">&quot;(&quot;</span> <span class="o">+</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">items</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span>
</span><span id="DeclareModelCoder-674"><a href="#DeclareModelCoder-674"><span class="linenos">674</span></a>                    <span class="n">cond_chunk</span> <span class="o">=</span> <span class="n">val</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot; in &quot;</span> <span class="o">+</span> <span class="n">val1</span>
</span><span id="DeclareModelCoder-675"><a href="#DeclareModelCoder-675"><span class="linenos">675</span></a>                    <span class="n">form_list</span><span class="p">[</span><span class="n">idx</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">cond_chunk</span>
</span><span id="DeclareModelCoder-676"><a href="#DeclareModelCoder-676"><span class="linenos">676</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="DeclareModelCoder-677"><a href="#DeclareModelCoder-677"><span class="linenos">677</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unable to encode the </span><span class="si">{</span><span class="n">cond_chunk</span><span class="si">}</span><span class="s2"> condition. This is not supported to encode yet&quot;</span><span class="p">)</span>
</span><span id="DeclareModelCoder-678"><a href="#DeclareModelCoder-678"><span class="linenos">678</span></a>                <span class="c1"># if matched</span>
</span><span id="DeclareModelCoder-679"><a href="#DeclareModelCoder-679"><span class="linenos">679</span></a>
</span><span id="DeclareModelCoder-680"><a href="#DeclareModelCoder-680"><span class="linenos">680</span></a>        <span class="k">return</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">form_list</span><span class="p">)</span>
</span><span id="DeclareModelCoder-681"><a href="#DeclareModelCoder-681"><span class="linenos">681</span></a>
</span><span id="DeclareModelCoder-682"><a href="#DeclareModelCoder-682"><span class="linenos">682</span></a>    <span class="k">def</span> <span class="nf">encode_event_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="DeclareModelCoder-683"><a href="#DeclareModelCoder-683"><span class="linenos">683</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">encode_value</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</span><span id="DeclareModelCoder-684"><a href="#DeclareModelCoder-684"><span class="linenos">684</span></a>
</span><span id="DeclareModelCoder-685"><a href="#DeclareModelCoder-685"><span class="linenos">685</span></a>    <span class="k">def</span> <span class="nf">encode_event_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="DeclareModelCoder-686"><a href="#DeclareModelCoder-686"><span class="linenos">686</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">encode_value</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</span><span id="DeclareModelCoder-687"><a href="#DeclareModelCoder-687"><span class="linenos">687</span></a>
</span><span id="DeclareModelCoder-688"><a href="#DeclareModelCoder-688"><span class="linenos">688</span></a>    <span class="k">def</span> <span class="nf">encode_enum_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="DeclareModelCoder-689"><a href="#DeclareModelCoder-689"><span class="linenos">689</span></a>        <span class="n">ss</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
</span><span id="DeclareModelCoder-690"><a href="#DeclareModelCoder-690"><span class="linenos">690</span></a>        <span class="n">ss</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">encode_value</span><span class="p">(</span><span class="n">se</span><span class="p">)</span> <span class="k">for</span> <span class="n">se</span> <span class="ow">in</span> <span class="n">ss</span><span class="p">]</span>
</span><span id="DeclareModelCoder-691"><a href="#DeclareModelCoder-691"><span class="linenos">691</span></a>        <span class="k">return</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ss</span><span class="p">)</span>
</span><span id="DeclareModelCoder-692"><a href="#DeclareModelCoder-692"><span class="linenos">692</span></a>
</span><span id="DeclareModelCoder-693"><a href="#DeclareModelCoder-693"><span class="linenos">693</span></a>    <span class="k">def</span> <span class="nf">encode_str_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_list</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="DeclareModelCoder-694"><a href="#DeclareModelCoder-694"><span class="linenos">694</span></a>        <span class="n">ss</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="DeclareModelCoder-695"><a href="#DeclareModelCoder-695"><span class="linenos">695</span></a>        <span class="k">for</span> <span class="n">se</span> <span class="ow">in</span> <span class="n">input_list</span><span class="p">:</span>
</span><span id="DeclareModelCoder-696"><a href="#DeclareModelCoder-696"><span class="linenos">696</span></a>            <span class="k">if</span> <span class="s2">&quot;ENCODEDSTRINGENCODEDSTRING&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">se</span><span class="p">:</span>
</span><span id="DeclareModelCoder-697"><a href="#DeclareModelCoder-697"><span class="linenos">697</span></a>                <span class="n">ss</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">encode_value</span><span class="p">(</span><span class="n">se</span><span class="p">))</span>
</span><span id="DeclareModelCoder-698"><a href="#DeclareModelCoder-698"><span class="linenos">698</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="DeclareModelCoder-699"><a href="#DeclareModelCoder-699"><span class="linenos">699</span></a>                <span class="n">ss</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">se</span><span class="p">)</span>
</span><span id="DeclareModelCoder-700"><a href="#DeclareModelCoder-700"><span class="linenos">700</span></a>        <span class="k">return</span> <span class="n">ss</span>
</span><span id="DeclareModelCoder-701"><a href="#DeclareModelCoder-701"><span class="linenos">701</span></a>
</span><span id="DeclareModelCoder-702"><a href="#DeclareModelCoder-702"><span class="linenos">702</span></a>    <span class="k">def</span> <span class="nf">encode_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="DeclareModelCoder-703"><a href="#DeclareModelCoder-703"><span class="linenos">703</span></a>        <span class="k">if</span> <span class="s2">&quot;ENCODEDSTRINGENCODEDSTRING&quot;</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>  <span class="c1"># s is already encoded</span>
</span><span id="DeclareModelCoder-704"><a href="#DeclareModelCoder-704"><span class="linenos">704</span></a>            <span class="k">return</span> <span class="n">s</span>
</span><span id="DeclareModelCoder-705"><a href="#DeclareModelCoder-705"><span class="linenos">705</span></a>        <span class="k">if</span> <span class="n">s</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoded_dict</span><span class="p">:</span>
</span><span id="DeclareModelCoder-706"><a href="#DeclareModelCoder-706"><span class="linenos">706</span></a>            <span class="n">v</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span>
</span><span id="DeclareModelCoder-707"><a href="#DeclareModelCoder-707"><span class="linenos">707</span></a>            <span class="c1"># v = v.decode(&quot;utf-8&quot;)</span>
</span><span id="DeclareModelCoder-708"><a href="#DeclareModelCoder-708"><span class="linenos">708</span></a>            <span class="c1"># doesn&#39;t work because sm times has starts from a digit and clingo fails</span>
</span><span id="DeclareModelCoder-709"><a href="#DeclareModelCoder-709"><span class="linenos">709</span></a>            <span class="c1"># v = hashlib.md5(s.encode()).hexdigest()</span>
</span><span id="DeclareModelCoder-710"><a href="#DeclareModelCoder-710"><span class="linenos">710</span></a>            <span class="c1"># self.encoded_dict[s] = v</span>
</span><span id="DeclareModelCoder-711"><a href="#DeclareModelCoder-711"><span class="linenos">711</span></a>            <span class="n">b64_str</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
</span><span id="DeclareModelCoder-712"><a href="#DeclareModelCoder-712"><span class="linenos">712</span></a>            <span class="n">b64_str</span> <span class="o">=</span> <span class="n">b64_str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="p">,</span> <span class="s2">&quot;EEEQUALSIGNNN&quot;</span><span class="p">)</span>
</span><span id="DeclareModelCoder-713"><a href="#DeclareModelCoder-713"><span class="linenos">713</span></a>            <span class="k">if</span> <span class="n">b64_str</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">isupper</span><span class="p">():</span>
</span><span id="DeclareModelCoder-714"><a href="#DeclareModelCoder-714"><span class="linenos">714</span></a>                <span class="n">b</span> <span class="o">=</span> <span class="n">b64_str</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="DeclareModelCoder-715"><a href="#DeclareModelCoder-715"><span class="linenos">715</span></a>                <span class="n">b</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;lowerlower</span><span class="si">{</span><span class="n">b</span><span class="si">}</span><span class="s2">lowerlower&quot;</span>
</span><span id="DeclareModelCoder-716"><a href="#DeclareModelCoder-716"><span class="linenos">716</span></a>                <span class="n">b64_str</span> <span class="o">=</span> <span class="n">b</span> <span class="o">+</span> <span class="n">b64_str</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
</span><span id="DeclareModelCoder-717"><a href="#DeclareModelCoder-717"><span class="linenos">717</span></a>            <span class="c1"># maybe sometimes maybe by bug we encode the string multiple times, we would like to decode</span>
</span><span id="DeclareModelCoder-718"><a href="#DeclareModelCoder-718"><span class="linenos">718</span></a>            <span class="c1"># till last encoded str</span>
</span><span id="DeclareModelCoder-719"><a href="#DeclareModelCoder-719"><span class="linenos">719</span></a>            <span class="n">b64_str</span> <span class="o">=</span> <span class="n">b64_str</span> <span class="o">+</span> <span class="s2">&quot;ENCODEDSTRINGENCODEDSTRING&quot;</span>
</span><span id="DeclareModelCoder-720"><a href="#DeclareModelCoder-720"><span class="linenos">720</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">encoded_dict</span><span class="p">[</span><span class="n">s</span><span class="p">]</span> <span class="o">=</span> <span class="n">b64_str</span>
</span><span id="DeclareModelCoder-721"><a href="#DeclareModelCoder-721"><span class="linenos">721</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoded_dict</span><span class="p">[</span><span class="n">s</span><span class="p">]</span>
</span><span id="DeclareModelCoder-722"><a href="#DeclareModelCoder-722"><span class="linenos">722</span></a>
</span><span id="DeclareModelCoder-723"><a href="#DeclareModelCoder-723"><span class="linenos">723</span></a>    <span class="k">def</span> <span class="nf">decode_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="DeclareModelCoder-724"><a href="#DeclareModelCoder-724"><span class="linenos">724</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="DeclareModelCoder-725"><a href="#DeclareModelCoder-725"><span class="linenos">725</span></a>            <span class="k">return</span> <span class="n">s</span>
</span><span id="DeclareModelCoder-726"><a href="#DeclareModelCoder-726"><span class="linenos">726</span></a>        <span class="k">if</span> <span class="s2">&quot;ENCODEDSTRINGENCODEDSTRING&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>  <span class="c1"># s doesn&#39;t have ENCODEDSTRINGENCODEDSTRING then its already decoded</span>
</span><span id="DeclareModelCoder-727"><a href="#DeclareModelCoder-727"><span class="linenos">727</span></a>            <span class="k">return</span> <span class="n">s</span>
</span><span id="DeclareModelCoder-728"><a href="#DeclareModelCoder-728"><span class="linenos">728</span></a>        <span class="n">vals</span><span class="p">:</span> <span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">encoded_dict</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>  <span class="c1"># [&quot;..&quot;, &quot;..&quot;]</span>
</span><span id="DeclareModelCoder-729"><a href="#DeclareModelCoder-729"><span class="linenos">729</span></a>        <span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="DeclareModelCoder-730"><a href="#DeclareModelCoder-730"><span class="linenos">730</span></a>        <span class="k">if</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">vals</span><span class="p">:</span>
</span><span id="DeclareModelCoder-731"><a href="#DeclareModelCoder-731"><span class="linenos">731</span></a>            <span class="n">idx</span> <span class="o">=</span> <span class="n">vals</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</span><span id="DeclareModelCoder-732"><a href="#DeclareModelCoder-732"><span class="linenos">732</span></a>            <span class="k">if</span> <span class="n">idx</span> <span class="o">&lt;=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
</span><span id="DeclareModelCoder-733"><a href="#DeclareModelCoder-733"><span class="linenos">733</span></a>                <span class="k">return</span> <span class="n">s</span>
</span><span id="DeclareModelCoder-734"><a href="#DeclareModelCoder-734"><span class="linenos">734</span></a>            <span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;EEEQUALSIGNNN&quot;</span><span class="p">,</span> <span class="s2">&quot;=&quot;</span><span class="p">)</span>
</span><span id="DeclareModelCoder-735"><a href="#DeclareModelCoder-735"><span class="linenos">735</span></a>            <span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;ENCODEDSTRINGENCODEDSTRING&quot;</span><span class="p">,</span> <span class="s2">&quot;=&quot;</span><span class="p">)</span>
</span><span id="DeclareModelCoder-736"><a href="#DeclareModelCoder-736"><span class="linenos">736</span></a>            <span class="k">if</span> <span class="n">s</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;lowerlower&quot;</span><span class="p">):</span>
</span><span id="DeclareModelCoder-737"><a href="#DeclareModelCoder-737"><span class="linenos">737</span></a>                <span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;lowerlower&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="DeclareModelCoder-738"><a href="#DeclareModelCoder-738"><span class="linenos">738</span></a>            <span class="n">n_val</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</span><span id="DeclareModelCoder-739"><a href="#DeclareModelCoder-739"><span class="linenos">739</span></a>            <span class="n">s</span> <span class="o">=</span> <span class="n">n_val</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
</span><span id="DeclareModelCoder-740"><a href="#DeclareModelCoder-740"><span class="linenos">740</span></a>            <span class="k">if</span> <span class="n">s</span><span class="o">.</span><span class="fm">__contains__</span><span class="p">(</span><span class="s2">&quot;ENCODEDSTRINGENCODEDSTRING&quot;</span><span class="p">):</span>
</span><span id="DeclareModelCoder-741"><a href="#DeclareModelCoder-741"><span class="linenos">741</span></a>                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">decode_value</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</span><span id="DeclareModelCoder-742"><a href="#DeclareModelCoder-742"><span class="linenos">742</span></a>        <span class="k">return</span> <span class="n">s</span>
</span></pre></div>


    

                            <div id="DeclareModelCoder.__init__" class="classattr">
                                        <input id="DeclareModelCoder.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">DeclareModelCoder</span><span class="signature pdoc-code condensed">()</span>

                <label class="view-source-button" for="DeclareModelCoder.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareModelCoder.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareModelCoder.__init__-538"><a href="#DeclareModelCoder.__init__-538"><span class="linenos">538</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="DeclareModelCoder.__init__-539"><a href="#DeclareModelCoder.__init__-539"><span class="linenos">539</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">encoded_dict</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="DeclareModelCoder.__init__-540"><a href="#DeclareModelCoder.__init__-540"><span class="linenos">540</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">:</span> <span class="n">DeclareParsedDataModel</span>
</span></pre></div>


    

                            </div>
                            <div id="DeclareModelCoder.encode" class="classattr">
                                        <input id="DeclareModelCoder.encode-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">encode</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">dpm_orig</span><span class="p">:</span> <span class="n"><a href="#DeclareParsedDataModel">src.declare4py.ProcessModels.DeclareModel.DeclareParsedDataModel</a></span></span><span class="return-annotation">) -> <span class="n"><a href="#DeclareParsedDataModel">src.declare4py.ProcessModels.DeclareModel.DeclareParsedDataModel</a></span>:</span></span>

                <label class="view-source-button" for="DeclareModelCoder.encode-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareModelCoder.encode"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareModelCoder.encode-542"><a href="#DeclareModelCoder.encode-542"><span class="linenos">542</span></a>    <span class="k">def</span> <span class="nf">encode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dpm_orig</span><span class="p">:</span> <span class="n">DeclareParsedDataModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DeclareParsedDataModel</span><span class="p">:</span>
</span><span id="DeclareModelCoder.encode-543"><a href="#DeclareModelCoder.encode-543"><span class="linenos">543</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">encoded_dict</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="DeclareModelCoder.encode-544"><a href="#DeclareModelCoder.encode-544"><span class="linenos">544</span></a>        <span class="n">dpm</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">dpm_orig</span><span class="p">)</span>  <span class="c1"># TODO: check this. to void to get messed with reference/pointers</span>
</span><span id="DeclareModelCoder.encode-545"><a href="#DeclareModelCoder.encode-545"><span class="linenos">545</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">DeclareParsedDataModel</span><span class="p">()</span>
</span><span id="DeclareModelCoder.encode-546"><a href="#DeclareModelCoder.encode-546"><span class="linenos">546</span></a>        <span class="k">for</span> <span class="n">event_name</span><span class="p">,</span> <span class="n">event_obj</span> <span class="ow">in</span> <span class="n">dpm</span><span class="o">.</span><span class="n">events</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="DeclareModelCoder.encode-547"><a href="#DeclareModelCoder.encode-547"><span class="linenos">547</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">events</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">encode_event_name</span><span class="p">(</span><span class="n">event_name</span><span class="p">)]</span> <span class="o">=</span> <span class="n">event_obj</span>
</span><span id="DeclareModelCoder.encode-548"><a href="#DeclareModelCoder.encode-548"><span class="linenos">548</span></a>            <span class="k">for</span> <span class="n">prop</span> <span class="ow">in</span> <span class="n">event_obj</span><span class="p">:</span>
</span><span id="DeclareModelCoder.encode-549"><a href="#DeclareModelCoder.encode-549"><span class="linenos">549</span></a>                <span class="k">if</span> <span class="n">prop</span> <span class="o">==</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span>
</span><span id="DeclareModelCoder.encode-550"><a href="#DeclareModelCoder.encode-550"><span class="linenos">550</span></a>                    <span class="n">event_obj</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">encode_event_name</span><span class="p">(</span><span class="n">event_name</span><span class="p">)</span>
</span><span id="DeclareModelCoder.encode-551"><a href="#DeclareModelCoder.encode-551"><span class="linenos">551</span></a>                <span class="k">if</span> <span class="n">prop</span> <span class="o">==</span> <span class="s2">&quot;event_type&quot;</span><span class="p">:</span>
</span><span id="DeclareModelCoder.encode-552"><a href="#DeclareModelCoder.encode-552"><span class="linenos">552</span></a>                    <span class="n">event_obj</span><span class="o">.</span><span class="n">event_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">encode_event_type</span><span class="p">(</span><span class="n">event_obj</span><span class="p">[</span><span class="n">prop</span><span class="p">])</span>
</span><span id="DeclareModelCoder.encode-553"><a href="#DeclareModelCoder.encode-553"><span class="linenos">553</span></a>                <span class="k">if</span> <span class="n">prop</span> <span class="o">==</span> <span class="s2">&quot;attributes&quot;</span><span class="p">:</span>
</span><span id="DeclareModelCoder.encode-554"><a href="#DeclareModelCoder.encode-554"><span class="linenos">554</span></a>                    <span class="n">event_obj</span><span class="o">.</span><span class="n">attributes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">encode_attributes_list</span><span class="p">(</span><span class="n">event_obj</span><span class="p">[</span><span class="s2">&quot;attributes&quot;</span><span class="p">])</span>
</span><span id="DeclareModelCoder.encode-555"><a href="#DeclareModelCoder.encode-555"><span class="linenos">555</span></a>        <span class="c1"># self.encode_attributes_list(dpm.attributes_list)</span>
</span><span id="DeclareModelCoder.encode-556"><a href="#DeclareModelCoder.encode-556"><span class="linenos">556</span></a>
</span><span id="DeclareModelCoder.encode-557"><a href="#DeclareModelCoder.encode-557"><span class="linenos">557</span></a>        <span class="c1"># self.model.templates = copy.deepcopy(dpm_orig.templates)</span>
</span><span id="DeclareModelCoder.encode-558"><a href="#DeclareModelCoder.encode-558"><span class="linenos">558</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">templates</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="DeclareModelCoder.encode-559"><a href="#DeclareModelCoder.encode-559"><span class="linenos">559</span></a>        <span class="k">for</span> <span class="n">tmpl</span> <span class="ow">in</span> <span class="n">dpm_orig</span><span class="o">.</span><span class="n">templates</span><span class="p">:</span>
</span><span id="DeclareModelCoder.encode-560"><a href="#DeclareModelCoder.encode-560"><span class="linenos">560</span></a>            <span class="n">template</span> <span class="o">=</span> <span class="n">DeclareModelTemplateDataModel</span><span class="p">()</span>
</span><span id="DeclareModelCoder.encode-561"><a href="#DeclareModelCoder.encode-561"><span class="linenos">561</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">templates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">template</span><span class="p">)</span>
</span><span id="DeclareModelCoder.encode-562"><a href="#DeclareModelCoder.encode-562"><span class="linenos">562</span></a>            <span class="n">template</span><span class="o">.</span><span class="n">template_name</span> <span class="o">=</span> <span class="n">tmpl</span><span class="p">[</span><span class="s2">&quot;template_name&quot;</span><span class="p">]</span>
</span><span id="DeclareModelCoder.encode-563"><a href="#DeclareModelCoder.encode-563"><span class="linenos">563</span></a>            <span class="n">template</span><span class="o">.</span><span class="n">template</span> <span class="o">=</span> <span class="n">tmpl</span><span class="p">[</span><span class="s2">&quot;template&quot;</span><span class="p">]</span>
</span><span id="DeclareModelCoder.encode-564"><a href="#DeclareModelCoder.encode-564"><span class="linenos">564</span></a>            <span class="n">template</span><span class="o">.</span><span class="n">activities</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">encode_str_list</span><span class="p">(</span><span class="n">tmpl</span><span class="p">[</span><span class="s2">&quot;activities&quot;</span><span class="p">])</span>
</span><span id="DeclareModelCoder.encode-565"><a href="#DeclareModelCoder.encode-565"><span class="linenos">565</span></a>            <span class="n">a</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">tm</span> <span class="o">=</span> <span class="n">tmpl</span><span class="o">.</span><span class="n">get_conditions</span><span class="p">()</span>
</span><span id="DeclareModelCoder.encode-566"><a href="#DeclareModelCoder.encode-566"><span class="linenos">566</span></a>            <span class="n">encoded_conditions</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="DeclareModelCoder.encode-567"><a href="#DeclareModelCoder.encode-567"><span class="linenos">567</span></a>            <span class="k">if</span> <span class="n">a</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DeclareModelCoder.encode-568"><a href="#DeclareModelCoder.encode-568"><span class="linenos">568</span></a>                <span class="c1"># c = self.parsed_condition(&quot;A.grade &gt; 10 and A.name in (x, y)  or A.grade &lt; 3 and A.name in (z, v)</span>
</span><span id="DeclareModelCoder.encode-569"><a href="#DeclareModelCoder.encode-569"><span class="linenos">569</span></a>                <span class="c1"># or A.name not in (4, 2, 6)&quot;)</span>
</span><span id="DeclareModelCoder.encode-570"><a href="#DeclareModelCoder.encode-570"><span class="linenos">570</span></a>                <span class="c1"># c = self.parsed_condition(&quot;A.grade &gt; 10 and A.name in (x, y) or A.name in (z, v) T.type &gt; 78 or &quot;</span>
</span><span id="DeclareModelCoder.encode-571"><a href="#DeclareModelCoder.encode-571"><span class="linenos">571</span></a>                <span class="c1"># &quot;t.nae is memo and (T.InfectionSuspected is true) AND&quot;</span>
</span><span id="DeclareModelCoder.encode-572"><a href="#DeclareModelCoder.encode-572"><span class="linenos">572</span></a>                <span class="c1">#                           &quot; (T.SIRSCriteria2OrMore is true) AND (T.DiagnosticECG is true) &quot;)</span>
</span><span id="DeclareModelCoder.encode-573"><a href="#DeclareModelCoder.encode-573"><span class="linenos">573</span></a>                <span class="n">encoded_conditions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parsed_condition</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
</span><span id="DeclareModelCoder.encode-574"><a href="#DeclareModelCoder.encode-574"><span class="linenos">574</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="DeclareModelCoder.encode-575"><a href="#DeclareModelCoder.encode-575"><span class="linenos">575</span></a>                <span class="n">encoded_conditions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="DeclareModelCoder.encode-576"><a href="#DeclareModelCoder.encode-576"><span class="linenos">576</span></a>            <span class="k">if</span> <span class="n">t</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DeclareModelCoder.encode-577"><a href="#DeclareModelCoder.encode-577"><span class="linenos">577</span></a>                <span class="n">encoded_conditions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parsed_condition</span><span class="p">(</span><span class="n">t</span><span class="p">))</span>
</span><span id="DeclareModelCoder.encode-578"><a href="#DeclareModelCoder.encode-578"><span class="linenos">578</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="DeclareModelCoder.encode-579"><a href="#DeclareModelCoder.encode-579"><span class="linenos">579</span></a>                <span class="n">encoded_conditions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="DeclareModelCoder.encode-580"><a href="#DeclareModelCoder.encode-580"><span class="linenos">580</span></a>            <span class="k">if</span> <span class="n">tm</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DeclareModelCoder.encode-581"><a href="#DeclareModelCoder.encode-581"><span class="linenos">581</span></a>                <span class="n">encoded_conditions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tm</span><span class="p">)</span>
</span><span id="DeclareModelCoder.encode-582"><a href="#DeclareModelCoder.encode-582"><span class="linenos">582</span></a>            <span class="n">template</span><span class="o">.</span><span class="n">condition</span> <span class="o">=</span> <span class="n">encoded_conditions</span>
</span><span id="DeclareModelCoder.encode-583"><a href="#DeclareModelCoder.encode-583"><span class="linenos">583</span></a>            <span class="n">template</span><span class="o">.</span><span class="n">violate</span> <span class="o">=</span> <span class="n">tmpl</span><span class="o">.</span><span class="n">violate</span>
</span><span id="DeclareModelCoder.encode-584"><a href="#DeclareModelCoder.encode-584"><span class="linenos">584</span></a>            <span class="n">template</span><span class="o">.</span><span class="n">template_index_id</span> <span class="o">=</span> <span class="n">tmpl</span><span class="o">.</span><span class="n">template_index_id</span>
</span><span id="DeclareModelCoder.encode-585"><a href="#DeclareModelCoder.encode-585"><span class="linenos">585</span></a>            <span class="n">template</span><span class="o">.</span><span class="n">condition_line</span> <span class="o">=</span> <span class="s2">&quot;| &quot;</span> <span class="o">+</span> <span class="s2">&quot; | &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">encoded_conditions</span><span class="p">)</span>
</span><span id="DeclareModelCoder.encode-586"><a href="#DeclareModelCoder.encode-586"><span class="linenos">586</span></a>            <span class="n">a</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">template</span><span class="o">.</span><span class="n">activities</span><span class="p">)</span>
</span><span id="DeclareModelCoder.encode-587"><a href="#DeclareModelCoder.encode-587"><span class="linenos">587</span></a>            <span class="n">template</span><span class="o">.</span><span class="n">template_line</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">template</span><span class="o">.</span><span class="n">template_name</span><span class="si">}</span><span class="s2">[</span><span class="si">{</span><span class="n">a</span><span class="si">}</span><span class="s2">] </span><span class="si">{</span><span class="n">template</span><span class="o">.</span><span class="n">condition_line</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="DeclareModelCoder.encode-588"><a href="#DeclareModelCoder.encode-588"><span class="linenos">588</span></a>
</span><span id="DeclareModelCoder.encode-589"><a href="#DeclareModelCoder.encode-589"><span class="linenos">589</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span>
</span></pre></div>


    

                            </div>
                            <div id="DeclareModelCoder.encode_attributes_list" class="classattr">
                                        <input id="DeclareModelCoder.encode_attributes_list-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">encode_attributes_list</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">attr_list</span><span class="p">:</span> <span class="n">Dict</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DeclareModelCoder.encode_attributes_list-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareModelCoder.encode_attributes_list"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareModelCoder.encode_attributes_list-591"><a href="#DeclareModelCoder.encode_attributes_list-591"><span class="linenos">591</span></a>    <span class="k">def</span> <span class="nf">encode_attributes_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attr_list</span><span class="p">:</span> <span class="n">Dict</span><span class="p">):</span>
</span><span id="DeclareModelCoder.encode_attributes_list-592"><a href="#DeclareModelCoder.encode_attributes_list-592"><span class="linenos">592</span></a>        <span class="n">d</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="DeclareModelCoder.encode_attributes_list-593"><a href="#DeclareModelCoder.encode_attributes_list-593"><span class="linenos">593</span></a>        <span class="k">for</span> <span class="n">attr_name</span><span class="p">,</span> <span class="n">attr_obj</span> <span class="ow">in</span> <span class="n">attr_list</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="DeclareModelCoder.encode_attributes_list-594"><a href="#DeclareModelCoder.encode_attributes_list-594"><span class="linenos">594</span></a>            <span class="n">e_attr_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">encode_value</span><span class="p">(</span><span class="n">attr_name</span><span class="p">)</span>
</span><span id="DeclareModelCoder.encode_attributes_list-595"><a href="#DeclareModelCoder.encode_attributes_list-595"><span class="linenos">595</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">attributes_list</span><span class="p">[</span><span class="n">e_attr_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">attr_obj</span>
</span><span id="DeclareModelCoder.encode_attributes_list-596"><a href="#DeclareModelCoder.encode_attributes_list-596"><span class="linenos">596</span></a>            <span class="n">d</span><span class="p">[</span><span class="n">e_attr_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="DeclareModelCoder.encode_attributes_list-597"><a href="#DeclareModelCoder.encode_attributes_list-597"><span class="linenos">597</span></a>            <span class="k">if</span> <span class="n">attr_obj</span><span class="p">[</span><span class="s1">&#39;value_type&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="n">DeclareModelAttributeType</span><span class="o">.</span><span class="n">ENUMERATION</span><span class="p">:</span>
</span><span id="DeclareModelCoder.encode_attributes_list-598"><a href="#DeclareModelCoder.encode_attributes_list-598"><span class="linenos">598</span></a>                <span class="n">attr_obj</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">encode_enum_list</span><span class="p">(</span><span class="n">attr_obj</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">])</span>
</span><span id="DeclareModelCoder.encode_attributes_list-599"><a href="#DeclareModelCoder.encode_attributes_list-599"><span class="linenos">599</span></a>            <span class="k">if</span> <span class="s1">&#39;events_attached&#39;</span> <span class="ow">in</span> <span class="n">attr_obj</span><span class="p">:</span>
</span><span id="DeclareModelCoder.encode_attributes_list-600"><a href="#DeclareModelCoder.encode_attributes_list-600"><span class="linenos">600</span></a>                <span class="n">attr_obj</span><span class="p">[</span><span class="s1">&#39;events_attached&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">encode_str_list</span><span class="p">(</span><span class="n">attr_obj</span><span class="p">[</span><span class="s1">&#39;events_attached&#39;</span><span class="p">])</span>
</span><span id="DeclareModelCoder.encode_attributes_list-601"><a href="#DeclareModelCoder.encode_attributes_list-601"><span class="linenos">601</span></a>            <span class="n">d</span><span class="p">[</span><span class="n">e_attr_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">attr_obj</span>
</span><span id="DeclareModelCoder.encode_attributes_list-602"><a href="#DeclareModelCoder.encode_attributes_list-602"><span class="linenos">602</span></a>        <span class="k">return</span> <span class="n">d</span>
</span></pre></div>


    

                            </div>
                            <div id="DeclareModelCoder.parsed_condition" class="classattr">
                                        <input id="DeclareModelCoder.parsed_condition-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">parsed_condition</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">string</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DeclareModelCoder.parsed_condition-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareModelCoder.parsed_condition"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareModelCoder.parsed_condition-604"><a href="#DeclareModelCoder.parsed_condition-604"><span class="linenos">604</span></a>    <span class="k">def</span> <span class="nf">parsed_condition</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">string</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="DeclareModelCoder.parsed_condition-605"><a href="#DeclareModelCoder.parsed_condition-605"><span class="linenos">605</span></a>        <span class="n">string</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\)&#39;</span><span class="p">,</span> <span class="s1">&#39; ) &#39;</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>
</span><span id="DeclareModelCoder.parsed_condition-606"><a href="#DeclareModelCoder.parsed_condition-606"><span class="linenos">606</span></a>        <span class="n">string</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\(&#39;</span><span class="p">,</span> <span class="s1">&#39; ( &#39;</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>
</span><span id="DeclareModelCoder.parsed_condition-607"><a href="#DeclareModelCoder.parsed_condition-607"><span class="linenos">607</span></a>        <span class="n">string</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="DeclareModelCoder.parsed_condition-608"><a href="#DeclareModelCoder.parsed_condition-608"><span class="linenos">608</span></a>        <span class="n">string</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s1">&#39; +&#39;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>
</span><span id="DeclareModelCoder.parsed_condition-609"><a href="#DeclareModelCoder.parsed_condition-609"><span class="linenos">609</span></a>        <span class="n">string</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s1">&#39;is not&#39;</span><span class="p">,</span> <span class="s1">&#39;is_not&#39;</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>
</span><span id="DeclareModelCoder.parsed_condition-610"><a href="#DeclareModelCoder.parsed_condition-610"><span class="linenos">610</span></a>        <span class="n">string</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s1">&#39;not in&#39;</span><span class="p">,</span> <span class="s1">&#39;not_in&#39;</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>
</span><span id="DeclareModelCoder.parsed_condition-611"><a href="#DeclareModelCoder.parsed_condition-611"><span class="linenos">611</span></a>        <span class="n">string</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s1">&#39; *&gt; *&#39;</span><span class="p">,</span> <span class="s1">&#39;&gt;&#39;</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>
</span><span id="DeclareModelCoder.parsed_condition-612"><a href="#DeclareModelCoder.parsed_condition-612"><span class="linenos">612</span></a>        <span class="n">string</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s1">&#39; *&lt; *&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;&#39;</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>
</span><span id="DeclareModelCoder.parsed_condition-613"><a href="#DeclareModelCoder.parsed_condition-613"><span class="linenos">613</span></a>        <span class="n">string</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s1">&#39; *= *&#39;</span><span class="p">,</span> <span class="s1">&#39;=&#39;</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>
</span><span id="DeclareModelCoder.parsed_condition-614"><a href="#DeclareModelCoder.parsed_condition-614"><span class="linenos">614</span></a>        <span class="n">string</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s1">&#39; *&lt;= *&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;=&#39;</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>
</span><span id="DeclareModelCoder.parsed_condition-615"><a href="#DeclareModelCoder.parsed_condition-615"><span class="linenos">615</span></a>        <span class="n">string</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s1">&#39; *&gt;= *&#39;</span><span class="p">,</span> <span class="s1">&#39;&gt;=&#39;</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>
</span><span id="DeclareModelCoder.parsed_condition-616"><a href="#DeclareModelCoder.parsed_condition-616"><span class="linenos">616</span></a>        <span class="n">form_list</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
</span><span id="DeclareModelCoder.parsed_condition-617"><a href="#DeclareModelCoder.parsed_condition-617"><span class="linenos">617</span></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">form_list</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
</span><span id="DeclareModelCoder.parsed_condition-618"><a href="#DeclareModelCoder.parsed_condition-618"><span class="linenos">618</span></a>            <span class="n">el</span> <span class="o">=</span> <span class="n">form_list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</span><span id="DeclareModelCoder.parsed_condition-619"><a href="#DeclareModelCoder.parsed_condition-619"><span class="linenos">619</span></a>            <span class="k">if</span> <span class="n">el</span> <span class="o">==</span> <span class="s1">&#39;in&#39;</span> <span class="ow">or</span> <span class="n">el</span> <span class="o">==</span> <span class="s1">&#39;not_in&#39;</span><span class="p">:</span>
</span><span id="DeclareModelCoder.parsed_condition-620"><a href="#DeclareModelCoder.parsed_condition-620"><span class="linenos">620</span></a>                <span class="n">end_index</span> <span class="o">=</span> <span class="n">form_list</span><span class="p">[</span><span class="n">i</span><span class="p">:]</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s1">&#39;)&#39;</span><span class="p">)</span>
</span><span id="DeclareModelCoder.parsed_condition-621"><a href="#DeclareModelCoder.parsed_condition-621"><span class="linenos">621</span></a>                <span class="n">start_index</span> <span class="o">=</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span>
</span><span id="DeclareModelCoder.parsed_condition-622"><a href="#DeclareModelCoder.parsed_condition-622"><span class="linenos">622</span></a>                <span class="n">end_index</span> <span class="o">=</span> <span class="n">end_index</span> <span class="o">+</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>
</span><span id="DeclareModelCoder.parsed_condition-623"><a href="#DeclareModelCoder.parsed_condition-623"><span class="linenos">623</span></a>                <span class="n">form_list</span><span class="p">[</span><span class="n">start_index</span><span class="p">:</span><span class="n">end_index</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">form_list</span><span class="p">[</span><span class="n">start_index</span><span class="p">:</span><span class="n">end_index</span><span class="p">])]</span>
</span><span id="DeclareModelCoder.parsed_condition-624"><a href="#DeclareModelCoder.parsed_condition-624"><span class="linenos">624</span></a>            <span class="k">elif</span> <span class="n">el</span> <span class="o">==</span> <span class="s1">&#39;is&#39;</span> <span class="ow">or</span> <span class="n">el</span> <span class="o">==</span> <span class="s1">&#39;is_not&#39;</span><span class="p">:</span>
</span><span id="DeclareModelCoder.parsed_condition-625"><a href="#DeclareModelCoder.parsed_condition-625"><span class="linenos">625</span></a>                <span class="n">start_index</span> <span class="o">=</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span>
</span><span id="DeclareModelCoder.parsed_condition-626"><a href="#DeclareModelCoder.parsed_condition-626"><span class="linenos">626</span></a>                <span class="n">end_index</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">2</span>
</span><span id="DeclareModelCoder.parsed_condition-627"><a href="#DeclareModelCoder.parsed_condition-627"><span class="linenos">627</span></a>                <span class="n">form_list</span><span class="p">[</span><span class="n">start_index</span><span class="p">:</span><span class="n">end_index</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">form_list</span><span class="p">[</span><span class="n">start_index</span><span class="p">:</span><span class="n">end_index</span><span class="p">])]</span>
</span><span id="DeclareModelCoder.parsed_condition-628"><a href="#DeclareModelCoder.parsed_condition-628"><span class="linenos">628</span></a>        <span class="n">keywords</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;and&#39;</span><span class="p">,</span> <span class="s1">&#39;or&#39;</span><span class="p">,</span> <span class="s1">&#39;(&#39;</span><span class="p">,</span> <span class="s1">&#39;)&#39;</span><span class="p">,</span> <span class="s1">&#39;is&#39;</span><span class="p">,</span> <span class="s1">&#39;same&#39;</span><span class="p">,</span> <span class="s1">&#39;different&#39;</span><span class="p">}</span>
</span><span id="DeclareModelCoder.parsed_condition-629"><a href="#DeclareModelCoder.parsed_condition-629"><span class="linenos">629</span></a>        <span class="n">idx</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="DeclareModelCoder.parsed_condition-630"><a href="#DeclareModelCoder.parsed_condition-630"><span class="linenos">630</span></a>        <span class="k">for</span> <span class="n">cond_chunk</span> <span class="ow">in</span> <span class="n">form_list</span><span class="p">:</span>
</span><span id="DeclareModelCoder.parsed_condition-631"><a href="#DeclareModelCoder.parsed_condition-631"><span class="linenos">631</span></a>            <span class="n">idx</span> <span class="o">=</span> <span class="n">idx</span> <span class="o">+</span> <span class="mi">1</span>
</span><span id="DeclareModelCoder.parsed_condition-632"><a href="#DeclareModelCoder.parsed_condition-632"><span class="linenos">632</span></a>            <span class="k">if</span> <span class="n">cond_chunk</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="n">keywords</span><span class="p">:</span>
</span><span id="DeclareModelCoder.parsed_condition-633"><a href="#DeclareModelCoder.parsed_condition-633"><span class="linenos">633</span></a>                <span class="k">continue</span>
</span><span id="DeclareModelCoder.parsed_condition-634"><a href="#DeclareModelCoder.parsed_condition-634"><span class="linenos">634</span></a>            <span class="k">elif</span> <span class="n">cond_chunk</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;not_in&quot;</span><span class="p">:</span>
</span><span id="DeclareModelCoder.parsed_condition-635"><a href="#DeclareModelCoder.parsed_condition-635"><span class="linenos">635</span></a>                <span class="n">form_list</span><span class="p">[</span><span class="n">idx</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;not in&quot;</span>
</span><span id="DeclareModelCoder.parsed_condition-636"><a href="#DeclareModelCoder.parsed_condition-636"><span class="linenos">636</span></a>            <span class="k">elif</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^[AaTt]\.&#39;</span><span class="p">,</span> <span class="n">cond_chunk</span><span class="p">):</span>  <span class="c1"># A.grade&gt;10</span>
</span><span id="DeclareModelCoder.parsed_condition-637"><a href="#DeclareModelCoder.parsed_condition-637"><span class="linenos">637</span></a>                <span class="n">found</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;([AaTt]\.([\w:,]+))&quot;</span><span class="p">,</span> <span class="n">cond_chunk</span><span class="p">,</span>
</span><span id="DeclareModelCoder.parsed_condition-638"><a href="#DeclareModelCoder.parsed_condition-638"><span class="linenos">638</span></a>                                   <span class="n">flags</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">UNICODE</span> <span class="o">|</span> <span class="n">re</span><span class="o">.</span><span class="n">MULTILINE</span><span class="p">)</span>  <span class="c1"># finds from A.grade&gt;10 =&gt; A.grade and grade</span>
</span><span id="DeclareModelCoder.parsed_condition-639"><a href="#DeclareModelCoder.parsed_condition-639"><span class="linenos">639</span></a>                <span class="k">if</span> <span class="n">found</span><span class="p">:</span>  <span class="c1"># [(&#39;A.grade&#39;, &#39;grade&#39;), (&#39;A.mark&#39;, &#39;mark&#39;)]</span>
</span><span id="DeclareModelCoder.parsed_condition-640"><a href="#DeclareModelCoder.parsed_condition-640"><span class="linenos">640</span></a>                    <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">found</span><span class="p">:</span>
</span><span id="DeclareModelCoder.parsed_condition-641"><a href="#DeclareModelCoder.parsed_condition-641"><span class="linenos">641</span></a>                        <span class="n">act_tar_cond</span><span class="p">,</span> <span class="n">attr</span> <span class="o">=</span> <span class="n">f</span>
</span><span id="DeclareModelCoder.parsed_condition-642"><a href="#DeclareModelCoder.parsed_condition-642"><span class="linenos">642</span></a>                        <span class="n">ct</span> <span class="o">=</span> <span class="n">act_tar_cond</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># condition_type: A or T</span>
</span><span id="DeclareModelCoder.parsed_condition-643"><a href="#DeclareModelCoder.parsed_condition-643"><span class="linenos">643</span></a>                        <span class="n">attr_encoded</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">encode_value</span><span class="p">(</span><span class="n">attr</span><span class="p">)</span>
</span><span id="DeclareModelCoder.parsed_condition-644"><a href="#DeclareModelCoder.parsed_condition-644"><span class="linenos">644</span></a>                        <span class="n">form_list</span><span class="p">[</span><span class="n">idx</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">cond_chunk</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">ct</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="n">attr</span><span class="p">,</span> <span class="n">ct</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="n">attr_encoded</span><span class="p">)</span>
</span><span id="DeclareModelCoder.parsed_condition-645"><a href="#DeclareModelCoder.parsed_condition-645"><span class="linenos">645</span></a>                <span class="n">cond_chunk</span> <span class="o">=</span> <span class="n">form_list</span><span class="p">[</span><span class="n">idx</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
</span><span id="DeclareModelCoder.parsed_condition-646"><a href="#DeclareModelCoder.parsed_condition-646"><span class="linenos">646</span></a>                <span class="n">cond_chunk_split</span> <span class="o">=</span> <span class="n">cond_chunk</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>  <span class="c1"># A.name in ( z, v )</span>
</span><span id="DeclareModelCoder.parsed_condition-647"><a href="#DeclareModelCoder.parsed_condition-647"><span class="linenos">647</span></a>                <span class="k">if</span> <span class="s2">&quot;is&quot;</span> <span class="ow">in</span> <span class="n">cond_chunk_split</span><span class="p">:</span>
</span><span id="DeclareModelCoder.parsed_condition-648"><a href="#DeclareModelCoder.parsed_condition-648"><span class="linenos">648</span></a>                    <span class="n">cond_chunk</span> <span class="o">=</span> <span class="n">cond_chunk</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;  &quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="DeclareModelCoder.parsed_condition-649"><a href="#DeclareModelCoder.parsed_condition-649"><span class="linenos">649</span></a>                    <span class="n">val</span> <span class="o">=</span> <span class="n">cond_chunk</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; is &quot;</span><span class="p">)</span>  <span class="c1"># case: T.InfectionSuspected is xyz</span>
</span><span id="DeclareModelCoder.parsed_condition-650"><a href="#DeclareModelCoder.parsed_condition-650"><span class="linenos">650</span></a>                    <span class="n">val0</span> <span class="o">=</span> <span class="n">val</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># &quot;T.InfectionSuspected&quot;</span>
</span><span id="DeclareModelCoder.parsed_condition-651"><a href="#DeclareModelCoder.parsed_condition-651"><span class="linenos">651</span></a>                    <span class="n">val1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">encode_value</span><span class="p">(</span><span class="n">val</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>  <span class="c1"># &quot;xyz&quot;</span>
</span><span id="DeclareModelCoder.parsed_condition-652"><a href="#DeclareModelCoder.parsed_condition-652"><span class="linenos">652</span></a>                    <span class="n">cond_chunk</span> <span class="o">=</span> <span class="n">val0</span> <span class="o">+</span> <span class="s2">&quot; is &quot;</span> <span class="o">+</span> <span class="n">val1</span>
</span><span id="DeclareModelCoder.parsed_condition-653"><a href="#DeclareModelCoder.parsed_condition-653"><span class="linenos">653</span></a>                    <span class="n">form_list</span><span class="p">[</span><span class="n">idx</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">cond_chunk</span>
</span><span id="DeclareModelCoder.parsed_condition-654"><a href="#DeclareModelCoder.parsed_condition-654"><span class="linenos">654</span></a>                <span class="k">elif</span> <span class="s2">&quot;not_in&quot;</span> <span class="ow">in</span> <span class="n">cond_chunk_split</span><span class="p">:</span>
</span><span id="DeclareModelCoder.parsed_condition-655"><a href="#DeclareModelCoder.parsed_condition-655"><span class="linenos">655</span></a>                    <span class="n">cond_chunk</span> <span class="o">=</span> <span class="n">cond_chunk</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;  &quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="DeclareModelCoder.parsed_condition-656"><a href="#DeclareModelCoder.parsed_condition-656"><span class="linenos">656</span></a>                    <span class="n">val</span> <span class="o">=</span> <span class="n">cond_chunk</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; not_in &quot;</span><span class="p">)</span>  <span class="c1"># case: A.name not in ( z, v )</span>
</span><span id="DeclareModelCoder.parsed_condition-657"><a href="#DeclareModelCoder.parsed_condition-657"><span class="linenos">657</span></a>                    <span class="n">val1</span> <span class="o">=</span> <span class="n">val</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;(&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;)&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>  <span class="c1"># &quot;z, v&quot;</span>
</span><span id="DeclareModelCoder.parsed_condition-658"><a href="#DeclareModelCoder.parsed_condition-658"><span class="linenos">658</span></a>                    <span class="n">val1</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">val1</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)]</span>  <span class="c1"># [&quot;z&quot;, &quot;v&quot;]</span>
</span><span id="DeclareModelCoder.parsed_condition-659"><a href="#DeclareModelCoder.parsed_condition-659"><span class="linenos">659</span></a>                    <span class="n">items</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="DeclareModelCoder.parsed_condition-660"><a href="#DeclareModelCoder.parsed_condition-660"><span class="linenos">660</span></a>                    <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">val1</span><span class="p">:</span>
</span><span id="DeclareModelCoder.parsed_condition-661"><a href="#DeclareModelCoder.parsed_condition-661"><span class="linenos">661</span></a>                        <span class="n">items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">encode_value</span><span class="p">(</span><span class="n">v</span><span class="p">))</span>
</span><span id="DeclareModelCoder.parsed_condition-662"><a href="#DeclareModelCoder.parsed_condition-662"><span class="linenos">662</span></a>                    <span class="n">val1</span> <span class="o">=</span> <span class="s2">&quot;(&quot;</span> <span class="o">+</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">items</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span>
</span><span id="DeclareModelCoder.parsed_condition-663"><a href="#DeclareModelCoder.parsed_condition-663"><span class="linenos">663</span></a>                    <span class="n">cond_chunk</span> <span class="o">=</span> <span class="n">val</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot; not in &quot;</span> <span class="o">+</span> <span class="n">val1</span>
</span><span id="DeclareModelCoder.parsed_condition-664"><a href="#DeclareModelCoder.parsed_condition-664"><span class="linenos">664</span></a>                    <span class="n">form_list</span><span class="p">[</span><span class="n">idx</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">cond_chunk</span>
</span><span id="DeclareModelCoder.parsed_condition-665"><a href="#DeclareModelCoder.parsed_condition-665"><span class="linenos">665</span></a>                <span class="k">elif</span> <span class="s2">&quot;in&quot;</span> <span class="ow">in</span> <span class="n">cond_chunk_split</span><span class="p">:</span>
</span><span id="DeclareModelCoder.parsed_condition-666"><a href="#DeclareModelCoder.parsed_condition-666"><span class="linenos">666</span></a>                    <span class="n">cond_chunk</span> <span class="o">=</span> <span class="n">cond_chunk</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;  &quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="DeclareModelCoder.parsed_condition-667"><a href="#DeclareModelCoder.parsed_condition-667"><span class="linenos">667</span></a>                    <span class="n">val</span> <span class="o">=</span> <span class="n">cond_chunk</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; in &quot;</span><span class="p">)</span>  <span class="c1"># case: A.name in ( z, v )</span>
</span><span id="DeclareModelCoder.parsed_condition-668"><a href="#DeclareModelCoder.parsed_condition-668"><span class="linenos">668</span></a>                    <span class="n">val1</span> <span class="o">=</span> <span class="n">val</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;(&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;)&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>  <span class="c1"># &quot;z, v&quot;</span>
</span><span id="DeclareModelCoder.parsed_condition-669"><a href="#DeclareModelCoder.parsed_condition-669"><span class="linenos">669</span></a>                    <span class="n">val1</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">val1</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)]</span>  <span class="c1"># [&quot;z&quot;, &quot;v&quot;]</span>
</span><span id="DeclareModelCoder.parsed_condition-670"><a href="#DeclareModelCoder.parsed_condition-670"><span class="linenos">670</span></a>                    <span class="n">items</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="DeclareModelCoder.parsed_condition-671"><a href="#DeclareModelCoder.parsed_condition-671"><span class="linenos">671</span></a>                    <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">val1</span><span class="p">:</span>
</span><span id="DeclareModelCoder.parsed_condition-672"><a href="#DeclareModelCoder.parsed_condition-672"><span class="linenos">672</span></a>                        <span class="n">items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">encode_value</span><span class="p">(</span><span class="n">v</span><span class="p">))</span>
</span><span id="DeclareModelCoder.parsed_condition-673"><a href="#DeclareModelCoder.parsed_condition-673"><span class="linenos">673</span></a>                    <span class="n">val1</span> <span class="o">=</span> <span class="s2">&quot;(&quot;</span> <span class="o">+</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">items</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span>
</span><span id="DeclareModelCoder.parsed_condition-674"><a href="#DeclareModelCoder.parsed_condition-674"><span class="linenos">674</span></a>                    <span class="n">cond_chunk</span> <span class="o">=</span> <span class="n">val</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot; in &quot;</span> <span class="o">+</span> <span class="n">val1</span>
</span><span id="DeclareModelCoder.parsed_condition-675"><a href="#DeclareModelCoder.parsed_condition-675"><span class="linenos">675</span></a>                    <span class="n">form_list</span><span class="p">[</span><span class="n">idx</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">cond_chunk</span>
</span><span id="DeclareModelCoder.parsed_condition-676"><a href="#DeclareModelCoder.parsed_condition-676"><span class="linenos">676</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="DeclareModelCoder.parsed_condition-677"><a href="#DeclareModelCoder.parsed_condition-677"><span class="linenos">677</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unable to encode the </span><span class="si">{</span><span class="n">cond_chunk</span><span class="si">}</span><span class="s2"> condition. This is not supported to encode yet&quot;</span><span class="p">)</span>
</span><span id="DeclareModelCoder.parsed_condition-678"><a href="#DeclareModelCoder.parsed_condition-678"><span class="linenos">678</span></a>                <span class="c1"># if matched</span>
</span><span id="DeclareModelCoder.parsed_condition-679"><a href="#DeclareModelCoder.parsed_condition-679"><span class="linenos">679</span></a>
</span><span id="DeclareModelCoder.parsed_condition-680"><a href="#DeclareModelCoder.parsed_condition-680"><span class="linenos">680</span></a>        <span class="k">return</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">form_list</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="DeclareModelCoder.encode_event_name" class="classattr">
                                        <input id="DeclareModelCoder.encode_event_name-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">encode_event_name</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">s</span></span><span class="return-annotation">) -> <span class="nb">str</span>:</span></span>

                <label class="view-source-button" for="DeclareModelCoder.encode_event_name-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareModelCoder.encode_event_name"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareModelCoder.encode_event_name-682"><a href="#DeclareModelCoder.encode_event_name-682"><span class="linenos">682</span></a>    <span class="k">def</span> <span class="nf">encode_event_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="DeclareModelCoder.encode_event_name-683"><a href="#DeclareModelCoder.encode_event_name-683"><span class="linenos">683</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">encode_value</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="DeclareModelCoder.encode_event_type" class="classattr">
                                        <input id="DeclareModelCoder.encode_event_type-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">encode_event_type</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">s</span></span><span class="return-annotation">) -> <span class="nb">str</span>:</span></span>

                <label class="view-source-button" for="DeclareModelCoder.encode_event_type-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareModelCoder.encode_event_type"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareModelCoder.encode_event_type-685"><a href="#DeclareModelCoder.encode_event_type-685"><span class="linenos">685</span></a>    <span class="k">def</span> <span class="nf">encode_event_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="DeclareModelCoder.encode_event_type-686"><a href="#DeclareModelCoder.encode_event_type-686"><span class="linenos">686</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">encode_value</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="DeclareModelCoder.encode_enum_list" class="classattr">
                                        <input id="DeclareModelCoder.encode_enum_list-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">encode_enum_list</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">s</span></span><span class="return-annotation">) -> <span class="nb">str</span>:</span></span>

                <label class="view-source-button" for="DeclareModelCoder.encode_enum_list-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareModelCoder.encode_enum_list"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareModelCoder.encode_enum_list-688"><a href="#DeclareModelCoder.encode_enum_list-688"><span class="linenos">688</span></a>    <span class="k">def</span> <span class="nf">encode_enum_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="DeclareModelCoder.encode_enum_list-689"><a href="#DeclareModelCoder.encode_enum_list-689"><span class="linenos">689</span></a>        <span class="n">ss</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
</span><span id="DeclareModelCoder.encode_enum_list-690"><a href="#DeclareModelCoder.encode_enum_list-690"><span class="linenos">690</span></a>        <span class="n">ss</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">encode_value</span><span class="p">(</span><span class="n">se</span><span class="p">)</span> <span class="k">for</span> <span class="n">se</span> <span class="ow">in</span> <span class="n">ss</span><span class="p">]</span>
</span><span id="DeclareModelCoder.encode_enum_list-691"><a href="#DeclareModelCoder.encode_enum_list-691"><span class="linenos">691</span></a>        <span class="k">return</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ss</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="DeclareModelCoder.encode_str_list" class="classattr">
                                        <input id="DeclareModelCoder.encode_str_list-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">encode_str_list</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">input_list</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></span><span class="return-annotation">) -> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="DeclareModelCoder.encode_str_list-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareModelCoder.encode_str_list"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareModelCoder.encode_str_list-693"><a href="#DeclareModelCoder.encode_str_list-693"><span class="linenos">693</span></a>    <span class="k">def</span> <span class="nf">encode_str_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_list</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="DeclareModelCoder.encode_str_list-694"><a href="#DeclareModelCoder.encode_str_list-694"><span class="linenos">694</span></a>        <span class="n">ss</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="DeclareModelCoder.encode_str_list-695"><a href="#DeclareModelCoder.encode_str_list-695"><span class="linenos">695</span></a>        <span class="k">for</span> <span class="n">se</span> <span class="ow">in</span> <span class="n">input_list</span><span class="p">:</span>
</span><span id="DeclareModelCoder.encode_str_list-696"><a href="#DeclareModelCoder.encode_str_list-696"><span class="linenos">696</span></a>            <span class="k">if</span> <span class="s2">&quot;ENCODEDSTRINGENCODEDSTRING&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">se</span><span class="p">:</span>
</span><span id="DeclareModelCoder.encode_str_list-697"><a href="#DeclareModelCoder.encode_str_list-697"><span class="linenos">697</span></a>                <span class="n">ss</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">encode_value</span><span class="p">(</span><span class="n">se</span><span class="p">))</span>
</span><span id="DeclareModelCoder.encode_str_list-698"><a href="#DeclareModelCoder.encode_str_list-698"><span class="linenos">698</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="DeclareModelCoder.encode_str_list-699"><a href="#DeclareModelCoder.encode_str_list-699"><span class="linenos">699</span></a>                <span class="n">ss</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">se</span><span class="p">)</span>
</span><span id="DeclareModelCoder.encode_str_list-700"><a href="#DeclareModelCoder.encode_str_list-700"><span class="linenos">700</span></a>        <span class="k">return</span> <span class="n">ss</span>
</span></pre></div>


    

                            </div>
                            <div id="DeclareModelCoder.encode_value" class="classattr">
                                        <input id="DeclareModelCoder.encode_value-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">encode_value</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">s</span></span><span class="return-annotation">) -> <span class="nb">str</span>:</span></span>

                <label class="view-source-button" for="DeclareModelCoder.encode_value-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareModelCoder.encode_value"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareModelCoder.encode_value-702"><a href="#DeclareModelCoder.encode_value-702"><span class="linenos">702</span></a>    <span class="k">def</span> <span class="nf">encode_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="DeclareModelCoder.encode_value-703"><a href="#DeclareModelCoder.encode_value-703"><span class="linenos">703</span></a>        <span class="k">if</span> <span class="s2">&quot;ENCODEDSTRINGENCODEDSTRING&quot;</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>  <span class="c1"># s is already encoded</span>
</span><span id="DeclareModelCoder.encode_value-704"><a href="#DeclareModelCoder.encode_value-704"><span class="linenos">704</span></a>            <span class="k">return</span> <span class="n">s</span>
</span><span id="DeclareModelCoder.encode_value-705"><a href="#DeclareModelCoder.encode_value-705"><span class="linenos">705</span></a>        <span class="k">if</span> <span class="n">s</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoded_dict</span><span class="p">:</span>
</span><span id="DeclareModelCoder.encode_value-706"><a href="#DeclareModelCoder.encode_value-706"><span class="linenos">706</span></a>            <span class="n">v</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span>
</span><span id="DeclareModelCoder.encode_value-707"><a href="#DeclareModelCoder.encode_value-707"><span class="linenos">707</span></a>            <span class="c1"># v = v.decode(&quot;utf-8&quot;)</span>
</span><span id="DeclareModelCoder.encode_value-708"><a href="#DeclareModelCoder.encode_value-708"><span class="linenos">708</span></a>            <span class="c1"># doesn&#39;t work because sm times has starts from a digit and clingo fails</span>
</span><span id="DeclareModelCoder.encode_value-709"><a href="#DeclareModelCoder.encode_value-709"><span class="linenos">709</span></a>            <span class="c1"># v = hashlib.md5(s.encode()).hexdigest()</span>
</span><span id="DeclareModelCoder.encode_value-710"><a href="#DeclareModelCoder.encode_value-710"><span class="linenos">710</span></a>            <span class="c1"># self.encoded_dict[s] = v</span>
</span><span id="DeclareModelCoder.encode_value-711"><a href="#DeclareModelCoder.encode_value-711"><span class="linenos">711</span></a>            <span class="n">b64_str</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
</span><span id="DeclareModelCoder.encode_value-712"><a href="#DeclareModelCoder.encode_value-712"><span class="linenos">712</span></a>            <span class="n">b64_str</span> <span class="o">=</span> <span class="n">b64_str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="p">,</span> <span class="s2">&quot;EEEQUALSIGNNN&quot;</span><span class="p">)</span>
</span><span id="DeclareModelCoder.encode_value-713"><a href="#DeclareModelCoder.encode_value-713"><span class="linenos">713</span></a>            <span class="k">if</span> <span class="n">b64_str</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">isupper</span><span class="p">():</span>
</span><span id="DeclareModelCoder.encode_value-714"><a href="#DeclareModelCoder.encode_value-714"><span class="linenos">714</span></a>                <span class="n">b</span> <span class="o">=</span> <span class="n">b64_str</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="DeclareModelCoder.encode_value-715"><a href="#DeclareModelCoder.encode_value-715"><span class="linenos">715</span></a>                <span class="n">b</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;lowerlower</span><span class="si">{</span><span class="n">b</span><span class="si">}</span><span class="s2">lowerlower&quot;</span>
</span><span id="DeclareModelCoder.encode_value-716"><a href="#DeclareModelCoder.encode_value-716"><span class="linenos">716</span></a>                <span class="n">b64_str</span> <span class="o">=</span> <span class="n">b</span> <span class="o">+</span> <span class="n">b64_str</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
</span><span id="DeclareModelCoder.encode_value-717"><a href="#DeclareModelCoder.encode_value-717"><span class="linenos">717</span></a>            <span class="c1"># maybe sometimes maybe by bug we encode the string multiple times, we would like to decode</span>
</span><span id="DeclareModelCoder.encode_value-718"><a href="#DeclareModelCoder.encode_value-718"><span class="linenos">718</span></a>            <span class="c1"># till last encoded str</span>
</span><span id="DeclareModelCoder.encode_value-719"><a href="#DeclareModelCoder.encode_value-719"><span class="linenos">719</span></a>            <span class="n">b64_str</span> <span class="o">=</span> <span class="n">b64_str</span> <span class="o">+</span> <span class="s2">&quot;ENCODEDSTRINGENCODEDSTRING&quot;</span>
</span><span id="DeclareModelCoder.encode_value-720"><a href="#DeclareModelCoder.encode_value-720"><span class="linenos">720</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">encoded_dict</span><span class="p">[</span><span class="n">s</span><span class="p">]</span> <span class="o">=</span> <span class="n">b64_str</span>
</span><span id="DeclareModelCoder.encode_value-721"><a href="#DeclareModelCoder.encode_value-721"><span class="linenos">721</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoded_dict</span><span class="p">[</span><span class="n">s</span><span class="p">]</span>
</span></pre></div>


    

                            </div>
                            <div id="DeclareModelCoder.decode_value" class="classattr">
                                        <input id="DeclareModelCoder.decode_value-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">decode_value</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">s</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="nb">str</span>:</span></span>

                <label class="view-source-button" for="DeclareModelCoder.decode_value-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareModelCoder.decode_value"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareModelCoder.decode_value-723"><a href="#DeclareModelCoder.decode_value-723"><span class="linenos">723</span></a>    <span class="k">def</span> <span class="nf">decode_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="DeclareModelCoder.decode_value-724"><a href="#DeclareModelCoder.decode_value-724"><span class="linenos">724</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="DeclareModelCoder.decode_value-725"><a href="#DeclareModelCoder.decode_value-725"><span class="linenos">725</span></a>            <span class="k">return</span> <span class="n">s</span>
</span><span id="DeclareModelCoder.decode_value-726"><a href="#DeclareModelCoder.decode_value-726"><span class="linenos">726</span></a>        <span class="k">if</span> <span class="s2">&quot;ENCODEDSTRINGENCODEDSTRING&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>  <span class="c1"># s doesn&#39;t have ENCODEDSTRINGENCODEDSTRING then its already decoded</span>
</span><span id="DeclareModelCoder.decode_value-727"><a href="#DeclareModelCoder.decode_value-727"><span class="linenos">727</span></a>            <span class="k">return</span> <span class="n">s</span>
</span><span id="DeclareModelCoder.decode_value-728"><a href="#DeclareModelCoder.decode_value-728"><span class="linenos">728</span></a>        <span class="n">vals</span><span class="p">:</span> <span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">encoded_dict</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>  <span class="c1"># [&quot;..&quot;, &quot;..&quot;]</span>
</span><span id="DeclareModelCoder.decode_value-729"><a href="#DeclareModelCoder.decode_value-729"><span class="linenos">729</span></a>        <span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="DeclareModelCoder.decode_value-730"><a href="#DeclareModelCoder.decode_value-730"><span class="linenos">730</span></a>        <span class="k">if</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">vals</span><span class="p">:</span>
</span><span id="DeclareModelCoder.decode_value-731"><a href="#DeclareModelCoder.decode_value-731"><span class="linenos">731</span></a>            <span class="n">idx</span> <span class="o">=</span> <span class="n">vals</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</span><span id="DeclareModelCoder.decode_value-732"><a href="#DeclareModelCoder.decode_value-732"><span class="linenos">732</span></a>            <span class="k">if</span> <span class="n">idx</span> <span class="o">&lt;=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
</span><span id="DeclareModelCoder.decode_value-733"><a href="#DeclareModelCoder.decode_value-733"><span class="linenos">733</span></a>                <span class="k">return</span> <span class="n">s</span>
</span><span id="DeclareModelCoder.decode_value-734"><a href="#DeclareModelCoder.decode_value-734"><span class="linenos">734</span></a>            <span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;EEEQUALSIGNNN&quot;</span><span class="p">,</span> <span class="s2">&quot;=&quot;</span><span class="p">)</span>
</span><span id="DeclareModelCoder.decode_value-735"><a href="#DeclareModelCoder.decode_value-735"><span class="linenos">735</span></a>            <span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;ENCODEDSTRINGENCODEDSTRING&quot;</span><span class="p">,</span> <span class="s2">&quot;=&quot;</span><span class="p">)</span>
</span><span id="DeclareModelCoder.decode_value-736"><a href="#DeclareModelCoder.decode_value-736"><span class="linenos">736</span></a>            <span class="k">if</span> <span class="n">s</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;lowerlower&quot;</span><span class="p">):</span>
</span><span id="DeclareModelCoder.decode_value-737"><a href="#DeclareModelCoder.decode_value-737"><span class="linenos">737</span></a>                <span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;lowerlower&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="DeclareModelCoder.decode_value-738"><a href="#DeclareModelCoder.decode_value-738"><span class="linenos">738</span></a>            <span class="n">n_val</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</span><span id="DeclareModelCoder.decode_value-739"><a href="#DeclareModelCoder.decode_value-739"><span class="linenos">739</span></a>            <span class="n">s</span> <span class="o">=</span> <span class="n">n_val</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
</span><span id="DeclareModelCoder.decode_value-740"><a href="#DeclareModelCoder.decode_value-740"><span class="linenos">740</span></a>            <span class="k">if</span> <span class="n">s</span><span class="o">.</span><span class="fm">__contains__</span><span class="p">(</span><span class="s2">&quot;ENCODEDSTRINGENCODEDSTRING&quot;</span><span class="p">):</span>
</span><span id="DeclareModelCoder.decode_value-741"><a href="#DeclareModelCoder.decode_value-741"><span class="linenos">741</span></a>                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">decode_value</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</span><span id="DeclareModelCoder.decode_value-742"><a href="#DeclareModelCoder.decode_value-742"><span class="linenos">742</span></a>        <span class="k">return</span> <span class="n">s</span>
</span></pre></div>


    

                            </div>
                </section>
                <section id="DeclareModel">
                            <input id="DeclareModel-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">DeclareModel</span><wbr>(<span class="base">typing.Generic[~T]</span>):

                <label class="view-source-button" for="DeclareModel-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareModel"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareModel-745"><a href="#DeclareModel-745"><span class="linenos">745</span></a><span class="k">class</span> <span class="nc">DeclareModel</span><span class="p">(</span><span class="n">LTLModel</span><span class="p">):</span>
</span><span id="DeclareModel-746"><a href="#DeclareModel-746"><span class="linenos">746</span></a>    <span class="n">CONSTRAINTS_TEMPLATES_PATTERN</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;^(.*)\[(.*)\]\s*(.*)$&quot;</span>
</span><span id="DeclareModel-747"><a href="#DeclareModel-747"><span class="linenos">747</span></a>
</span><span id="DeclareModel-748"><a href="#DeclareModel-748"><span class="linenos">748</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="DeclareModel-749"><a href="#DeclareModel-749"><span class="linenos">749</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
</span><span id="DeclareModel-750"><a href="#DeclareModel-750"><span class="linenos">750</span></a>        <span class="c1"># self.activities = []</span>
</span><span id="DeclareModel-751"><a href="#DeclareModel-751"><span class="linenos">751</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">serialized_constraints</span><span class="p">:</span> <span class="n">List</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="DeclareModel-752"><a href="#DeclareModel-752"><span class="linenos">752</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">constraints</span><span class="p">:</span> <span class="n">List</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="DeclareModel-753"><a href="#DeclareModel-753"><span class="linenos">753</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">parsed_model</span><span class="p">:</span> <span class="n">DeclareParsedDataModel</span> <span class="o">=</span> <span class="n">DeclareParsedDataModel</span><span class="p">()</span>
</span><span id="DeclareModel-754"><a href="#DeclareModel-754"><span class="linenos">754</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">declare_model_lines</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="DeclareModel-755"><a href="#DeclareModel-755"><span class="linenos">755</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">declare_model_violate_constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="DeclareModel-756"><a href="#DeclareModel-756"><span class="linenos">756</span></a>
</span><span id="DeclareModel-757"><a href="#DeclareModel-757"><span class="linenos">757</span></a>    <span class="k">def</span> <span class="nf">set_constraints</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="DeclareModel-758"><a href="#DeclareModel-758"><span class="linenos">758</span></a>        <span class="n">constraint_str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</span><span id="DeclareModel-759"><a href="#DeclareModel-759"><span class="linenos">759</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">constraints</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="DeclareModel-760"><a href="#DeclareModel-760"><span class="linenos">760</span></a>            <span class="k">for</span> <span class="n">constraint</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">constraints</span><span class="p">:</span>
</span><span id="DeclareModel-761"><a href="#DeclareModel-761"><span class="linenos">761</span></a>                <span class="n">constraint_str</span> <span class="o">=</span> <span class="n">constraint</span><span class="p">[</span><span class="s1">&#39;template&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">templ_str</span>
</span><span id="DeclareModel-762"><a href="#DeclareModel-762"><span class="linenos">762</span></a>                <span class="k">if</span> <span class="n">constraint</span><span class="p">[</span><span class="s1">&#39;template&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">supports_cardinality</span><span class="p">:</span>
</span><span id="DeclareModel-763"><a href="#DeclareModel-763"><span class="linenos">763</span></a>                    <span class="n">constraint_str</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="n">constraint</span><span class="p">[</span><span class="s1">&#39;n&#39;</span><span class="p">])</span>
</span><span id="DeclareModel-764"><a href="#DeclareModel-764"><span class="linenos">764</span></a>                <span class="n">constraint_str</span> <span class="o">+=</span> <span class="s1">&#39;[&#39;</span> <span class="o">+</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">constraint</span><span class="p">[</span><span class="s2">&quot;activities&quot;</span><span class="p">])</span> <span class="o">+</span> <span class="s1">&#39;] |&#39;</span> <span class="o">+</span> <span class="s1">&#39; |&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">constraint</span><span class="p">[</span><span class="s2">&quot;condition&quot;</span><span class="p">])</span>
</span><span id="DeclareModel-765"><a href="#DeclareModel-765"><span class="linenos">765</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">serialized_constraints</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">constraint_str</span><span class="p">)</span>
</span><span id="DeclareModel-766"><a href="#DeclareModel-766"><span class="linenos">766</span></a>
</span><span id="DeclareModel-767"><a href="#DeclareModel-767"><span class="linenos">767</span></a>    <span class="k">def</span> <span class="nf">get_decl_model_constraints</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="DeclareModel-768"><a href="#DeclareModel-768"><span class="linenos">768</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">serialized_constraints</span>
</span><span id="DeclareModel-769"><a href="#DeclareModel-769"><span class="linenos">769</span></a>
</span><span id="DeclareModel-770"><a href="#DeclareModel-770"><span class="linenos">770</span></a>    <span class="k">def</span> <span class="nf">parse_from_string</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">content</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">new_line_ctrl</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DeclareModel</span><span class="p">:</span>
</span><span id="DeclareModel-771"><a href="#DeclareModel-771"><span class="linenos">771</span></a>        <span class="n">lines</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">new_line_ctrl</span><span class="p">)</span>
</span><span id="DeclareModel-772"><a href="#DeclareModel-772"><span class="linenos">772</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">declare_model_lines</span> <span class="o">=</span> <span class="n">lines</span>
</span><span id="DeclareModel-773"><a href="#DeclareModel-773"><span class="linenos">773</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>
</span><span id="DeclareModel-774"><a href="#DeclareModel-774"><span class="linenos">774</span></a>        <span class="k">return</span> <span class="bp">self</span>
</span><span id="DeclareModel-775"><a href="#DeclareModel-775"><span class="linenos">775</span></a>
</span><span id="DeclareModel-776"><a href="#DeclareModel-776"><span class="linenos">776</span></a>    <span class="k">def</span> <span class="nf">parse_from_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DeclareModel</span><span class="p">:</span>
</span><span id="DeclareModel-777"><a href="#DeclareModel-777"><span class="linenos">777</span></a>        <span class="n">lines</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="DeclareModel-778"><a href="#DeclareModel-778"><span class="linenos">778</span></a>        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s2">&quot;r+&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
</span><span id="DeclareModel-779"><a href="#DeclareModel-779"><span class="linenos">779</span></a>            <span class="n">lines</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
</span><span id="DeclareModel-780"><a href="#DeclareModel-780"><span class="linenos">780</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">declare_model_lines</span> <span class="o">=</span> <span class="n">lines</span>
</span><span id="DeclareModel-781"><a href="#DeclareModel-781"><span class="linenos">781</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>
</span><span id="DeclareModel-782"><a href="#DeclareModel-782"><span class="linenos">782</span></a>        <span class="k">return</span> <span class="bp">self</span>
</span><span id="DeclareModel-783"><a href="#DeclareModel-783"><span class="linenos">783</span></a>
</span><span id="DeclareModel-784"><a href="#DeclareModel-784"><span class="linenos">784</span></a>    <span class="k">def</span> <span class="nf">parse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">lines</span><span class="p">:</span> <span class="p">[</span><span class="nb">str</span><span class="p">]):</span>
</span><span id="DeclareModel-785"><a href="#DeclareModel-785"><span class="linenos">785</span></a>        <span class="n">declare_parsed_model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parsed_model</span>
</span><span id="DeclareModel-786"><a href="#DeclareModel-786"><span class="linenos">786</span></a>        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
</span><span id="DeclareModel-787"><a href="#DeclareModel-787"><span class="linenos">787</span></a>            <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="DeclareModel-788"><a href="#DeclareModel-788"><span class="linenos">788</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">line</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">1</span> <span class="ow">or</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;#&quot;</span><span class="p">):</span>  <span class="c1"># line starting with # considered a comment line</span>
</span><span id="DeclareModel-789"><a href="#DeclareModel-789"><span class="linenos">789</span></a>                <span class="k">continue</span>
</span><span id="DeclareModel-790"><a href="#DeclareModel-790"><span class="linenos">790</span></a>            <span class="k">if</span> <span class="n">DeclareModel</span><span class="o">.</span><span class="n">is_event_name_definition</span><span class="p">(</span><span class="n">line</span><span class="p">):</span>  <span class="c1"># split[0].strip() == &#39;activity&#39;:</span>
</span><span id="DeclareModel-791"><a href="#DeclareModel-791"><span class="linenos">791</span></a>                <span class="n">split</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span><span id="DeclareModel-792"><a href="#DeclareModel-792"><span class="linenos">792</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">activities</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">split</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
</span><span id="DeclareModel-793"><a href="#DeclareModel-793"><span class="linenos">793</span></a>                <span class="n">declare_parsed_model</span><span class="o">.</span><span class="n">add_event</span><span class="p">(</span><span class="n">split</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">split</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</span><span id="DeclareModel-794"><a href="#DeclareModel-794"><span class="linenos">794</span></a>            <span class="k">elif</span> <span class="n">DeclareModel</span><span class="o">.</span><span class="n">is_event_attributes_definition</span><span class="p">(</span><span class="n">line</span><span class="p">):</span>
</span><span id="DeclareModel-795"><a href="#DeclareModel-795"><span class="linenos">795</span></a>                <span class="n">split</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;: &quot;</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># Assume complex &quot;bind act3: categorical, integer, org:group&quot;</span>
</span><span id="DeclareModel-796"><a href="#DeclareModel-796"><span class="linenos">796</span></a>                <span class="n">event_name</span> <span class="o">=</span> <span class="n">split</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="DeclareModel-797"><a href="#DeclareModel-797"><span class="linenos">797</span></a>                <span class="n">attrs</span> <span class="o">=</span> <span class="n">split</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="p">)</span>
</span><span id="DeclareModel-798"><a href="#DeclareModel-798"><span class="linenos">798</span></a>                <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">attrs</span><span class="p">:</span>
</span><span id="DeclareModel-799"><a href="#DeclareModel-799"><span class="linenos">799</span></a>                    <span class="n">declare_parsed_model</span><span class="o">.</span><span class="n">add_attribute</span><span class="p">(</span><span class="n">event_name</span><span class="p">,</span> <span class="n">attr</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
</span><span id="DeclareModel-800"><a href="#DeclareModel-800"><span class="linenos">800</span></a>            <span class="k">elif</span> <span class="n">DeclareModel</span><span class="o">.</span><span class="n">is_events_attrs_value_definition</span><span class="p">(</span><span class="n">line</span><span class="p">):</span>
</span><span id="DeclareModel-801"><a href="#DeclareModel-801"><span class="linenos">801</span></a><span class="w">                </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DeclareModel-802"><a href="#DeclareModel-802"><span class="linenos">802</span></a><span class="sd">                SOME OF Possible lines for assigning values to attribute</span>
</span><span id="DeclareModel-803"><a href="#DeclareModel-803"><span class="linenos">803</span></a>
</span><span id="DeclareModel-804"><a href="#DeclareModel-804"><span class="linenos">804</span></a><span class="sd">                categorical: c1, c2, c3</span>
</span><span id="DeclareModel-805"><a href="#DeclareModel-805"><span class="linenos">805</span></a><span class="sd">                categorical: group1:v1, group1:v2, group3:v1 </span>
</span><span id="DeclareModel-806"><a href="#DeclareModel-806"><span class="linenos">806</span></a><span class="sd">                cat1, cat2: group1:v1, group1:v2, group3:v1 </span>
</span><span id="DeclareModel-807"><a href="#DeclareModel-807"><span class="linenos">807</span></a><span class="sd">                price:art1, price:art2, cat2: group1:v1, group1:v2, group3:v1 </span>
</span><span id="DeclareModel-808"><a href="#DeclareModel-808"><span class="linenos">808</span></a><span class="sd">                integer: integer between 0 and 100</span>
</span><span id="DeclareModel-809"><a href="#DeclareModel-809"><span class="linenos">809</span></a><span class="sd">                org:resource: 10</span>
</span><span id="DeclareModel-810"><a href="#DeclareModel-810"><span class="linenos">810</span></a><span class="sd">                org:resource, org:vote: 10</span>
</span><span id="DeclareModel-811"><a href="#DeclareModel-811"><span class="linenos">811</span></a><span class="sd">                org:vote, grade: 9</span>
</span><span id="DeclareModel-812"><a href="#DeclareModel-812"><span class="linenos">812</span></a><span class="sd">                org:categorical: integer between 0 and 100</span>
</span><span id="DeclareModel-813"><a href="#DeclareModel-813"><span class="linenos">813</span></a><span class="sd">                categorical: integer between 0 and 100</span>
</span><span id="DeclareModel-814"><a href="#DeclareModel-814"><span class="linenos">814</span></a><span class="sd">                base, mark: integer between -30 and 100</span>
</span><span id="DeclareModel-815"><a href="#DeclareModel-815"><span class="linenos">815</span></a><span class="sd">                org:res, grade, concept:name: integer between 0 and 100</span>
</span><span id="DeclareModel-816"><a href="#DeclareModel-816"><span class="linenos">816</span></a><span class="sd">                &quot;&quot;&quot;</span>
</span><span id="DeclareModel-817"><a href="#DeclareModel-817"><span class="linenos">817</span></a>                <span class="c1"># consider this complex line: price:art1, price:art2, cat2: group1:v1, group1:v2, group3:v1</span>
</span><span id="DeclareModel-818"><a href="#DeclareModel-818"><span class="linenos">818</span></a>                <span class="n">split</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;: &quot;</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span><span id="DeclareModel-819"><a href="#DeclareModel-819"><span class="linenos">819</span></a>                <span class="n">attributes_list</span> <span class="o">=</span> <span class="n">split</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># price:art1, price:art2, cat2</span>
</span><span id="DeclareModel-820"><a href="#DeclareModel-820"><span class="linenos">820</span></a>                <span class="n">attributes_list</span> <span class="o">=</span> <span class="n">attributes_list</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
</span><span id="DeclareModel-821"><a href="#DeclareModel-821"><span class="linenos">821</span></a>                <span class="n">value</span> <span class="o">=</span> <span class="n">split</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="DeclareModel-822"><a href="#DeclareModel-822"><span class="linenos">822</span></a>                <span class="n">typ</span> <span class="o">=</span> <span class="n">DeclareModel</span><span class="o">.</span><span class="n">detect_declare_attr_value_type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</span><span id="DeclareModel-823"><a href="#DeclareModel-823"><span class="linenos">823</span></a>                <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">attributes_list</span><span class="p">:</span>
</span><span id="DeclareModel-824"><a href="#DeclareModel-824"><span class="linenos">824</span></a>                    <span class="n">declare_parsed_model</span><span class="o">.</span><span class="n">add_attribute_value</span><span class="p">(</span><span class="n">attr</span><span class="p">,</span> <span class="n">typ</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span><span id="DeclareModel-825"><a href="#DeclareModel-825"><span class="linenos">825</span></a>            <span class="k">elif</span> <span class="n">DeclareModel</span><span class="o">.</span><span class="n">is_constraint_template_definition</span><span class="p">(</span><span class="n">line</span><span class="p">):</span>
</span><span id="DeclareModel-826"><a href="#DeclareModel-826"><span class="linenos">826</span></a>                <span class="n">split</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;[&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="DeclareModel-827"><a href="#DeclareModel-827"><span class="linenos">827</span></a>                <span class="n">template_search</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(^.+?)(\d*$)&#39;</span><span class="p">,</span> <span class="n">split</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</span><span id="DeclareModel-828"><a href="#DeclareModel-828"><span class="linenos">828</span></a>                <span class="k">if</span> <span class="n">template_search</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DeclareModel-829"><a href="#DeclareModel-829"><span class="linenos">829</span></a>                    <span class="n">template_str</span><span class="p">,</span> <span class="n">cardinality</span> <span class="o">=</span> <span class="n">template_search</span><span class="o">.</span><span class="n">groups</span><span class="p">()</span>
</span><span id="DeclareModel-830"><a href="#DeclareModel-830"><span class="linenos">830</span></a>                    <span class="n">template</span> <span class="o">=</span> <span class="n">DeclareModelTemplate</span><span class="o">.</span><span class="n">get_template_from_string</span><span class="p">(</span><span class="n">template_str</span><span class="p">)</span>
</span><span id="DeclareModel-831"><a href="#DeclareModel-831"><span class="linenos">831</span></a>                    <span class="k">if</span> <span class="n">template</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DeclareModel-832"><a href="#DeclareModel-832"><span class="linenos">832</span></a>                        <span class="n">activities</span> <span class="o">=</span> <span class="n">split</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;]&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="DeclareModel-833"><a href="#DeclareModel-833"><span class="linenos">833</span></a>                        <span class="n">activities</span> <span class="o">=</span> <span class="n">activities</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;, &quot;</span><span class="p">)</span>
</span><span id="DeclareModel-834"><a href="#DeclareModel-834"><span class="linenos">834</span></a>                        <span class="n">tmp</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;template&quot;</span><span class="p">:</span> <span class="n">template</span><span class="p">,</span> <span class="s2">&quot;activities&quot;</span><span class="p">:</span> <span class="n">activities</span><span class="p">,</span>
</span><span id="DeclareModel-835"><a href="#DeclareModel-835"><span class="linenos">835</span></a>                               <span class="s2">&quot;condition&quot;</span><span class="p">:</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\s+\|&#39;</span><span class="p">,</span> <span class="n">line</span><span class="p">)[</span><span class="mi">1</span><span class="p">:]}</span>
</span><span id="DeclareModel-836"><a href="#DeclareModel-836"><span class="linenos">836</span></a>                        <span class="k">if</span> <span class="n">template</span><span class="o">.</span><span class="n">supports_cardinality</span><span class="p">:</span>
</span><span id="DeclareModel-837"><a href="#DeclareModel-837"><span class="linenos">837</span></a>                            <span class="n">tmp</span><span class="p">[</span><span class="s1">&#39;n&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">cardinality</span> <span class="k">else</span> <span class="nb">int</span><span class="p">(</span><span class="n">cardinality</span><span class="p">)</span>
</span><span id="DeclareModel-838"><a href="#DeclareModel-838"><span class="linenos">838</span></a>                            <span class="n">cardinality</span> <span class="o">=</span> <span class="n">tmp</span><span class="p">[</span><span class="s1">&#39;n&#39;</span><span class="p">]</span>
</span><span id="DeclareModel-839"><a href="#DeclareModel-839"><span class="linenos">839</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">constraints</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tmp</span><span class="p">)</span>
</span><span id="DeclareModel-840"><a href="#DeclareModel-840"><span class="linenos">840</span></a>                        <span class="n">declare_parsed_model</span><span class="o">.</span><span class="n">add_template</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">template</span><span class="p">,</span> <span class="n">cardinality</span><span class="p">)</span>
</span><span id="DeclareModel-841"><a href="#DeclareModel-841"><span class="linenos">841</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_constraints</span><span class="p">()</span>
</span><span id="DeclareModel-842"><a href="#DeclareModel-842"><span class="linenos">842</span></a>        <span class="n">declare_parsed_model</span><span class="o">.</span><span class="n">template_constraints</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">constraints</span>
</span><span id="DeclareModel-843"><a href="#DeclareModel-843"><span class="linenos">843</span></a>
</span><span id="DeclareModel-844"><a href="#DeclareModel-844"><span class="linenos">844</span></a>    <span class="nd">@staticmethod</span>
</span><span id="DeclareModel-845"><a href="#DeclareModel-845"><span class="linenos">845</span></a>    <span class="k">def</span> <span class="nf">is_event_name_definition</span><span class="p">(</span><span class="n">line</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="DeclareModel-846"><a href="#DeclareModel-846"><span class="linenos">846</span></a>        <span class="n">x</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;^\w+ [\w ]+$&quot;</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">MULTILINE</span><span class="p">)</span>
</span><span id="DeclareModel-847"><a href="#DeclareModel-847"><span class="linenos">847</span></a>        <span class="k">return</span> <span class="n">x</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
</span><span id="DeclareModel-848"><a href="#DeclareModel-848"><span class="linenos">848</span></a>
</span><span id="DeclareModel-849"><a href="#DeclareModel-849"><span class="linenos">849</span></a>    <span class="nd">@staticmethod</span>
</span><span id="DeclareModel-850"><a href="#DeclareModel-850"><span class="linenos">850</span></a>    <span class="k">def</span> <span class="nf">is_event_attributes_definition</span><span class="p">(</span><span class="n">line</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="DeclareModel-851"><a href="#DeclareModel-851"><span class="linenos">851</span></a>        <span class="n">x</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s2">&quot;^bind (.*?)+$&quot;</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">MULTILINE</span><span class="p">)</span>
</span><span id="DeclareModel-852"><a href="#DeclareModel-852"><span class="linenos">852</span></a>        <span class="k">return</span> <span class="n">x</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
</span><span id="DeclareModel-853"><a href="#DeclareModel-853"><span class="linenos">853</span></a>
</span><span id="DeclareModel-854"><a href="#DeclareModel-854"><span class="linenos">854</span></a>    <span class="nd">@staticmethod</span>
</span><span id="DeclareModel-855"><a href="#DeclareModel-855"><span class="linenos">855</span></a>    <span class="k">def</span> <span class="nf">is_events_attrs_value_definition</span><span class="p">(</span><span class="n">line</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="DeclareModel-856"><a href="#DeclareModel-856"><span class="linenos">856</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DeclareModel-857"><a href="#DeclareModel-857"><span class="linenos">857</span></a><span class="sd">        categorical: c1, c2, c3</span>
</span><span id="DeclareModel-858"><a href="#DeclareModel-858"><span class="linenos">858</span></a><span class="sd">        categorical: group1:v1, group1:v2, group3:v1       &lt;-------- Fails to parse this line</span>
</span><span id="DeclareModel-859"><a href="#DeclareModel-859"><span class="linenos">859</span></a><span class="sd">        integer: integer between 0 and 100</span>
</span><span id="DeclareModel-860"><a href="#DeclareModel-860"><span class="linenos">860</span></a><span class="sd">        org:resource: 10</span>
</span><span id="DeclareModel-861"><a href="#DeclareModel-861"><span class="linenos">861</span></a><span class="sd">        org:resource, org:vote: 10</span>
</span><span id="DeclareModel-862"><a href="#DeclareModel-862"><span class="linenos">862</span></a><span class="sd">        org:vote, grade: 9</span>
</span><span id="DeclareModel-863"><a href="#DeclareModel-863"><span class="linenos">863</span></a><span class="sd">        org:categorical: integer between 0 and 100</span>
</span><span id="DeclareModel-864"><a href="#DeclareModel-864"><span class="linenos">864</span></a><span class="sd">        categorical: integer between 0 and 100</span>
</span><span id="DeclareModel-865"><a href="#DeclareModel-865"><span class="linenos">865</span></a><span class="sd">        base, mark: integer between 0 and 100</span>
</span><span id="DeclareModel-866"><a href="#DeclareModel-866"><span class="linenos">866</span></a><span class="sd">        org:res, grade, concept:name: integer between 0 and 100</span>
</span><span id="DeclareModel-867"><a href="#DeclareModel-867"><span class="linenos">867</span></a><span class="sd">        :param line: declare line</span>
</span><span id="DeclareModel-868"><a href="#DeclareModel-868"><span class="linenos">868</span></a><span class="sd">        :return:</span>
</span><span id="DeclareModel-869"><a href="#DeclareModel-869"><span class="linenos">869</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DeclareModel-870"><a href="#DeclareModel-870"><span class="linenos">870</span></a>        <span class="n">x</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;^(?!bind)([a-zA-Z_,0-9.?:\- ]+) *(: *[\w,.? \-]+)$&quot;</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">MULTILINE</span><span class="p">)</span>
</span><span id="DeclareModel-871"><a href="#DeclareModel-871"><span class="linenos">871</span></a>        <span class="k">if</span> <span class="n">x</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DeclareModel-872"><a href="#DeclareModel-872"><span class="linenos">872</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="DeclareModel-873"><a href="#DeclareModel-873"><span class="linenos">873</span></a>        <span class="n">groups_len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">groups</span><span class="p">())</span>
</span><span id="DeclareModel-874"><a href="#DeclareModel-874"><span class="linenos">874</span></a>        <span class="k">return</span> <span class="n">groups_len</span> <span class="o">&gt;=</span> <span class="mi">2</span>
</span><span id="DeclareModel-875"><a href="#DeclareModel-875"><span class="linenos">875</span></a>
</span><span id="DeclareModel-876"><a href="#DeclareModel-876"><span class="linenos">876</span></a>    <span class="nd">@staticmethod</span>
</span><span id="DeclareModel-877"><a href="#DeclareModel-877"><span class="linenos">877</span></a>    <span class="k">def</span> <span class="nf">is_constraint_template_definition</span><span class="p">(</span><span class="n">line</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="DeclareModel-878"><a href="#DeclareModel-878"><span class="linenos">878</span></a>        <span class="n">x</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">DeclareModel</span><span class="o">.</span><span class="n">CONSTRAINTS_TEMPLATES_PATTERN</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">MULTILINE</span><span class="p">)</span>
</span><span id="DeclareModel-879"><a href="#DeclareModel-879"><span class="linenos">879</span></a>        <span class="k">return</span> <span class="n">x</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
</span><span id="DeclareModel-880"><a href="#DeclareModel-880"><span class="linenos">880</span></a>
</span><span id="DeclareModel-881"><a href="#DeclareModel-881"><span class="linenos">881</span></a>    <span class="nd">@staticmethod</span>
</span><span id="DeclareModel-882"><a href="#DeclareModel-882"><span class="linenos">882</span></a>    <span class="k">def</span> <span class="nf">detect_declare_attr_value_type</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DeclareModelAttributeType</span><span class="p">:</span>
</span><span id="DeclareModel-883"><a href="#DeclareModel-883"><span class="linenos">883</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DeclareModel-884"><a href="#DeclareModel-884"><span class="linenos">884</span></a><span class="sd">        Detect the type of value assigned to an attribute assigned</span>
</span><span id="DeclareModel-885"><a href="#DeclareModel-885"><span class="linenos">885</span></a><span class="sd">        Parameters</span>
</span><span id="DeclareModel-886"><a href="#DeclareModel-886"><span class="linenos">886</span></a><span class="sd">        ----------</span>
</span><span id="DeclareModel-887"><a href="#DeclareModel-887"><span class="linenos">887</span></a><span class="sd">        value: assigned value</span>
</span><span id="DeclareModel-888"><a href="#DeclareModel-888"><span class="linenos">888</span></a><span class="sd">        Returns DeclareModelAttributeType</span>
</span><span id="DeclareModel-889"><a href="#DeclareModel-889"><span class="linenos">889</span></a><span class="sd">        -------</span>
</span><span id="DeclareModel-890"><a href="#DeclareModel-890"><span class="linenos">890</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DeclareModel-891"><a href="#DeclareModel-891"><span class="linenos">891</span></a>        <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="DeclareModel-892"><a href="#DeclareModel-892"><span class="linenos">892</span></a>        <span class="n">v2</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;  &quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="DeclareModel-893"><a href="#DeclareModel-893"><span class="linenos">893</span></a>        <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;^[+-]?\d+$&quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">MULTILINE</span><span class="p">):</span>
</span><span id="DeclareModel-894"><a href="#DeclareModel-894"><span class="linenos">894</span></a>            <span class="k">return</span> <span class="n">DeclareModelAttributeType</span><span class="o">.</span><span class="n">INTEGER</span>
</span><span id="DeclareModel-895"><a href="#DeclareModel-895"><span class="linenos">895</span></a>        <span class="k">elif</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;^[+-]?\d+(?:\.\d+)?$&quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">MULTILINE</span><span class="p">):</span>
</span><span id="DeclareModel-896"><a href="#DeclareModel-896"><span class="linenos">896</span></a>            <span class="k">return</span> <span class="n">DeclareModelAttributeType</span><span class="o">.</span><span class="n">FLOAT</span>
</span><span id="DeclareModel-897"><a href="#DeclareModel-897"><span class="linenos">897</span></a>        <span class="k">elif</span> <span class="n">v2</span> <span class="ow">and</span> <span class="n">v2</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;integer between&quot;</span><span class="p">):</span>
</span><span id="DeclareModel-898"><a href="#DeclareModel-898"><span class="linenos">898</span></a>            <span class="c1"># ^integer * between *[+-]?\d+(?:\.\d+)? *and [+-]?\d+(?:\.\d+)?$</span>
</span><span id="DeclareModel-899"><a href="#DeclareModel-899"><span class="linenos">899</span></a>            <span class="k">return</span> <span class="n">DeclareModelAttributeType</span><span class="o">.</span><span class="n">INTEGER_RANGE</span>
</span><span id="DeclareModel-900"><a href="#DeclareModel-900"><span class="linenos">900</span></a>        <span class="k">elif</span> <span class="n">v2</span> <span class="ow">and</span> <span class="n">v2</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;float between&quot;</span><span class="p">):</span>
</span><span id="DeclareModel-901"><a href="#DeclareModel-901"><span class="linenos">901</span></a>            <span class="c1"># ^float * between *[+-]?\d+(?:\.\d+)? *and [+-]?\d+(?:\.\d+)?$</span>
</span><span id="DeclareModel-902"><a href="#DeclareModel-902"><span class="linenos">902</span></a>            <span class="k">return</span> <span class="n">DeclareModelAttributeType</span><span class="o">.</span><span class="n">FLOAT_RANGE</span>
</span><span id="DeclareModel-903"><a href="#DeclareModel-903"><span class="linenos">903</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="DeclareModel-904"><a href="#DeclareModel-904"><span class="linenos">904</span></a>            <span class="k">return</span> <span class="n">DeclareModelAttributeType</span><span class="o">.</span><span class="n">ENUMERATION</span>
</span><span id="DeclareModel-905"><a href="#DeclareModel-905"><span class="linenos">905</span></a>
</span><span id="DeclareModel-906"><a href="#DeclareModel-906"><span class="linenos">906</span></a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="DeclareModel-907"><a href="#DeclareModel-907"><span class="linenos">907</span></a>        <span class="n">st</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span><span class="se">{{</span><span class="s2">&quot;activities&quot;: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">activities</span><span class="si">}</span><span class="s2">, &quot;serialized_constraints&quot;: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">serialized_constraints</span><span class="si">}</span><span class="s2">,</span><span class="se">\</span>
</span><span id="DeclareModel-908"><a href="#DeclareModel-908"><span class="linenos">908</span></a><span class="s2">        &quot;constraints&quot;: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">constraints</span><span class="si">}</span><span class="s2">, &quot;parsed_model&quot;: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">parsed_model</span><span class="o">.</span><span class="n">to_json</span><span class="p">()</span><span class="si">}</span><span class="s2"> </span><span class="se">}}</span><span class="s2"> &quot;&quot;&quot;</span>
</span><span id="DeclareModel-909"><a href="#DeclareModel-909"><span class="linenos">909</span></a>        <span class="k">return</span> <span class="n">st</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;&#39;&quot;</span><span class="p">,</span> <span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Abstract base class for generic types.</p>

<p>A generic type is typically declared by inheriting from
this class parameterized with one or more type variables.
For example, a generic mapping type might be defined as::</p>

<p>class Mapping(Generic[KT, VT]):
      def __getitem__(self, key: KT) -> VT:
          ...
      # Etc.</p>

<p>This class can then be used as follows::</p>

<p>def lookup_name(mapping: Mapping[KT, VT], key: KT, default: VT) -> VT:
      try:
          return mapping[key]
      except KeyError:
          return default</p>
</div>


                            <div id="DeclareModel.__init__" class="classattr">
                                        <input id="DeclareModel.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">DeclareModel</span><span class="signature pdoc-code condensed">()</span>

                <label class="view-source-button" for="DeclareModel.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareModel.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareModel.__init__-748"><a href="#DeclareModel.__init__-748"><span class="linenos">748</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="DeclareModel.__init__-749"><a href="#DeclareModel.__init__-749"><span class="linenos">749</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
</span><span id="DeclareModel.__init__-750"><a href="#DeclareModel.__init__-750"><span class="linenos">750</span></a>        <span class="c1"># self.activities = []</span>
</span><span id="DeclareModel.__init__-751"><a href="#DeclareModel.__init__-751"><span class="linenos">751</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">serialized_constraints</span><span class="p">:</span> <span class="n">List</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="DeclareModel.__init__-752"><a href="#DeclareModel.__init__-752"><span class="linenos">752</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">constraints</span><span class="p">:</span> <span class="n">List</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="DeclareModel.__init__-753"><a href="#DeclareModel.__init__-753"><span class="linenos">753</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">parsed_model</span><span class="p">:</span> <span class="n">DeclareParsedDataModel</span> <span class="o">=</span> <span class="n">DeclareParsedDataModel</span><span class="p">()</span>
</span><span id="DeclareModel.__init__-754"><a href="#DeclareModel.__init__-754"><span class="linenos">754</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">declare_model_lines</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="DeclareModel.__init__-755"><a href="#DeclareModel.__init__-755"><span class="linenos">755</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">declare_model_violate_constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span></pre></div>


    

                            </div>
                            <div id="DeclareModel.set_constraints" class="classattr">
                                        <input id="DeclareModel.set_constraints-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_constraints</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DeclareModel.set_constraints-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareModel.set_constraints"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareModel.set_constraints-757"><a href="#DeclareModel.set_constraints-757"><span class="linenos">757</span></a>    <span class="k">def</span> <span class="nf">set_constraints</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="DeclareModel.set_constraints-758"><a href="#DeclareModel.set_constraints-758"><span class="linenos">758</span></a>        <span class="n">constraint_str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</span><span id="DeclareModel.set_constraints-759"><a href="#DeclareModel.set_constraints-759"><span class="linenos">759</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">constraints</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="DeclareModel.set_constraints-760"><a href="#DeclareModel.set_constraints-760"><span class="linenos">760</span></a>            <span class="k">for</span> <span class="n">constraint</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">constraints</span><span class="p">:</span>
</span><span id="DeclareModel.set_constraints-761"><a href="#DeclareModel.set_constraints-761"><span class="linenos">761</span></a>                <span class="n">constraint_str</span> <span class="o">=</span> <span class="n">constraint</span><span class="p">[</span><span class="s1">&#39;template&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">templ_str</span>
</span><span id="DeclareModel.set_constraints-762"><a href="#DeclareModel.set_constraints-762"><span class="linenos">762</span></a>                <span class="k">if</span> <span class="n">constraint</span><span class="p">[</span><span class="s1">&#39;template&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">supports_cardinality</span><span class="p">:</span>
</span><span id="DeclareModel.set_constraints-763"><a href="#DeclareModel.set_constraints-763"><span class="linenos">763</span></a>                    <span class="n">constraint_str</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="n">constraint</span><span class="p">[</span><span class="s1">&#39;n&#39;</span><span class="p">])</span>
</span><span id="DeclareModel.set_constraints-764"><a href="#DeclareModel.set_constraints-764"><span class="linenos">764</span></a>                <span class="n">constraint_str</span> <span class="o">+=</span> <span class="s1">&#39;[&#39;</span> <span class="o">+</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">constraint</span><span class="p">[</span><span class="s2">&quot;activities&quot;</span><span class="p">])</span> <span class="o">+</span> <span class="s1">&#39;] |&#39;</span> <span class="o">+</span> <span class="s1">&#39; |&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">constraint</span><span class="p">[</span><span class="s2">&quot;condition&quot;</span><span class="p">])</span>
</span><span id="DeclareModel.set_constraints-765"><a href="#DeclareModel.set_constraints-765"><span class="linenos">765</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">serialized_constraints</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">constraint_str</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="DeclareModel.get_decl_model_constraints" class="classattr">
                                        <input id="DeclareModel.get_decl_model_constraints-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_decl_model_constraints</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DeclareModel.get_decl_model_constraints-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareModel.get_decl_model_constraints"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareModel.get_decl_model_constraints-767"><a href="#DeclareModel.get_decl_model_constraints-767"><span class="linenos">767</span></a>    <span class="k">def</span> <span class="nf">get_decl_model_constraints</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="DeclareModel.get_decl_model_constraints-768"><a href="#DeclareModel.get_decl_model_constraints-768"><span class="linenos">768</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">serialized_constraints</span>
</span></pre></div>


    

                            </div>
                            <div id="DeclareModel.parse_from_string" class="classattr">
                                        <input id="DeclareModel.parse_from_string-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">parse_from_string</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">content</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">new_line_ctrl</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span></span><span class="return-annotation">) -> <span class="n"><a href="#DeclareModel">src.declare4py.ProcessModels.DeclareModel.DeclareModel</a></span>:</span></span>

                <label class="view-source-button" for="DeclareModel.parse_from_string-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareModel.parse_from_string"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareModel.parse_from_string-770"><a href="#DeclareModel.parse_from_string-770"><span class="linenos">770</span></a>    <span class="k">def</span> <span class="nf">parse_from_string</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">content</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">new_line_ctrl</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DeclareModel</span><span class="p">:</span>
</span><span id="DeclareModel.parse_from_string-771"><a href="#DeclareModel.parse_from_string-771"><span class="linenos">771</span></a>        <span class="n">lines</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">new_line_ctrl</span><span class="p">)</span>
</span><span id="DeclareModel.parse_from_string-772"><a href="#DeclareModel.parse_from_string-772"><span class="linenos">772</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">declare_model_lines</span> <span class="o">=</span> <span class="n">lines</span>
</span><span id="DeclareModel.parse_from_string-773"><a href="#DeclareModel.parse_from_string-773"><span class="linenos">773</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>
</span><span id="DeclareModel.parse_from_string-774"><a href="#DeclareModel.parse_from_string-774"><span class="linenos">774</span></a>        <span class="k">return</span> <span class="bp">self</span>
</span></pre></div>


    

                            </div>
                            <div id="DeclareModel.parse_from_file" class="classattr">
                                        <input id="DeclareModel.parse_from_file-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">parse_from_file</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">filename</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">) -> <span class="n"><a href="#DeclareModel">src.declare4py.ProcessModels.DeclareModel.DeclareModel</a></span>:</span></span>

                <label class="view-source-button" for="DeclareModel.parse_from_file-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareModel.parse_from_file"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareModel.parse_from_file-776"><a href="#DeclareModel.parse_from_file-776"><span class="linenos">776</span></a>    <span class="k">def</span> <span class="nf">parse_from_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DeclareModel</span><span class="p">:</span>
</span><span id="DeclareModel.parse_from_file-777"><a href="#DeclareModel.parse_from_file-777"><span class="linenos">777</span></a>        <span class="n">lines</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="DeclareModel.parse_from_file-778"><a href="#DeclareModel.parse_from_file-778"><span class="linenos">778</span></a>        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s2">&quot;r+&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
</span><span id="DeclareModel.parse_from_file-779"><a href="#DeclareModel.parse_from_file-779"><span class="linenos">779</span></a>            <span class="n">lines</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
</span><span id="DeclareModel.parse_from_file-780"><a href="#DeclareModel.parse_from_file-780"><span class="linenos">780</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">declare_model_lines</span> <span class="o">=</span> <span class="n">lines</span>
</span><span id="DeclareModel.parse_from_file-781"><a href="#DeclareModel.parse_from_file-781"><span class="linenos">781</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>
</span><span id="DeclareModel.parse_from_file-782"><a href="#DeclareModel.parse_from_file-782"><span class="linenos">782</span></a>        <span class="k">return</span> <span class="bp">self</span>
</span></pre></div>


    

                            </div>
                            <div id="DeclareModel.parse" class="classattr">
                                        <input id="DeclareModel.parse-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">parse</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param">lines: [&lt;class &#x27;str&#x27;&gt;]</span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DeclareModel.parse-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareModel.parse"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareModel.parse-784"><a href="#DeclareModel.parse-784"><span class="linenos">784</span></a>    <span class="k">def</span> <span class="nf">parse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">lines</span><span class="p">:</span> <span class="p">[</span><span class="nb">str</span><span class="p">]):</span>
</span><span id="DeclareModel.parse-785"><a href="#DeclareModel.parse-785"><span class="linenos">785</span></a>        <span class="n">declare_parsed_model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parsed_model</span>
</span><span id="DeclareModel.parse-786"><a href="#DeclareModel.parse-786"><span class="linenos">786</span></a>        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
</span><span id="DeclareModel.parse-787"><a href="#DeclareModel.parse-787"><span class="linenos">787</span></a>            <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="DeclareModel.parse-788"><a href="#DeclareModel.parse-788"><span class="linenos">788</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">line</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">1</span> <span class="ow">or</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;#&quot;</span><span class="p">):</span>  <span class="c1"># line starting with # considered a comment line</span>
</span><span id="DeclareModel.parse-789"><a href="#DeclareModel.parse-789"><span class="linenos">789</span></a>                <span class="k">continue</span>
</span><span id="DeclareModel.parse-790"><a href="#DeclareModel.parse-790"><span class="linenos">790</span></a>            <span class="k">if</span> <span class="n">DeclareModel</span><span class="o">.</span><span class="n">is_event_name_definition</span><span class="p">(</span><span class="n">line</span><span class="p">):</span>  <span class="c1"># split[0].strip() == &#39;activity&#39;:</span>
</span><span id="DeclareModel.parse-791"><a href="#DeclareModel.parse-791"><span class="linenos">791</span></a>                <span class="n">split</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span><span id="DeclareModel.parse-792"><a href="#DeclareModel.parse-792"><span class="linenos">792</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">activities</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">split</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
</span><span id="DeclareModel.parse-793"><a href="#DeclareModel.parse-793"><span class="linenos">793</span></a>                <span class="n">declare_parsed_model</span><span class="o">.</span><span class="n">add_event</span><span class="p">(</span><span class="n">split</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">split</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</span><span id="DeclareModel.parse-794"><a href="#DeclareModel.parse-794"><span class="linenos">794</span></a>            <span class="k">elif</span> <span class="n">DeclareModel</span><span class="o">.</span><span class="n">is_event_attributes_definition</span><span class="p">(</span><span class="n">line</span><span class="p">):</span>
</span><span id="DeclareModel.parse-795"><a href="#DeclareModel.parse-795"><span class="linenos">795</span></a>                <span class="n">split</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;: &quot;</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># Assume complex &quot;bind act3: categorical, integer, org:group&quot;</span>
</span><span id="DeclareModel.parse-796"><a href="#DeclareModel.parse-796"><span class="linenos">796</span></a>                <span class="n">event_name</span> <span class="o">=</span> <span class="n">split</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="DeclareModel.parse-797"><a href="#DeclareModel.parse-797"><span class="linenos">797</span></a>                <span class="n">attrs</span> <span class="o">=</span> <span class="n">split</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="p">)</span>
</span><span id="DeclareModel.parse-798"><a href="#DeclareModel.parse-798"><span class="linenos">798</span></a>                <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">attrs</span><span class="p">:</span>
</span><span id="DeclareModel.parse-799"><a href="#DeclareModel.parse-799"><span class="linenos">799</span></a>                    <span class="n">declare_parsed_model</span><span class="o">.</span><span class="n">add_attribute</span><span class="p">(</span><span class="n">event_name</span><span class="p">,</span> <span class="n">attr</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
</span><span id="DeclareModel.parse-800"><a href="#DeclareModel.parse-800"><span class="linenos">800</span></a>            <span class="k">elif</span> <span class="n">DeclareModel</span><span class="o">.</span><span class="n">is_events_attrs_value_definition</span><span class="p">(</span><span class="n">line</span><span class="p">):</span>
</span><span id="DeclareModel.parse-801"><a href="#DeclareModel.parse-801"><span class="linenos">801</span></a><span class="w">                </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DeclareModel.parse-802"><a href="#DeclareModel.parse-802"><span class="linenos">802</span></a><span class="sd">                SOME OF Possible lines for assigning values to attribute</span>
</span><span id="DeclareModel.parse-803"><a href="#DeclareModel.parse-803"><span class="linenos">803</span></a>
</span><span id="DeclareModel.parse-804"><a href="#DeclareModel.parse-804"><span class="linenos">804</span></a><span class="sd">                categorical: c1, c2, c3</span>
</span><span id="DeclareModel.parse-805"><a href="#DeclareModel.parse-805"><span class="linenos">805</span></a><span class="sd">                categorical: group1:v1, group1:v2, group3:v1 </span>
</span><span id="DeclareModel.parse-806"><a href="#DeclareModel.parse-806"><span class="linenos">806</span></a><span class="sd">                cat1, cat2: group1:v1, group1:v2, group3:v1 </span>
</span><span id="DeclareModel.parse-807"><a href="#DeclareModel.parse-807"><span class="linenos">807</span></a><span class="sd">                price:art1, price:art2, cat2: group1:v1, group1:v2, group3:v1 </span>
</span><span id="DeclareModel.parse-808"><a href="#DeclareModel.parse-808"><span class="linenos">808</span></a><span class="sd">                integer: integer between 0 and 100</span>
</span><span id="DeclareModel.parse-809"><a href="#DeclareModel.parse-809"><span class="linenos">809</span></a><span class="sd">                org:resource: 10</span>
</span><span id="DeclareModel.parse-810"><a href="#DeclareModel.parse-810"><span class="linenos">810</span></a><span class="sd">                org:resource, org:vote: 10</span>
</span><span id="DeclareModel.parse-811"><a href="#DeclareModel.parse-811"><span class="linenos">811</span></a><span class="sd">                org:vote, grade: 9</span>
</span><span id="DeclareModel.parse-812"><a href="#DeclareModel.parse-812"><span class="linenos">812</span></a><span class="sd">                org:categorical: integer between 0 and 100</span>
</span><span id="DeclareModel.parse-813"><a href="#DeclareModel.parse-813"><span class="linenos">813</span></a><span class="sd">                categorical: integer between 0 and 100</span>
</span><span id="DeclareModel.parse-814"><a href="#DeclareModel.parse-814"><span class="linenos">814</span></a><span class="sd">                base, mark: integer between -30 and 100</span>
</span><span id="DeclareModel.parse-815"><a href="#DeclareModel.parse-815"><span class="linenos">815</span></a><span class="sd">                org:res, grade, concept:name: integer between 0 and 100</span>
</span><span id="DeclareModel.parse-816"><a href="#DeclareModel.parse-816"><span class="linenos">816</span></a><span class="sd">                &quot;&quot;&quot;</span>
</span><span id="DeclareModel.parse-817"><a href="#DeclareModel.parse-817"><span class="linenos">817</span></a>                <span class="c1"># consider this complex line: price:art1, price:art2, cat2: group1:v1, group1:v2, group3:v1</span>
</span><span id="DeclareModel.parse-818"><a href="#DeclareModel.parse-818"><span class="linenos">818</span></a>                <span class="n">split</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;: &quot;</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span><span id="DeclareModel.parse-819"><a href="#DeclareModel.parse-819"><span class="linenos">819</span></a>                <span class="n">attributes_list</span> <span class="o">=</span> <span class="n">split</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># price:art1, price:art2, cat2</span>
</span><span id="DeclareModel.parse-820"><a href="#DeclareModel.parse-820"><span class="linenos">820</span></a>                <span class="n">attributes_list</span> <span class="o">=</span> <span class="n">attributes_list</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
</span><span id="DeclareModel.parse-821"><a href="#DeclareModel.parse-821"><span class="linenos">821</span></a>                <span class="n">value</span> <span class="o">=</span> <span class="n">split</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="DeclareModel.parse-822"><a href="#DeclareModel.parse-822"><span class="linenos">822</span></a>                <span class="n">typ</span> <span class="o">=</span> <span class="n">DeclareModel</span><span class="o">.</span><span class="n">detect_declare_attr_value_type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</span><span id="DeclareModel.parse-823"><a href="#DeclareModel.parse-823"><span class="linenos">823</span></a>                <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">attributes_list</span><span class="p">:</span>
</span><span id="DeclareModel.parse-824"><a href="#DeclareModel.parse-824"><span class="linenos">824</span></a>                    <span class="n">declare_parsed_model</span><span class="o">.</span><span class="n">add_attribute_value</span><span class="p">(</span><span class="n">attr</span><span class="p">,</span> <span class="n">typ</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span><span id="DeclareModel.parse-825"><a href="#DeclareModel.parse-825"><span class="linenos">825</span></a>            <span class="k">elif</span> <span class="n">DeclareModel</span><span class="o">.</span><span class="n">is_constraint_template_definition</span><span class="p">(</span><span class="n">line</span><span class="p">):</span>
</span><span id="DeclareModel.parse-826"><a href="#DeclareModel.parse-826"><span class="linenos">826</span></a>                <span class="n">split</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;[&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="DeclareModel.parse-827"><a href="#DeclareModel.parse-827"><span class="linenos">827</span></a>                <span class="n">template_search</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(^.+?)(\d*$)&#39;</span><span class="p">,</span> <span class="n">split</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</span><span id="DeclareModel.parse-828"><a href="#DeclareModel.parse-828"><span class="linenos">828</span></a>                <span class="k">if</span> <span class="n">template_search</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DeclareModel.parse-829"><a href="#DeclareModel.parse-829"><span class="linenos">829</span></a>                    <span class="n">template_str</span><span class="p">,</span> <span class="n">cardinality</span> <span class="o">=</span> <span class="n">template_search</span><span class="o">.</span><span class="n">groups</span><span class="p">()</span>
</span><span id="DeclareModel.parse-830"><a href="#DeclareModel.parse-830"><span class="linenos">830</span></a>                    <span class="n">template</span> <span class="o">=</span> <span class="n">DeclareModelTemplate</span><span class="o">.</span><span class="n">get_template_from_string</span><span class="p">(</span><span class="n">template_str</span><span class="p">)</span>
</span><span id="DeclareModel.parse-831"><a href="#DeclareModel.parse-831"><span class="linenos">831</span></a>                    <span class="k">if</span> <span class="n">template</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DeclareModel.parse-832"><a href="#DeclareModel.parse-832"><span class="linenos">832</span></a>                        <span class="n">activities</span> <span class="o">=</span> <span class="n">split</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;]&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="DeclareModel.parse-833"><a href="#DeclareModel.parse-833"><span class="linenos">833</span></a>                        <span class="n">activities</span> <span class="o">=</span> <span class="n">activities</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;, &quot;</span><span class="p">)</span>
</span><span id="DeclareModel.parse-834"><a href="#DeclareModel.parse-834"><span class="linenos">834</span></a>                        <span class="n">tmp</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;template&quot;</span><span class="p">:</span> <span class="n">template</span><span class="p">,</span> <span class="s2">&quot;activities&quot;</span><span class="p">:</span> <span class="n">activities</span><span class="p">,</span>
</span><span id="DeclareModel.parse-835"><a href="#DeclareModel.parse-835"><span class="linenos">835</span></a>                               <span class="s2">&quot;condition&quot;</span><span class="p">:</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\s+\|&#39;</span><span class="p">,</span> <span class="n">line</span><span class="p">)[</span><span class="mi">1</span><span class="p">:]}</span>
</span><span id="DeclareModel.parse-836"><a href="#DeclareModel.parse-836"><span class="linenos">836</span></a>                        <span class="k">if</span> <span class="n">template</span><span class="o">.</span><span class="n">supports_cardinality</span><span class="p">:</span>
</span><span id="DeclareModel.parse-837"><a href="#DeclareModel.parse-837"><span class="linenos">837</span></a>                            <span class="n">tmp</span><span class="p">[</span><span class="s1">&#39;n&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">cardinality</span> <span class="k">else</span> <span class="nb">int</span><span class="p">(</span><span class="n">cardinality</span><span class="p">)</span>
</span><span id="DeclareModel.parse-838"><a href="#DeclareModel.parse-838"><span class="linenos">838</span></a>                            <span class="n">cardinality</span> <span class="o">=</span> <span class="n">tmp</span><span class="p">[</span><span class="s1">&#39;n&#39;</span><span class="p">]</span>
</span><span id="DeclareModel.parse-839"><a href="#DeclareModel.parse-839"><span class="linenos">839</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">constraints</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tmp</span><span class="p">)</span>
</span><span id="DeclareModel.parse-840"><a href="#DeclareModel.parse-840"><span class="linenos">840</span></a>                        <span class="n">declare_parsed_model</span><span class="o">.</span><span class="n">add_template</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">template</span><span class="p">,</span> <span class="n">cardinality</span><span class="p">)</span>
</span><span id="DeclareModel.parse-841"><a href="#DeclareModel.parse-841"><span class="linenos">841</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_constraints</span><span class="p">()</span>
</span><span id="DeclareModel.parse-842"><a href="#DeclareModel.parse-842"><span class="linenos">842</span></a>        <span class="n">declare_parsed_model</span><span class="o">.</span><span class="n">template_constraints</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">constraints</span>
</span></pre></div>


    

                            </div>
                            <div id="DeclareModel.is_event_name_definition" class="classattr">
                                        <input id="DeclareModel.is_event_name_definition-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">is_event_name_definition</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">line</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>

                <label class="view-source-button" for="DeclareModel.is_event_name_definition-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareModel.is_event_name_definition"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareModel.is_event_name_definition-844"><a href="#DeclareModel.is_event_name_definition-844"><span class="linenos">844</span></a>    <span class="nd">@staticmethod</span>
</span><span id="DeclareModel.is_event_name_definition-845"><a href="#DeclareModel.is_event_name_definition-845"><span class="linenos">845</span></a>    <span class="k">def</span> <span class="nf">is_event_name_definition</span><span class="p">(</span><span class="n">line</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="DeclareModel.is_event_name_definition-846"><a href="#DeclareModel.is_event_name_definition-846"><span class="linenos">846</span></a>        <span class="n">x</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;^\w+ [\w ]+$&quot;</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">MULTILINE</span><span class="p">)</span>
</span><span id="DeclareModel.is_event_name_definition-847"><a href="#DeclareModel.is_event_name_definition-847"><span class="linenos">847</span></a>        <span class="k">return</span> <span class="n">x</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
</span></pre></div>


    

                            </div>
                            <div id="DeclareModel.is_event_attributes_definition" class="classattr">
                                        <input id="DeclareModel.is_event_attributes_definition-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">is_event_attributes_definition</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">line</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>

                <label class="view-source-button" for="DeclareModel.is_event_attributes_definition-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareModel.is_event_attributes_definition"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareModel.is_event_attributes_definition-849"><a href="#DeclareModel.is_event_attributes_definition-849"><span class="linenos">849</span></a>    <span class="nd">@staticmethod</span>
</span><span id="DeclareModel.is_event_attributes_definition-850"><a href="#DeclareModel.is_event_attributes_definition-850"><span class="linenos">850</span></a>    <span class="k">def</span> <span class="nf">is_event_attributes_definition</span><span class="p">(</span><span class="n">line</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="DeclareModel.is_event_attributes_definition-851"><a href="#DeclareModel.is_event_attributes_definition-851"><span class="linenos">851</span></a>        <span class="n">x</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s2">&quot;^bind (.*?)+$&quot;</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">MULTILINE</span><span class="p">)</span>
</span><span id="DeclareModel.is_event_attributes_definition-852"><a href="#DeclareModel.is_event_attributes_definition-852"><span class="linenos">852</span></a>        <span class="k">return</span> <span class="n">x</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
</span></pre></div>


    

                            </div>
                            <div id="DeclareModel.is_events_attrs_value_definition" class="classattr">
                                        <input id="DeclareModel.is_events_attrs_value_definition-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">is_events_attrs_value_definition</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">line</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>

                <label class="view-source-button" for="DeclareModel.is_events_attrs_value_definition-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareModel.is_events_attrs_value_definition"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareModel.is_events_attrs_value_definition-854"><a href="#DeclareModel.is_events_attrs_value_definition-854"><span class="linenos">854</span></a>    <span class="nd">@staticmethod</span>
</span><span id="DeclareModel.is_events_attrs_value_definition-855"><a href="#DeclareModel.is_events_attrs_value_definition-855"><span class="linenos">855</span></a>    <span class="k">def</span> <span class="nf">is_events_attrs_value_definition</span><span class="p">(</span><span class="n">line</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="DeclareModel.is_events_attrs_value_definition-856"><a href="#DeclareModel.is_events_attrs_value_definition-856"><span class="linenos">856</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DeclareModel.is_events_attrs_value_definition-857"><a href="#DeclareModel.is_events_attrs_value_definition-857"><span class="linenos">857</span></a><span class="sd">        categorical: c1, c2, c3</span>
</span><span id="DeclareModel.is_events_attrs_value_definition-858"><a href="#DeclareModel.is_events_attrs_value_definition-858"><span class="linenos">858</span></a><span class="sd">        categorical: group1:v1, group1:v2, group3:v1       &lt;-------- Fails to parse this line</span>
</span><span id="DeclareModel.is_events_attrs_value_definition-859"><a href="#DeclareModel.is_events_attrs_value_definition-859"><span class="linenos">859</span></a><span class="sd">        integer: integer between 0 and 100</span>
</span><span id="DeclareModel.is_events_attrs_value_definition-860"><a href="#DeclareModel.is_events_attrs_value_definition-860"><span class="linenos">860</span></a><span class="sd">        org:resource: 10</span>
</span><span id="DeclareModel.is_events_attrs_value_definition-861"><a href="#DeclareModel.is_events_attrs_value_definition-861"><span class="linenos">861</span></a><span class="sd">        org:resource, org:vote: 10</span>
</span><span id="DeclareModel.is_events_attrs_value_definition-862"><a href="#DeclareModel.is_events_attrs_value_definition-862"><span class="linenos">862</span></a><span class="sd">        org:vote, grade: 9</span>
</span><span id="DeclareModel.is_events_attrs_value_definition-863"><a href="#DeclareModel.is_events_attrs_value_definition-863"><span class="linenos">863</span></a><span class="sd">        org:categorical: integer between 0 and 100</span>
</span><span id="DeclareModel.is_events_attrs_value_definition-864"><a href="#DeclareModel.is_events_attrs_value_definition-864"><span class="linenos">864</span></a><span class="sd">        categorical: integer between 0 and 100</span>
</span><span id="DeclareModel.is_events_attrs_value_definition-865"><a href="#DeclareModel.is_events_attrs_value_definition-865"><span class="linenos">865</span></a><span class="sd">        base, mark: integer between 0 and 100</span>
</span><span id="DeclareModel.is_events_attrs_value_definition-866"><a href="#DeclareModel.is_events_attrs_value_definition-866"><span class="linenos">866</span></a><span class="sd">        org:res, grade, concept:name: integer between 0 and 100</span>
</span><span id="DeclareModel.is_events_attrs_value_definition-867"><a href="#DeclareModel.is_events_attrs_value_definition-867"><span class="linenos">867</span></a><span class="sd">        :param line: declare line</span>
</span><span id="DeclareModel.is_events_attrs_value_definition-868"><a href="#DeclareModel.is_events_attrs_value_definition-868"><span class="linenos">868</span></a><span class="sd">        :return:</span>
</span><span id="DeclareModel.is_events_attrs_value_definition-869"><a href="#DeclareModel.is_events_attrs_value_definition-869"><span class="linenos">869</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DeclareModel.is_events_attrs_value_definition-870"><a href="#DeclareModel.is_events_attrs_value_definition-870"><span class="linenos">870</span></a>        <span class="n">x</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;^(?!bind)([a-zA-Z_,0-9.?:\- ]+) *(: *[\w,.? \-]+)$&quot;</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">MULTILINE</span><span class="p">)</span>
</span><span id="DeclareModel.is_events_attrs_value_definition-871"><a href="#DeclareModel.is_events_attrs_value_definition-871"><span class="linenos">871</span></a>        <span class="k">if</span> <span class="n">x</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DeclareModel.is_events_attrs_value_definition-872"><a href="#DeclareModel.is_events_attrs_value_definition-872"><span class="linenos">872</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="DeclareModel.is_events_attrs_value_definition-873"><a href="#DeclareModel.is_events_attrs_value_definition-873"><span class="linenos">873</span></a>        <span class="n">groups_len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">groups</span><span class="p">())</span>
</span><span id="DeclareModel.is_events_attrs_value_definition-874"><a href="#DeclareModel.is_events_attrs_value_definition-874"><span class="linenos">874</span></a>        <span class="k">return</span> <span class="n">groups_len</span> <span class="o">&gt;=</span> <span class="mi">2</span>
</span></pre></div>


            <div class="docstring"><p>categorical: c1, c2, c3
categorical: group1:v1, group1:v2, group3:v1       &lt;-------- Fails to parse this line
integer: integer between 0 and 100
org:resource: 10
org:resource, org:vote: 10
org:vote, grade: 9
org:categorical: integer between 0 and 100
categorical: integer between 0 and 100
base, mark: integer between 0 and 100
org:res, grade, concept:name: integer between 0 and 100</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>line</strong>:  declare line</li>
</ul>

<h6 id="returns">Returns</h6>
</div>


                            </div>
                            <div id="DeclareModel.is_constraint_template_definition" class="classattr">
                                        <input id="DeclareModel.is_constraint_template_definition-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">is_constraint_template_definition</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">line</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>

                <label class="view-source-button" for="DeclareModel.is_constraint_template_definition-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareModel.is_constraint_template_definition"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareModel.is_constraint_template_definition-876"><a href="#DeclareModel.is_constraint_template_definition-876"><span class="linenos">876</span></a>    <span class="nd">@staticmethod</span>
</span><span id="DeclareModel.is_constraint_template_definition-877"><a href="#DeclareModel.is_constraint_template_definition-877"><span class="linenos">877</span></a>    <span class="k">def</span> <span class="nf">is_constraint_template_definition</span><span class="p">(</span><span class="n">line</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="DeclareModel.is_constraint_template_definition-878"><a href="#DeclareModel.is_constraint_template_definition-878"><span class="linenos">878</span></a>        <span class="n">x</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">DeclareModel</span><span class="o">.</span><span class="n">CONSTRAINTS_TEMPLATES_PATTERN</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">MULTILINE</span><span class="p">)</span>
</span><span id="DeclareModel.is_constraint_template_definition-879"><a href="#DeclareModel.is_constraint_template_definition-879"><span class="linenos">879</span></a>        <span class="k">return</span> <span class="n">x</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
</span></pre></div>


    

                            </div>
                            <div id="DeclareModel.detect_declare_attr_value_type" class="classattr">
                                        <input id="DeclareModel.detect_declare_attr_value_type-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">detect_declare_attr_value_type</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">value</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="n"><a href="#DeclareModelAttributeType">src.declare4py.ProcessModels.DeclareModel.DeclareModelAttributeType</a></span>:</span></span>

                <label class="view-source-button" for="DeclareModel.detect_declare_attr_value_type-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DeclareModel.detect_declare_attr_value_type"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DeclareModel.detect_declare_attr_value_type-881"><a href="#DeclareModel.detect_declare_attr_value_type-881"><span class="linenos">881</span></a>    <span class="nd">@staticmethod</span>
</span><span id="DeclareModel.detect_declare_attr_value_type-882"><a href="#DeclareModel.detect_declare_attr_value_type-882"><span class="linenos">882</span></a>    <span class="k">def</span> <span class="nf">detect_declare_attr_value_type</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DeclareModelAttributeType</span><span class="p">:</span>
</span><span id="DeclareModel.detect_declare_attr_value_type-883"><a href="#DeclareModel.detect_declare_attr_value_type-883"><span class="linenos">883</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DeclareModel.detect_declare_attr_value_type-884"><a href="#DeclareModel.detect_declare_attr_value_type-884"><span class="linenos">884</span></a><span class="sd">        Detect the type of value assigned to an attribute assigned</span>
</span><span id="DeclareModel.detect_declare_attr_value_type-885"><a href="#DeclareModel.detect_declare_attr_value_type-885"><span class="linenos">885</span></a><span class="sd">        Parameters</span>
</span><span id="DeclareModel.detect_declare_attr_value_type-886"><a href="#DeclareModel.detect_declare_attr_value_type-886"><span class="linenos">886</span></a><span class="sd">        ----------</span>
</span><span id="DeclareModel.detect_declare_attr_value_type-887"><a href="#DeclareModel.detect_declare_attr_value_type-887"><span class="linenos">887</span></a><span class="sd">        value: assigned value</span>
</span><span id="DeclareModel.detect_declare_attr_value_type-888"><a href="#DeclareModel.detect_declare_attr_value_type-888"><span class="linenos">888</span></a><span class="sd">        Returns DeclareModelAttributeType</span>
</span><span id="DeclareModel.detect_declare_attr_value_type-889"><a href="#DeclareModel.detect_declare_attr_value_type-889"><span class="linenos">889</span></a><span class="sd">        -------</span>
</span><span id="DeclareModel.detect_declare_attr_value_type-890"><a href="#DeclareModel.detect_declare_attr_value_type-890"><span class="linenos">890</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DeclareModel.detect_declare_attr_value_type-891"><a href="#DeclareModel.detect_declare_attr_value_type-891"><span class="linenos">891</span></a>        <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="DeclareModel.detect_declare_attr_value_type-892"><a href="#DeclareModel.detect_declare_attr_value_type-892"><span class="linenos">892</span></a>        <span class="n">v2</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;  &quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="DeclareModel.detect_declare_attr_value_type-893"><a href="#DeclareModel.detect_declare_attr_value_type-893"><span class="linenos">893</span></a>        <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;^[+-]?\d+$&quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">MULTILINE</span><span class="p">):</span>
</span><span id="DeclareModel.detect_declare_attr_value_type-894"><a href="#DeclareModel.detect_declare_attr_value_type-894"><span class="linenos">894</span></a>            <span class="k">return</span> <span class="n">DeclareModelAttributeType</span><span class="o">.</span><span class="n">INTEGER</span>
</span><span id="DeclareModel.detect_declare_attr_value_type-895"><a href="#DeclareModel.detect_declare_attr_value_type-895"><span class="linenos">895</span></a>        <span class="k">elif</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;^[+-]?\d+(?:\.\d+)?$&quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">MULTILINE</span><span class="p">):</span>
</span><span id="DeclareModel.detect_declare_attr_value_type-896"><a href="#DeclareModel.detect_declare_attr_value_type-896"><span class="linenos">896</span></a>            <span class="k">return</span> <span class="n">DeclareModelAttributeType</span><span class="o">.</span><span class="n">FLOAT</span>
</span><span id="DeclareModel.detect_declare_attr_value_type-897"><a href="#DeclareModel.detect_declare_attr_value_type-897"><span class="linenos">897</span></a>        <span class="k">elif</span> <span class="n">v2</span> <span class="ow">and</span> <span class="n">v2</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;integer between&quot;</span><span class="p">):</span>
</span><span id="DeclareModel.detect_declare_attr_value_type-898"><a href="#DeclareModel.detect_declare_attr_value_type-898"><span class="linenos">898</span></a>            <span class="c1"># ^integer * between *[+-]?\d+(?:\.\d+)? *and [+-]?\d+(?:\.\d+)?$</span>
</span><span id="DeclareModel.detect_declare_attr_value_type-899"><a href="#DeclareModel.detect_declare_attr_value_type-899"><span class="linenos">899</span></a>            <span class="k">return</span> <span class="n">DeclareModelAttributeType</span><span class="o">.</span><span class="n">INTEGER_RANGE</span>
</span><span id="DeclareModel.detect_declare_attr_value_type-900"><a href="#DeclareModel.detect_declare_attr_value_type-900"><span class="linenos">900</span></a>        <span class="k">elif</span> <span class="n">v2</span> <span class="ow">and</span> <span class="n">v2</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;float between&quot;</span><span class="p">):</span>
</span><span id="DeclareModel.detect_declare_attr_value_type-901"><a href="#DeclareModel.detect_declare_attr_value_type-901"><span class="linenos">901</span></a>            <span class="c1"># ^float * between *[+-]?\d+(?:\.\d+)? *and [+-]?\d+(?:\.\d+)?$</span>
</span><span id="DeclareModel.detect_declare_attr_value_type-902"><a href="#DeclareModel.detect_declare_attr_value_type-902"><span class="linenos">902</span></a>            <span class="k">return</span> <span class="n">DeclareModelAttributeType</span><span class="o">.</span><span class="n">FLOAT_RANGE</span>
</span><span id="DeclareModel.detect_declare_attr_value_type-903"><a href="#DeclareModel.detect_declare_attr_value_type-903"><span class="linenos">903</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="DeclareModel.detect_declare_attr_value_type-904"><a href="#DeclareModel.detect_declare_attr_value_type-904"><span class="linenos">904</span></a>            <span class="k">return</span> <span class="n">DeclareModelAttributeType</span><span class="o">.</span><span class="n">ENUMERATION</span>
</span></pre></div>


            <div class="docstring"><p>Detect the type of value assigned to an attribute assigned</p>

<h2 id="parameters">Parameters</h2>

<p>value: assigned value</p>

<h2 id="returns-declaremodelattributetype">Returns DeclareModelAttributeType</h2>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="AbstractModel.html#ProcessModel">src.declare4py.ProcessModels.AbstractModel.ProcessModel</a></dt>
                                <dd id="DeclareModel.get_model_activities" class="function"><a href="AbstractModel.html#ProcessModel.get_model_activities">get_model_activities</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
    </main>
<script>
    function escapeHTML(html) {
        return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;
    }

    const originalContent = document.querySelector("main.pdoc");
    let currentContent = originalContent;

    function setContent(innerHTML) {
        let elem;
        if (innerHTML) {
            elem = document.createElement("main");
            elem.classList.add("pdoc");
            elem.innerHTML = innerHTML;
        } else {
            elem = originalContent;
        }
        if (currentContent !== elem) {
            currentContent.replaceWith(elem);
            currentContent = elem;
        }
    }

    function getSearchTerm() {
        return (new URL(window.location)).searchParams.get("search");
    }

    const searchBox = document.querySelector(".pdoc input[type=search]");
    searchBox.addEventListener("input", function () {
        let url = new URL(window.location);
        if (searchBox.value.trim()) {
            url.hash = "";
            url.searchParams.set("search", searchBox.value);
        } else {
            url.searchParams.delete("search");
        }
        history.replaceState("", "", url.toString());
        onInput();
    });
    window.addEventListener("popstate", onInput);


    let search, searchErr;

    async function initialize() {
        try {
            search = await new Promise((resolve, reject) => {
                const script = document.createElement("script");
                script.type = "text/javascript";
                script.async = true;
                script.onload = () => resolve(window.pdocSearch);
                script.onerror = (e) => reject(e);
                script.src = "../../../search.js";
                document.getElementsByTagName("head")[0].appendChild(script);
            });
        } catch (e) {
            console.error("Cannot fetch pdoc search index");
            searchErr = "Cannot fetch search index.";
        }
        onInput();

        document.querySelector("nav.pdoc").addEventListener("click", e => {
            if (e.target.hash) {
                searchBox.value = "";
                searchBox.dispatchEvent(new Event("input"));
            }
        });
    }

    function onInput() {
        setContent((() => {
            const term = getSearchTerm();
            if (!term) {
                return null
            }
            if (searchErr) {
                return `<h3>Error: ${searchErr}</h3>`
            }
            if (!search) {
                return "<h3>Searching...</h3>"
            }

            window.scrollTo({top: 0, left: 0, behavior: 'auto'});

            const results = search(term);

            let html;
            if (results.length === 0) {
                html = `No search results for '${escapeHTML(term)}'.`
            } else {
                html = `<h4>${results.length} search result${results.length > 1 ? "s" : ""} for '${escapeHTML(term)}'.</h4>`;
            }
            for (let result of results.slice(0, 10)) {
                let doc = result.doc;
                let url = `../../../${doc.modulename.replaceAll(".", "/")}.html`;
                if (doc.qualname) {
                    url += `#${doc.qualname}`;
                }

                let heading;
                switch (result.doc.kind) {
                    case "function":
                        if (doc.fullname.endsWith(".__init__")) {
                            heading = `<span class="name">${doc.fullname.replace(/\.__init__$/, "")}</span>${doc.signature}`;
                        } else {
                            heading = `<span class="def">${doc.funcdef}</span> <span class="name">${doc.fullname}</span>${doc.signature}`;
                        }
                        break;
                    case "class":
                        heading = `<span class="def">class</span> <span class="name">${doc.fullname}</span>`;
                        if (doc.bases)
                            heading += `<wbr>(<span class="base">${doc.bases}</span>)`;
                        heading += `:`;
                        break;
                    case "variable":
                        heading = `<span class="name">${doc.fullname}</span>`;
                        if (doc.annotation)
                            heading += `<span class="annotation">${doc.annotation}</span>`;
                        if (doc.default_value)
                            heading += `<span class="default_value">${doc.default_value}</span>`;
                        break;
                    default:
                        heading = `<span class="name">${doc.fullname}</span>`;
                        break;
                }
                html += `
                        <section class="search-result">
                        <a href="${url}" class="attr ${doc.kind}">${heading}</a>
                        <div class="docstring">${doc.doc}</div>
                        </section>
                    `;

            }
            return html;
        })());
    }

    if (getSearchTerm()) {
        initialize();
        searchBox.value = getSearchTerm();
        onInput();
    } else {
        searchBox.addEventListener("focus", initialize, {once: true});
    }

    searchBox.addEventListener("keydown", e => {
        if (["ArrowDown", "ArrowUp", "Enter"].includes(e.key)) {
            let focused = currentContent.querySelector(".search-result.focused");
            if (!focused) {
                currentContent.querySelector(".search-result").classList.add("focused");
            } else if (
                e.key === "ArrowDown"
                && focused.nextElementSibling
                && focused.nextElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.nextElementSibling.classList.add("focused");
                focused.nextElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "ArrowUp"
                && focused.previousElementSibling
                && focused.previousElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.previousElementSibling.classList.add("focused");
                focused.previousElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "Enter"
            ) {
                focused.querySelector("a").click();
            }
        }
    });
</script></body>
</html>